import{n as a,h as o,b as r,a as n}from"./index-BR-PFC2m.js";const d={name:"BaseFilterDescription",components:{BaseChip:n,BaseDialog:r,BaseText:o},props:{filter:{type:Object,default(){return{}}},filter2:{type:Object,default(){return{}}},filter3:{type:Object,default(){return{}}},useWhatFilter:{type:Number,default:0},loading:{type:Boolean,default:!1},asFilterLabel:{type:Boolean,default:!1},hideIfEmpty:{type:Boolean,default:!1},emitDescResolved:{type:Boolean,default:!1},showTitle:{type:Boolean,default:!0},isKing:{type:Boolean,default:!1},user:{required:!1},ready:{required:!1}},data(){return{renameDialog:!1,renameModel:null,renameFilterNumber:0}},watch:{},beforeMount(){},mounted(){},computed:{hasFilter2(){return this.filter2&&Object.keys(this.filter2).length>0},hasFilter3(){return this.filter3&&Object.keys(this.filter3).length>0},currentFilter(){return this.useWhatFilter===1&&this.hasFilter2?this.filter2:this.useWhatFilter===2&&this.hasFilter3?this.filter3:this.filter},descResolved(){let t=this.currentFilter;if(Object.keys(t).length===0)return[];let e=[];return t.yearModel&&JSON.stringify(t.yearModel)!=="[1910,2025]"&&e.push({label:this.$tc("c_year",2),value:t.yearModel.join("-")}),t.rqModel&&JSON.stringify(t.rqModel)!=="[10,119]"&&e.push({label:"RQ",value:t.rqModel.join("-")}),t.seatsModel&&JSON.stringify(t.seatsModel)!=="[1,9]"&&e.push({label:this.$t("c_seats"),value:t.seatsModel.join("-")}),t.topSpeedModel&&JSON.stringify(t.topSpeedModel)!=="[25,330]"&&e.push({label:this.$t("c_topSpeed"),value:t.topSpeedModel.join("-")}),t.acelModel&&JSON.stringify(t.acelModel)!=="[1.5,40]"&&e.push({label:"0-60",value:t.acelModel.join("-")}),t.handModel&&JSON.stringify(t.handModel)!=="[30,110]"&&e.push({label:this.$t("c_handling"),value:t.handModel.join("-")}),t.mraModel&&JSON.stringify(t.mraModel)!=="[0,160]"&&e.push({label:"MRA",value:t.mraModel.join("-")}),t.weightModel&&JSON.stringify(t.weightModel)!=="[300,7000]"&&e.push({label:this.$t("c_weight"),value:t.weightModel.join("-")}),t.tunesModel&&t.tunesModel.length>0&&e.push({label:this.$t("c_tune"),value:t.tunesModel.join(", ")}),t.classesModel&&t.classesModel.length>0&&e.push({label:this.$tc("c_class",1),value:t.classesModel.join(", ")}),t.tyresModel&&t.tyresModel.length>0&&e.push({label:this.$tc("c_tyre",1),value:t.tyresModel.map(l=>this.$t(`c_${l.toLowerCase()}`)).join(", ")}),t.drivesModel&&t.drivesModel.length>0&&e.push({label:this.$tc("c_drive",1),value:t.drivesModel.join(", ")}),t.clearancesModel&&t.clearancesModel.length>0&&e.push({label:this.$tc("c_clearance",1),value:t.clearancesModel.map(l=>this.$t(`c_${l.toLowerCase()}`)).join(", ")}),t.countrysModel&&t.countrysModel.length>0&&e.push({label:this.$tc("c_country",1),value:t.countrysModel.join(", ")}),t.prizesModel&&t.prizesModel.length>0&&e.push({label:this.$t("c_prizeCar"),value:t.prizesModel.map(l=>this.$t(`c_${l.toLowerCase()}`)).join(", ")}),t.bodyTypesModel&&t.bodyTypesModel.length>0&&e.push({label:this.$t("c_bodyStyle"),value:t.bodyTypesModel.map(l=>this.$t(`c_${l.toLowerCase()}`)).join(", ")}),t.fuelModel&&t.fuelModel.length>0&&e.push({label:this.$t("c_fuel"),value:t.fuelModel.map(l=>this.$t(`c_${l.toLowerCase()}`)).join(", ")}),t.engineModel&&t.engineModel.length>0&&e.push({label:this.$t("c_enginePos"),value:t.engineModel.map(l=>this.$t(`c_${l.toLowerCase()}Engine`)).join(", ")}),t.brakeModel&&t.brakeModel.length>0&&e.push({label:this.$t("c_brakeClass"),value:t.brakeModel.join(", ")}),t.tcsModel&&t.tcsModel.length>0&&e.push({label:this.$t("c_tcs"),value:t.tcsModel.join(", ")}),t.absModel&&t.absModel.length>0&&e.push({label:this.$t("c_abs"),value:t.absModel.join(", ")}),t.tagsModel&&t.tagsModel.length>0&&e.push({label:this.$tc("c_tag",1),value:t.tagsModel.join(", ")}),t.tags2Model&&t.tags2Model.length>0&&e.push({label:this.$tc("c_tag",1),value:t.tags2Model.join(", ")}),t.tags3Model&&t.tags3Model.length>0&&e.push({label:this.$tc("c_tag",1),value:t.tags3Model.join(", ")}),t.brandsModel&&t.brandsModel.length>0&&e.push({label:this.$tc("c_brand",1),value:t.brandsModel.join(", ")}),t.year2Model&&t.year2Model.length>0&&e.push({label:this.$tc("c_year",2),value:t.year2Model.join(", ")}),t.seats2Model&&t.seats2Model.length>0&&e.push({label:this.$t("c_seats"),value:t.seats2Model.join(", ")}),this.emitDescResolved&&this.$emit("descResolved",e),e}},methods:{chipClick(t,e){if(t&&typeof t=="object"&&t.e&&(t.e.ctrlKey||t.e.metaKey)&&this.user&&this.user.mod){this.renameDialog=!0,this.renameModel=null,this.renameFilterNumber=e,this[`filter${e+1>1?e+1:""}`].name&&(this.renameModel=this[`filter${e+1>1?e+1:""}`].name),setTimeout(()=>{try{document.querySelector("#Filter_Rename").focus()}catch{}},10);return}this.$emit("useFilter",e)},closeRenameDialog(){this.renameDialog=!1,this.renameModel&&this.renameModel.length<10&&this.$emit("newNameFilter",{n:this.renameFilterNumber,newName:this.renameModel})}}};var u=function(){var e=this,l=e._self._c;return l("div",{staticClass:"Main_DarkScroll BaseFilterDescription_Root"},[e.currentFilter!==void 0&&(!e.hideIfEmpty||e.descResolved.length>0)?[e.hasFilter2||e.hasFilter3?l("div",{staticClass:"BaseFilterDescription_MultiBox"},[e._l(3,function(s){return[s===1||s===2&&e.hasFilter2||s===3&&e.hasFilter3?l("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseChip_SmallWide",attrs:{inputValue:e.useWhatFilter,disabled:e.loading,required:"true",allowCtrl:!0,value:s-1,label:`${s===1?e.filter.name||s:s===2?e.filter2.name||s:s===3?e.filter3.name||s:""}`},on:{click:function(i){return e.chipClick(i,s-1)}}}):e._e()]})],2):e.showTitle?l("div",{staticClass:"Cg_ReqsTitle"},[e._v(e._s(e.asFilterLabel?e.$tc("m_filter",1):e.$t("m_requirements")))]):e._e(),l("div",{staticClass:"Cg_Reqs"},[l("div",{staticClass:"BaseFilterDescription_Layout"},[e._l(e.descResolved,function(s){return l("div",{staticClass:"BaseFilterDescription_Item"},[l("div",{staticClass:"BaseFilterDescription_Label"},[e._v(e._s(s.label))]),l("div",{staticClass:"BaseFilterDescription_Value"},[e._v(e._s(s.value))])])}),e.descResolved.length===0?l("div",{staticClass:"BaseFilterDescription_Empty"},[e._v(e._s(e.$t("m_empty")))]):e._e()],2),!e.loading&&e.ready&&e.user&&e.user.mod||e.isKing?l("div",{staticClass:"BaseFilterDescription_Bottom Cg_FilterButtons"},[l("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 Cg_TopButton",on:{click:function(s){return e.$emit("changeClick",s)}}},[e._v(e._s(e.currentFilter?"Change":"Requirements"))])]):e._e()])]:e._e(),e._t("footer"),l("portal",{attrs:{to:"app_dialogs"}},[e.hasFilter2||e.hasFilter3?l("BaseDialog",{attrs:{active:e.renameDialog,transparent:!1,"max-width":"420px","min-width":"240px"},on:{close:function(s){return e.closeRenameDialog()}}},[l("div",{staticClass:"Main_TuneDialog"},[l("BaseText",{staticClass:"BaseText_Big",attrs:{iid:"Filter_Rename",type:"normal",label:`${e.$t("c_name")} - Filter ${e.renameFilterNumber+1}`,placeholder:"e.g. 2x or 3x"},on:{enter:function(s){return e.closeRenameDialog()}},model:{value:e.renameModel,callback:function(s){e.renameModel=s},expression:"renameModel"}})],1)]):e._e()],1)],2)},h=[],c=a(d,u,h,!1,null,null);const p=c.exports;export{p as B};
