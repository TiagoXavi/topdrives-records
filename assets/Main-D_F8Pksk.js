const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BaseFilterDialog-b2RE-qND.js","assets/index-BR-PFC2m.js","assets/index-CuD3hNUy.css","assets/BaseDualSlider-4dZ1Waol.js","assets/BaseDualSlider-DCY_NGXf.css","assets/BaseExpandDiv-1VZq3Ohy.js","assets/BaseExpandDiv-B1JyCPLV.css","assets/BaseFilterDialog-DyuiyOIu.css"])))=>i.map(i=>d[i]);
import{n as v,B as b,a as k,b as D,L as B,c as C,d as R,e as w,f as M,g as L,h as $,i as x,j as F,_ as T,t as N}from"./index-BR-PFC2m.js";import{C as I}from"./Car-CQ6DFsNz.js";import{B as A,a as E,b as O,R as P}from"./Row-DOgu6NRG.js";import{B as G}from"./BaseCard-CTEQO1B5.js";import{B as q}from"./BaseSearchTrackDialog-CBBcnIL0.js";import{B as V,a as y,b as z,c as U}from"./BaseFilterDialog-b2RE-qND.js";import{B as K}from"./BaseDualSlider-4dZ1Waol.js";import{B as J,a as H}from"./BaseExpandDiv-1VZq3Ohy.js";import{B as W}from"./BaseFilterDescription-BffbdYBC.js";import{B as j}from"./BaseEventTrackbox-DgydCU7s.js";import{B as X}from"./BaseSwitch-73_A2zYp.js";import{B as Y}from"./BaseBrakeDialog-DfcYGPU_.js";import{B as Z}from"./BaseCardGallery-D4R06ceq.js";import{c as Q}from"./campaign-Dapxa4yk.js";import{B as ee}from"./BaseCarsTeam-CVFwZv8E.js";import{B as te}from"./BaseCarList-CYxUJR2z.js";const se={name:"Loading",components:{},props:{test:{type:Boolean,default:!1}},data(){return{}},watch:{},beforeMount(){},mounted(){},computed:{},methods:{}};var ae=function(){var e=this;return e._self._c,e._m(0)},ie=[function(){var a=this,e=a._self._c;return e("div",{staticClass:"Loading_Layout"},[e("div",{staticClass:"v-progress-linear BaseLinearProgress_Layout Toolbar_LinearProgress",staticStyle:{height:"7px"},attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100"}},[e("div",{staticClass:"v-progress-linear__background grey lighten-4",staticStyle:{height:"7px",opacity:"0",width:"100%"}}),e("div",{staticClass:"v-progress-linear__bar"},[e("div",{staticClass:"v-progress-linear__bar__indeterminate v-progress-linear__bar__indeterminate--active"},[e("div",{staticClass:"v-progress-linear__bar__indeterminate long grey lighten-4"}),e("div",{staticClass:"v-progress-linear__bar__indeterminate short grey lighten-4"})])])])])}],re=v(se,ae,ie,!1,null,null);const ne=re.exports,le={name:"BaseMemoryDialog",components:{BaseDialog:D,BaseGalleryItem:V,BaseDualSlider:K,BaseChip:k,BaseFlag:b},model:{prop:"active",event:"close"},props:{active:{type:[Boolean,String],default:!1},memory:{type:Array,default(){return[]}}},data(){return{unsubscribe:null,searchFilters:{},isFiltering:!1,searchInput:"",debounceFilter:null,searchResult:[],filterCount:0,searchStr:"",oldSearchStr:"",filterActive:!1}},watch:{active:function(){this.active&&this.openDialogSearch()}},beforeMount(){let a=this;a.unsubscribe=a.$store.subscribe(e=>{e.type=="MEMORY_REF_RETURN"&&(a.searchFilters=JSON.parse(JSON.stringify(e.payload.returnRef.searchFilters)),a.defaultFilters=e.payload.returnRef.defaultFilters,a.filterCheckBetween=e.payload.returnRef.filterCheckBetween,a.filterCheckIncludes=e.payload.returnRef.filterCheckIncludes,a.filterCheckIncludesArray=e.payload.returnRef.filterCheckIncludesArray,a.clearFilter())}),this.$store.commit("MAIN_FILTER_REF",{returnName:"MEMORY_REF_RETURN"})},beforeDestroy(){this.unsubscribe()},mounted(){this.debounceFilter=Vue.debounce(this.changeFilterViaText,500)},computed:{memoryResult(){if(this.searchStr===""&&(this.oldSearchStr=this.searchStr),this.filterCount>0||this.oldSearchStr!==this.searchStr){this.oldSearchStr=this.searchStr;let a=JSON.parse(JSON.stringify(this.memory));return a=a.filter(e=>!(!e||this.searchStr!==""&&e.name.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").indexOf(this.searchStr)===-1||!this.filterCheckBetween(e.minyear,this.searchFilters.yearModel)||!this.filterCheckBetween(e.maxyear,this.searchFilters.yearModel)||!this.filterCheckBetween(e.minrq,this.searchFilters.rqModel)||!this.filterCheckBetween(e.maxrq,this.searchFilters.rqModel)||!this.filterCheckIncludesArray(e.drive,this.searchFilters.drivesModel)||!this.filterCheckIncludesArray(e.class,this.searchFilters.classesModel)||!this.filterCheckIncludesArray(e.clearance,this.searchFilters.clearancesModel)||!this.filterCheckIncludesArray(e.tag,this.searchFilters.tagsModel)||!this.filterCheckIncludesArray(e.tyre,this.searchFilters.tyresModel)||!this.filterCheckIncludesArray(e.country,this.searchFilters.countrysModel)||!this.filterCheckIncludesArray(e.brand,this.searchFilters.brandsModel))),this.filterActive=!0,a}else return this.filterActive=!1,this.memory}},methods:{openDialogSearch(){this.firstTimeOpen&&this.changeFilterT(),this.firstTimeOpen=!1,this.isFiltering=!1,this.searchInput="",setTimeout(()=>{document.querySelectorAll(".Main_SearchMid").forEach(a=>{a.scrollTo({top:0})})},10)},searchInputFunc(a){this.debounceFilter()},changeFilterViaText(){this.changeFilter(!0)},changeFilter(a){this.searchStr=this.searchInput.trim().toLowerCase().replace(/  +/g," ").normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""),this.resolveFilterCount()},resolveFilterCount(a){let e={yearModel:this.defaultFilters("yearModel"),rqModel:this.defaultFilters("rqModel"),topSpeedModel:this.defaultFilters("topSpeedModel"),acelModel:this.defaultFilters("acelModel"),handModel:this.defaultFilters("handModel"),mraModel:this.defaultFilters("mraModel"),weightModel:this.defaultFilters("weightModel"),seatsModel:this.defaultFilters("seatsModel"),tunesModel:[],classesModel:[],tyresModel:[],drivesModel:[],clearancesModel:[],countrysModel:[],prizesModel:[],customTagsModel:[],bodyTypesModel:[],fuelModel:[],engineModel:[],brakeModel:[],tagsModel:[],tags2Model:[],tags3Model:[],brandsModel:[],typesModel:[],approveModel:!1},t=0,s={},i=this.searchFilters;return a&&(i=a),Object.keys(i).forEach(function(r){r.includes("Model")&&e[r]!==void 0&&JSON.stringify(i[r])!==JSON.stringify(e[r])&&(t++,s[r.replace("Model","")]=i[r])}),a||(this.filterCount=t),s},openFilter(){this.isFiltering=!this.isFiltering,document.querySelectorAll(".Main_SearchMid").forEach(a=>{a.scrollTo({top:0})})},applyFilter(){this.changeFilter(),this.isFiltering=!1,document.querySelectorAll(".Main_SearchMid").forEach(a=>{a.scrollTo({top:0})})},closeFilterText(){this.searchInput="",this.clearFilter(),this.changeFilter()},clearFilter(a){this.searchFilters.yearModel=this.defaultFilters("yearModel"),this.searchFilters.rqModel=this.defaultFilters("rqModel"),this.searchFilters.topSpeedModel=this.defaultFilters("topSpeedModel"),this.searchFilters.acelModel=this.defaultFilters("acelModel"),this.searchFilters.handModel=this.defaultFilters("handModel"),this.searchFilters.mraModel=this.defaultFilters("mraModel"),this.searchFilters.weightModel=this.defaultFilters("weightModel"),this.searchFilters.seatsModel=this.defaultFilters("seatsModel"),this.searchFilters.tunesModel=[],this.searchFilters.classesModel=[],this.searchFilters.tyresModel=[],this.searchFilters.drivesModel=[],this.searchFilters.clearancesModel=[],this.searchFilters.countrysModel=[],this.searchFilters.prizesModel=[],this.searchFilters.customTagsModel=[],this.searchFilters.bodyTypesModel=[],this.searchFilters.fuelModel=[],this.searchFilters.engineModel=[],this.searchFilters.brakeModel=[],this.searchFilters.tagsModel=[],this.searchFilters.tags2Model=[],this.searchFilters.tags3Model=[],this.searchFilters.brandsModel=[],this.searchFilters.typesModel=[],this.searchFilters.approveModel=!1},download(){let a=`TDR_Memory_${new Date().toISOString().slice(0,-5)}.json`,e=JSON.stringify(this.memory),t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download",a),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},loadFile(a){let e=a.target.files[0],t=new FileReader;t.onload=this.onload,t.readAsText(e)},onload(a){let e=a.target.result,t=JSON.parse(e);this.$emit("import",t)}}};var oe=function(){var e=this,t=e._self._c;return t("BaseDialog",{attrs:{active:e.active,isStatic:!0,grow:!0,transparent:!0,lazy:!0,maxWidth:"880px"},on:{close:function(s){return e.$emit("close")}}},[t("div",{staticClass:"Main_SearchBody BaseFilterDialog_Box"},[t("div",{staticClass:"Main_SearchHeader"},[e.isFiltering?e._e():t("div",{staticClass:"Main_SearchFieldBox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchInput,expression:"searchInput"}],staticClass:"D_SearchInput data-hj-allow",attrs:{id:"`SearchInputMemory`",placeholder:e.$t("m_search"),type:"search",autocomplete:"off"},domProps:{value:e.searchInput},on:{input:[function(s){s.target.composing||(e.searchInput=s.target.value)},function(s){return e.searchInputFunc()}]}}),e.filterActive?t("button",{staticClass:"D_Button D_SearchInputClose",on:{click:function(s){return e.closeFilterText()}}},[t("i",{staticClass:"ticon-close_2",attrs:{"aria-hidden":"true"}})]):e._e()]),e.isFiltering?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonNoActive Main_FiltersButton",on:{click:function(s){return e.applyFilter()}}},[e._v(e._s(e.$t("m_done")))]):t("button",{staticClass:"D_Button D_ButtonDark D_ButtonNoActive Main_FiltersButton",on:{click:function(s){return e.openFilter()}}},[t("div",[e._v(e._s(e.$tc("m_filter",2)))]),e.filterCount>0&&e.memoryResult&&e.memoryResult.length>0?t("div",{staticStyle:{"font-size":"0.5em"}},[e._v("("+e._s(e.memoryResult.length)+")")]):e._e(),e.filterCount>0?t("span",{staticClass:"Main_FiltersButtonCount"},[e._v(e._s(e.filterCount))]):e._e()])]),e.isFiltering?t("div",{staticClass:"Main_SearchMid BaseFilterDialog_Mid"},[t("div",{staticClass:"Main_FilterItems"},[t("div",{staticClass:"Main_FilterClearTop"},[t("div",{staticClass:"BaseFilterDialog_ButtonsTop"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonBig",on:{click:function(s){return e.clearFilter()}}},[e._v(e._s(e.$t("m_clear")))])])]),t("div",{staticClass:"Main_FilterChips Main_FilterClassChips"},[e._l(e.searchFilters.classes,function(s,i){return[t("BaseChip",{staticClass:"Main_ClassChip",style:`--classC: ${e.searchFilters.classesColors[i]}`,attrs:{activeClass:"Main_ClassChipActive",value:s},model:{value:e.searchFilters.classesModel,callback:function(r){e.$set(e.searchFilters,"classesModel",r)},expression:"searchFilters.classesModel"}})]})],2),t("BaseDualSlider",{staticClass:"Main_FilterSlider",attrs:{min:e.searchFilters.rqStart,max:e.searchFilters.rqEnd,label:"RQ"},model:{value:e.searchFilters.rqModel,callback:function(s){e.$set(e.searchFilters,"rqModel",s)},expression:"searchFilters.rqModel"}}),t("BaseDualSlider",{staticClass:"Main_FilterSlider",attrs:{min:e.searchFilters.yearStart,max:e.searchFilters.yearEnd,label:e.$tc("c_year",1)},model:{value:e.searchFilters.yearModel,callback:function(s){e.$set(e.searchFilters,"yearModel",s)},expression:"searchFilters.yearModel"}}),t("div",{staticClass:"Main_FilterThree"},[t("div",{staticClass:"Main_FilterChipsInside"},[e._l(e.searchFilters.tyres,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth",attrs:{label:e.$t(`c_${s.toLowerCase()}2`),value:s},model:{value:e.searchFilters.tyresModel,callback:function(r){e.$set(e.searchFilters,"tyresModel",r)},expression:"searchFilters.tyresModel"}})]})],2),t("div",{staticClass:"Main_FilterChipsInside"},[e._l(e.searchFilters.drives,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth",attrs:{value:s},model:{value:e.searchFilters.drivesModel,callback:function(r){e.$set(e.searchFilters,"drivesModel",r)},expression:"searchFilters.drivesModel"}})]})],2),t("div",{staticClass:"Main_FilterChipsInside"},[e._l(e.searchFilters.clearances,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth",attrs:{label:e.$t(`c_${s.toLowerCase()}`),value:s},model:{value:e.searchFilters.clearancesModel,callback:function(r){e.$set(e.searchFilters,"clearancesModel",r)},expression:"searchFilters.clearancesModel"}})]})],2)]),t("div",{staticClass:"Main_FilterChips2"},[e._l(e.searchFilters.countrys,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_ChipFlag",attrs:{value:s},model:{value:e.searchFilters.countrysModel,callback:function(r){e.$set(e.searchFilters,"countrysModel",r)},expression:"searchFilters.countrysModel"}},[t("BaseFlag",{attrs:{flag:s}})],1)]})],2),[t("div",{staticClass:"Main_FilterChipsFlex"},[e._l(e.searchFilters.tags_challenge,function(s,i){return[!e.$store.state.oldTags.includes(s)&&!e.$store.state.upcomingTags.includes(s)?t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseGameTag_Filter",class:`BaseGameTag_${s.replaceAll(" ","_").replaceAll(",","").replaceAll("/","")}`,attrs:{value:s},model:{value:e.searchFilters.tagsModel,callback:function(r){e.$set(e.searchFilters,"tagsModel",r)},expression:"searchFilters.tagsModel"}}):e._e()]})],2),e.$store.state.showOldTags?t("div",{staticClass:"Main_FilterChipsFlex"},[[e._l(e.searchFilters.tags_challenge,function(s,i){return[e.$store.state.oldTags.includes(s)?t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseGameTag_Filter",class:`BaseGameTag_${s.replaceAll(" ","_").replaceAll(",","").replaceAll("/","")}`,attrs:{value:s},model:{value:e.searchFilters.tagsModel,callback:function(r){e.$set(e.searchFilters,"tagsModel",r)},expression:"searchFilters.tagsModel"}}):e._e()]})]],2):e._e(),e.$store.state.showUpcomingTags?t("div",{staticClass:"Main_FilterChipsFlex"},[[e._l(e.searchFilters.tags_challenge,function(s,i){return[e.$store.state.upcomingTags.includes(s)?t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseGameTag_Filter",class:`BaseGameTag_${s.replaceAll(" ","_").replaceAll(",","").replaceAll("/","")}`,attrs:{value:s},model:{value:e.searchFilters.tagsModel,callback:function(r){e.$set(e.searchFilters,"tagsModel",r)},expression:"searchFilters.tagsModel"}}):e._e()]})]],2):e._e(),t("div",{staticClass:"Main_FilterChipsFlex"},[e._l(e.searchFilters.tags_expansion,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseGameTag_Filter",class:`BaseGameTag_${s.replaceAll(" ","_").replaceAll(",","").replaceAll("/","")}`,attrs:{value:s},model:{value:e.searchFilters.tagsModel,callback:function(r){e.$set(e.searchFilters,"tagsModel",r)},expression:"searchFilters.tagsModel"}})]})],2),t("div",{staticClass:"Main_FilterChipsFlex"},[e._l(e.searchFilters.tags_permanent,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseGameTag_Filter",class:`BaseGameTag_${s.replaceAll(" ","_").replaceAll(",","").replaceAll("/","")}`,attrs:{value:s},model:{value:e.searchFilters.tagsModel,callback:function(r){e.$set(e.searchFilters,"tagsModel",r)},expression:"searchFilters.tagsModel"}})]})],2),e.$store.state.showOldTags?t("div",{staticClass:"Main_FilterChipsFlex"},[e._l(e.searchFilters.tags_permanentDied,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseGameTag_Filter",class:`BaseGameTag_${s.replaceAll(" ","_").replaceAll(",","").replaceAll("/","")}`,attrs:{value:s},model:{value:e.searchFilters.tagsModel,callback:function(r){e.$set(e.searchFilters,"tagsModel",r)},expression:"searchFilters.tagsModel"}})]})],2):e._e(),t("div",{staticClass:"Main_FilterChipsFlex"},[e._l(e.searchFilters.tags_color,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseGameTag_Filter",class:`BaseGameTag_${s.replaceAll(" ","_").replaceAll(",","").replaceAll("/","")}`,attrs:{value:s},model:{value:e.searchFilters.tagsModel,callback:function(r){e.$set(e.searchFilters,"tagsModel",r)},expression:"searchFilters.tagsModel"}})]})],2)],t("div",{staticClass:"Main_FilterChipsFlex"},[e._l(e.searchFilters.brands,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop",attrs:{value:s},model:{value:e.searchFilters.brandsModel,callback:function(r){e.$set(e.searchFilters,"brandsModel",r)},expression:"searchFilters.brandsModel"}})]})],2),t("div",{staticClass:"D_Center",staticStyle:{gap:"15px"}},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDarkTransparent D_ButtonBig",on:{click:function(s){return e.clearFilter()}}},[e._v(e._s(e.$t("m_clear")))]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonBig",on:{click:function(s){return e.applyFilter()}}},[e._v(e._s(e.$t("m_done")))])])],2)]):!e.isFiltering&&e.memoryResult.length>0?t("div",{staticClass:"BaseMemoryDialog_SearchMid Main_DarkScroll"},[t("div",{staticClass:"BaseMemoryDialog_MidBox"},[e._l(e.memoryResult,function(s,i){return[s?t("div",{staticClass:"BaseMemoryDialog_"},[t("BaseGalleryItem",{attrs:{config:s,showDelete:!0,showApprove:!1,showRename:!0,showReplace:!0},on:{rename:function(r){return e.$emit("rename",{config:r,index:i})},delete:function(r){return e.$emit("delete",{config:r,index:i})},replace:function(r){return e.$emit("replace",{config:r,index:i})},push:function(r){e.$emit("templateClick",r),e.$emit("close")}}})],1):e._e()]}),t("div",{staticClass:"BaseMemoryDialog_Options"},[e.memory.findIndex(s=>s===null)>-1&&!e.filterActive?t("button",{staticClass:"D_Button BaseGalleryItem_Layout BaseGalleryItem_Add",on:{click:function(s){return e.$emit("addNext")}}},[t("i",{staticClass:"ticon-plus_2",staticStyle:{"font-size":"30px"},attrs:{"aria-hidden":"true"}})]):e._e()])],2),t("div",{staticClass:"BaseMemoryDialog_MidFooter"},[t("label",{staticClass:"D_Button D_ButtonDark D_ButtonDark2"},[t("input",{staticStyle:{display:"none"},attrs:{type:"file",accept:"application/json"},on:{change:function(s){return e.loadFile(s)}}}),t("span",[e._v(e._s(e.$t("m_loadFile")))])]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",on:{click:function(s){return e.download()}}},[e._v(e._s(e.$t("m_saveToFile")))])])]):t("div",{staticClass:"Main_SearchEmpty BaseFilterDialog_Mid BaseFilterDialog_Mid"},[t("i",{staticClass:"ticon-line Main_SearchEmptyAddIcon",attrs:{"aria-hidden":"true"}})])])])},ce=[],ue=v(le,oe,ce,!1,null,null);const de=ue.exports,he={name:"BaseLogoSpining",components:{},props:{test:{type:Boolean,default:!1}},data(){return{}},watch:{},beforeMount(){},mounted(){},computed:{},methods:{}};var ge=function(){var e=this,t=e._self._c;return t("div",{staticClass:"BaseLogoSpining_Layout BaseLogoSpining_Splash"},[t("div",{staticClass:"BaseLogoSpining_Svg1"},[t("div",{staticClass:"BaseLogoSpining_Svg2"},[t("svg",{staticClass:"BaseLogoSpining_Svg",staticStyle:{"enable-background":"new 0 0 54.7 59.8"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 54.7 59.8","xml:space":"preserve",overflow:"visible"}},[t("path",{attrs:{fill:"#FFC717",d:"m54.7 55.9-.5 1.3c-1 .8-2.3 1.4-4.1 1.9s-3.4.7-5 .7c-3.9 0-7-.8-9.4-2.3-2.3-1.5-4.5-4-6.6-7.6-.1-.1-.2-.2-.3-.5s-.8-1.5-2.1-3.8-2.5-4.2-3.8-5.5c-1.3-1.4-2.5-2-3.7-2h-1.4v20.6H0V0h27.8c7.6 0 13.4 1.7 17.6 5.2 4.1 3.5 6.2 8.3 6.2 14.4 0 1.7-.3 3.7-1 5.8s-1.9 4.1-3.6 5.9c-1.7 1.8-3.8 3.3-6.2 4.4.8.8 1.7 2 2.7 3.6 1.2 2 2.2 3.3 2.8 3.8.7.5 1.4.8 2.2.8.5 0 1.2-.2 2.2-.6l1.1.6 2.9 12zM27.1 26.4c1.7 0 3.2-.5 4.4-1.5 1.2-1 1.8-2.4 1.8-4.2 0-1.9-.6-3.4-1.8-4.5-1.2-1.1-2.7-1.7-4.4-1.7h-9.2v11.9h9.2z"}})])])]),t("div",{staticClass:"firework"})])},ve=[],me=v(he,ge,ve,!1,null,null);const fe=me.exports,_e={name:"BaseCompItem",components:{BaseCustomTag:A},props:{comp:{type:Object,default(){return{}}},isMod:{type:Boolean,default:!1}},data(){return{}},watch:{},beforeMount(){},mounted(){},computed:{empty(){let a=!0;return(this.comp.meta&&this.comp.meta.length>0||this.comp.tyres&&this.comp.tyres.length>0||this.comp.drives&&this.comp.drives.length>0||this.comp.clearance&&this.comp.clearance.length>0)&&(a=!1),a}},methods:{}};var pe=function(){var e=this,t=e._self._c;return t("BaseCustomTag",{staticClass:"BaseCompItem_Layout",class:{D_Button:e.isMod},attrs:{tag:e.isMod?"button":"div"},on:{click:function(s){e.isMod&&e.$emit("edit")}}},[e.empty?[e.isMod?t("i",{staticClass:"ticon-pencil BaseCompItem_Icon",attrs:{"aria-hidden":"true"}}):t("i",{staticClass:"ticon-line BaseCompItem_Icon",attrs:{"aria-hidden":"true"}})]:t("div",{staticClass:"BaseCompItem_LayoutBox"},[e.comp.meta&&e.comp.meta[0]==="Dragster"?t("div",{staticClass:"BaseCompItem_MetaDragster"},[t("svg",{staticStyle:{"enable-background":"new 0 0 95 58"},attrs:{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",id:"Layer_1",x:"0",y:"0",version:"1.1",viewBox:"0 0 95 58"}},[t("path",{staticStyle:{fill:"#ff8a5c"},attrs:{d:"M29.1 12.6h11c6.8.1 13.6 4.8 16.5 11.5.2.6.8.9 1.4.9 3.3 0 6.7-.1 11.2-.1h15c-2.4 3.1-4.9 6.3-7.3 9.5H64c-3.9 0-7.2 0-10.4.1-.3 0-.6.1-.9.3-.3.3-.9.7-1.5 1.2-.4.3-.7.6-.9.7-.5.4-.7 1.1-.5 1.7.2.6.8 1 1.4 1h13.1c-1.7 2.2-3.4 4.4-5 6.6-.6.8-1.2 1.6-1.9 2.5H37.8c-7.2 0-14.1-5.1-16.9-12.2-.2-.6-.8-.9-1.4-1h-8c2.2-2.9 4.4-5.8 7-9.1h6.3c.4 0 .7-.1 1-.4l1.4-1.2c.5-.4.6-1.1.4-1.7s-.8-1-1.4-1H9c2.5-3.1 4.8-6.1 7-9.2l13.1-.1zm0-1.5H15.6c-3.1 4.2-6.2 8.5-9.6 12.4 7.3 0 13.2-.1 20.4-.1L25 24.6h-7c-3.1 4-6.3 8-9.3 12.1 2.9 0 5.8-.1 8.7-.1h2.3C22.6 44 29.9 49.7 38 49.8h20.4c3.1-4 6.1-8.1 9.2-12.1H51.4c.5-.4 1.8-1.5 2.4-1.9 3.6-.1 7-.1 10.4-.1 4.5 0 8.9 0 13.6.1 3.2-4.2 6.4-8.4 9.6-12.5H69.3c-3.8 0-7.5 0-11.3.1-3-7-10.1-12.4-17.8-12.4-3.8.1-7.4.1-11.1.1z"}}),t("path",{staticStyle:{fill:"none",stroke:"#ff8a5c","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},attrs:{d:"M17.6 15.7c5.4 0 7.3-.1 14.4-.1 4.8.1 10-.7 14.4 1.9 4.3 2.2 7.2 6.7 8 11.4H77"}}),t("path",{staticStyle:{fill:"none",stroke:"#ff8a5c","stroke-width":"1.5"},attrs:{d:"M36 21.5c-4.6 1.3-7.9 6.5-6.4 11.2.9 3.9 4.6 6.8 8.5 7 5.2.6 10.2-3.6 10.4-8.8.5-6.4-6.5-11.5-12.5-9.4z"}}),t("path",{staticStyle:{fill:"none",stroke:"#ff8a5c","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},attrs:{d:"M63.2 42h-8.7M24.6 28.8h-8.7m5.6 3.8h-8.6M60.3 46h-8.7M19 19.4h-8.7"}}),t("path",{staticStyle:{fill:"#ff8a5c"},attrs:{d:"M38.4 29.8s-2-.6-2.7-1.9.8-3.4 1.6-4.1c-1.3.3-3.7 1.4-4.7 4.2 1.1 1.9 2.7 4.7 2.7 4.7l.6-2.1 2.7.9s.5 2-.2 3.3-3.4 1.1-4.3.7c1 .9 3.1 2.5 6 1.9 1.1-1.9 2.7-4.7 2.7-4.7l-2.2.6-.6-2.9s1.5-1.4 3-1.4 2.6 2.4 2.7 3.4c.4-1.3.6-4-1.3-6.1H39l1.5 1.6-2.1 1.9z"}})])]):e._e(),e.comp.meta&&e.comp.meta[0]==="Speedster"?t("div",{staticClass:"BaseCompItem_MetaSpeedster"},[t("svg",{staticStyle:{"enable-background":"new 0 0 95 58"},attrs:{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",viewBox:"0 0 95 58"}},[t("path",{staticStyle:{fill:"#fcf09f"},attrs:{d:"M47.6 7.3c.4.8.7 1.5 1.1 2.3.2.3.3.7.5 1-.5 1.1-1 2.2-1.6 3.3-.5-1.1-1-2.2-1.6-3.3.6-1 1.1-2.1 1.6-3.3m6.1 5.3c1 .3 2.1.6 3.1.8-.3.2-.6.4-.9.7-.2.1-.3.3-.4.5-.7 1.3-.9 2.7-1.1 4.1-.1 0-.2-.1-.2-.1-.9-.4-1.8-.9-2.7-1.3.8-1.7 1.5-3.2 2.2-4.7m-12 0c.7 1.7 1.4 3.2 2.1 4.6l-.2.1c-.9.4-1.8.9-2.7 1.3-.3-1.3-.5-2.5-.8-3.7-.1-.4-.3-.7-.6-1l-.9-.6c.2 0 .4-.1.6-.1.7-.1 1.6-.3 2.5-.6m-26.2 2c3.8 0 7.6 0 11 .1-.1 4.9 3.1 9.5 8.1 11.5.4 1.2.9 2.4 1.3 3.6-.6 1.3-1.3 2.7-1.9 4v.1c-.9-.2-1.8-.3-2.6-.5.8-1.5 1.7-2.8 2.5-4.1.2-.4.3-.9.2-1.3-.1-.4-.5-.8-.9-.9l-2-.8c-.2-.1-.3-.1-.5-.1-.4 0-.7.1-1 .4-1.6 1.5-3.4 2.9-5 4.3-1 .8-2 1.6-3 2.5-.5-.6-1-1.3-1.5-1.9l1.5-1.2c2.2-1.8 4.5-3.6 6.6-5.7.5-.5.6-1.2.3-1.8-.3-.5-.8-.8-1.3-.8H27c-1.9.4-3.8 1-5.6 1.6-2 .7-3.9 1.3-5.8 1.6-.5-.6-1-1.3-1.5-1.9 1-.3 2.1-.6 3.1-.9 2.6-.7 5.2-1.5 7.8-2.4.7-.2 1.1-.9 1-1.7-.1-.7-.7-1.2-1.5-1.3H9.7c-.6-.8-1.3-1.6-1.9-2.5 2.2.1 4.8.1 7.7.1m62.6 0h9.5c-.2.3-.5.6-.7.9-.4.5-.8 1.1-1.2 1.6h-15c-.7 0-1.3.5-1.4 1.3-.1.7.3 1.4 1 1.7 2.6.9 5.3 1.7 8 2.5.9.3 1.9.5 2.9.8-.5.7-1 1.3-1.6 2-2.1-.6-4.2-1.2-6.3-1.9L68.5 22c-.1 0-.3-.1-.4-.1-.5 0-1 .3-1.3.7-.4.6-.3 1.3.1 1.8 1.7 1.9 3.6 3.5 5.5 5 .9.7 1.8 1.4 2.6 2.1-.4.4-.7.8-1.1 1.2-2.1-.3-3.8-1.9-5.6-3.6-1-.9-2-1.9-3.1-2.7-.3-.2-.6-.3-.9-.3-.2 0-.4 0-.6.1-.5.2-1.4.6-1.9.8-.4.2-.7.5-.8.9-.1.4-.1.9.2 1.2l2.4 4.2c-.3 0-.6.1-.8.1l-1.8.3c-.6-1.3-1.3-2.6-2-4 .5-1.3 1-2.5 1.5-3.8 4.8-1.7 8-6.3 8-11.4 2.9.1 6 .1 9.6.1m-30.6 6.2c1 .5 1.9 1 2.9 1.4 1.7.9 3.5 1.8 5.3 2.7-.8 2-1.5 4.1-2.2 6.1-.6 1.7-1.1 3.4-1.8 5.1-.1.4-.1.8 0 1.2.7 1.5 1.3 3 1.8 4.5.4 1.1.9 2.3 1.4 3.4-.5.2-1 .5-1.5.7-.3-1.3-.6-2.4-.9-3.6-.2-.7-.8-1.1-1.4-1.1H51c-.7.1-1.3.6-1.4 1.3-.2 1.9-.3 4 .2 6.1-.7.9-1.4 1.8-2 2.7-.5-.8-1.1-1.5-1.6-2.3l-.4-.6c.5-2.1.7-4 .5-5.8-.1-.7-.6-1.2-1.3-1.3h-.1c-.6 0-1.2.4-1.4 1-.4 1.1-.7 2.3-1.1 3.5-.6-.3-1.2-.5-1.7-.8.9-2 1.7-4 2.4-6 .2-.6.5-1.2.7-1.8.1-.3.1-.7 0-1.1-.6-1.7-1.2-3.5-1.8-5.2-.7-2.1-1.4-4.2-2.3-6.3 1.2-.7 2.5-1.3 3.7-1.9 1.2-.3 2.6-1.1 4.1-1.9m0-17c-1 2.3-2 4.6-3.2 6.8 1.2 2.2 2.2 4.5 3.2 6.7 1.2-2.2 2.3-4.5 3.3-6.8-1-2.2-2.1-4.5-3.3-6.7zm5.3 7c-1.1 2.4-2.2 4.8-3.4 7.1 2.1 1 4.1 2 6.2 3 .4-1.9.4-3.9 1.3-5.6 1.1-.9 2.4-1.7 3.6-2.5-2.6-.6-5.1-1.3-7.7-2zm-10.2.1c-2.6.6-5.2 1.3-7.9 1.9 1.3.8 2.5 1.7 3.8 2.5.4 1.9.8 3.7 1.2 5.6 2-1 4-2 6.1-2.9-1.2-2.3-2.2-4.7-3.2-7.1zm-27.1 2.2c-3.7 0-7.4 0-11.1.1 1.4 1.8 2.8 3.6 4.3 5.4h2.7c3.4 0 6.7-.1 10.1-.1h2.9c-4.2 1.5-8.6 2.6-12.9 3.9 1.1 1.4 2.2 2.9 3.5 4.3 4.2-.6 8.1-2.5 12.3-3.4-2.8 2.8-6.1 5.2-9.1 7.7 1.1 1.4 2.2 2.9 3.4 4.3 3-2.6 6.2-5.1 9.2-7.8l2 .8c-1.2 2-2.4 4-3.5 6 1.9.4 3.9.7 5.8 1.1.9-1.9 1.9-3.7 2.8-5.6L36.1 25c-4.9-1.7-8.6-6.5-7.7-11.9H15.5zm62.6 0H66.9c.8 5.2-2.5 10.2-7.5 11.7-.7 1.7-1.4 3.4-2 5.1.9 1.9 1.8 3.7 2.8 5.6 1.9-.3 3.8-.6 5.8-.9-1-2.1-2.2-4.2-3.4-6.1.5-.2 1.4-.6 1.8-.8 3.3 2.3 5.8 6.5 10.2 6.6.8-1 1.7-1.9 2.5-2.9-2.9-2.8-6.4-4.9-9.1-8 4 1.2 8 2.5 12.1 3.6 1.1-1.5 2.3-3 3.5-4.5-4.3-1.3-8.6-2.4-12.8-3.9h2.9c3.2 0 6.5.1 9.7.1h2.9c1.4-1.8 2.8-3.6 4.2-5.5-4-.1-8.2-.1-12.4-.1zm-30.6 6c-3.3 1.8-6.7 3.4-9.9 5.2 1.7 4.2 3 8.5 4.5 12.7-1.2 3-2.3 6.1-3.8 9.1 1.6.7 3.1 1.4 4.7 2.1.5-1.7 1-3.4 1.6-5 .3 2-.1 4-.6 5.9 1.2 1.7 2.5 3.4 3.7 5.2 1.1-1.7 2.3-3.4 3.6-5-.6-2.1-.5-4.2-.3-6.3.5 1.8.9 3.5 1.3 5.3l4.5-2.1c-1.4-3.1-2.4-6.3-3.8-9.3 1.6-4.1 2.7-8.4 4.5-12.4-3.2-2.1-6.7-3.6-10-5.4z"}})])]):e._e(),e.comp.meta&&e.comp.meta[0]==="Twister"?t("div",{staticClass:"BaseCompItem_MetaTwister"},[t("svg",{staticStyle:{"enable-background":"new 0 0 95 58"},attrs:{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",id:"Layer_1",x:"0",y:"0",version:"1.1",viewBox:"0 0 95 58"}},[t("path",{staticStyle:{fill:"none",stroke:"#80dafd","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10"},attrs:{d:"M76.1 37.3h-4.7l1.2-4H77c.3-1.4.7-2.9 1.1-4.3h-4.8l1.2-4h4.6c.3-1.3.6-2.5.9-3.8-6.1-.1-12.3.1-18.4-.1-3.1-2.7-6.2-5.7-10.4-6.8-1.8-3.1-3.6-6.2-5.2-9.4-1.7 3.2-3.4 6.3-5.3 9.4-3.9 1.3-7.3 3.7-9.9 6.8-6.3.1-12.6 0-18.9.1.3 1.3.6 2.5.9 3.8h4.4l1.2 4h-4.6c.4 1.4.7 2.9 1.1 4.3h4.3l1.2 4H16c.3 1.4.7 2.7 1 4.1h8.8c-1.2 2-2.4 3.9-3.6 5.9 3.3 0 6.6 0 10-.1 7.3 7.7 20.6 7.7 27.9 0 3.3 0 6.7 0 10 .1-1.2-1.9-2.4-3.9-3.6-5.9 2.9 0 5.8.1 8.7.1.2-1.5.5-2.8.9-4.2zM55 42.8c-3-1.8-6-3.5-8.9-5.3-3 1.8-5.8 3.8-9 5.1-2.3.1-4.6-.1-7-.2 1.3-2.1 2.3-4.5 3.9-6.4 2.6-1.9 5.6-3.3 8.3-5 0-3.3-.1-6.6.1-9.9.9-2.3 2.4-4.4 3.6-6.5 1.2 2.2 2.9 4.2 3.7 6.6.2 3.3 0 6.5 0 9.8 3 1.9 6.2 3.3 8.9 5.5 1.3 1.9 2.3 4 3.4 6-2.3 0-4.6.1-7 .3z"}}),t("path",{staticStyle:{fill:"none",stroke:"#80dafd","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10"},attrs:{d:"M39.9 18.2C34 21.4 29.8 28.1 30.5 35m6.2 3.9 9.4-5.6m9.5 5.6-9.5-5.6m0 .1v-11m16.1 12.5c.7-6.9-3.5-13.5-9.4-16.8M36.2 46.8c5.9 4 13.9 4 19.7-.1"}})])]):e._e(),e.comp.meta&&e.comp.meta[0]==="Template"?t("div",{staticClass:"BaseCompItem_MetaSpeedster"},[t("svg",{staticStyle:{"enable-background":"new 0 0 95 58"},attrs:{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",viewBox:"0 0 95 58"}},[t("path",{staticStyle:{fill:"#16db98"},attrs:{d:"M47.6 7.3c.4.8.7 1.5 1.1 2.3.2.3.3.7.5 1-.5 1.1-1 2.2-1.6 3.3-.5-1.1-1-2.2-1.6-3.3.6-1 1.1-2.1 1.6-3.3m6.1 5.3c1 .3 2.1.6 3.1.8-.3.2-.6.4-.9.7-.2.1-.3.3-.4.5-.7 1.3-.9 2.7-1.1 4.1-.1 0-.2-.1-.2-.1-.9-.4-1.8-.9-2.7-1.3.8-1.7 1.5-3.2 2.2-4.7m-12 0c.7 1.7 1.4 3.2 2.1 4.6l-.2.1c-.9.4-1.8.9-2.7 1.3-.3-1.3-.5-2.5-.8-3.7-.1-.4-.3-.7-.6-1l-.9-.6c.2 0 .4-.1.6-.1.7-.1 1.6-.3 2.5-.6m-26.2 2c3.8 0 7.6 0 11 .1-.1 4.9 3.1 9.5 8.1 11.5.4 1.2.9 2.4 1.3 3.6-.6 1.3-1.3 2.7-1.9 4v.1c-.9-.2-1.8-.3-2.6-.5.8-1.5 1.7-2.8 2.5-4.1.2-.4.3-.9.2-1.3-.1-.4-.5-.8-.9-.9l-2-.8c-.2-.1-.3-.1-.5-.1-.4 0-.7.1-1 .4-1.6 1.5-3.4 2.9-5 4.3-1 .8-2 1.6-3 2.5-.5-.6-1-1.3-1.5-1.9l1.5-1.2c2.2-1.8 4.5-3.6 6.6-5.7.5-.5.6-1.2.3-1.8-.3-.5-.8-.8-1.3-.8H27c-1.9.4-3.8 1-5.6 1.6-2 .7-3.9 1.3-5.8 1.6-.5-.6-1-1.3-1.5-1.9 1-.3 2.1-.6 3.1-.9 2.6-.7 5.2-1.5 7.8-2.4.7-.2 1.1-.9 1-1.7-.1-.7-.7-1.2-1.5-1.3H9.7c-.6-.8-1.3-1.6-1.9-2.5 2.2.1 4.8.1 7.7.1m62.6 0h9.5c-.2.3-.5.6-.7.9-.4.5-.8 1.1-1.2 1.6h-15c-.7 0-1.3.5-1.4 1.3-.1.7.3 1.4 1 1.7 2.6.9 5.3 1.7 8 2.5.9.3 1.9.5 2.9.8-.5.7-1 1.3-1.6 2-2.1-.6-4.2-1.2-6.3-1.9L68.5 22c-.1 0-.3-.1-.4-.1-.5 0-1 .3-1.3.7-.4.6-.3 1.3.1 1.8 1.7 1.9 3.6 3.5 5.5 5 .9.7 1.8 1.4 2.6 2.1-.4.4-.7.8-1.1 1.2-2.1-.3-3.8-1.9-5.6-3.6-1-.9-2-1.9-3.1-2.7-.3-.2-.6-.3-.9-.3-.2 0-.4 0-.6.1-.5.2-1.4.6-1.9.8-.4.2-.7.5-.8.9-.1.4-.1.9.2 1.2l2.4 4.2c-.3 0-.6.1-.8.1l-1.8.3c-.6-1.3-1.3-2.6-2-4 .5-1.3 1-2.5 1.5-3.8 4.8-1.7 8-6.3 8-11.4 2.9.1 6 .1 9.6.1m-30.6 6.2c1 .5 1.9 1 2.9 1.4 1.7.9 3.5 1.8 5.3 2.7-.8 2-1.5 4.1-2.2 6.1-.6 1.7-1.1 3.4-1.8 5.1-.1.4-.1.8 0 1.2.7 1.5 1.3 3 1.8 4.5.4 1.1.9 2.3 1.4 3.4-.5.2-1 .5-1.5.7-.3-1.3-.6-2.4-.9-3.6-.2-.7-.8-1.1-1.4-1.1H51c-.7.1-1.3.6-1.4 1.3-.2 1.9-.3 4 .2 6.1-.7.9-1.4 1.8-2 2.7-.5-.8-1.1-1.5-1.6-2.3l-.4-.6c.5-2.1.7-4 .5-5.8-.1-.7-.6-1.2-1.3-1.3h-.1c-.6 0-1.2.4-1.4 1-.4 1.1-.7 2.3-1.1 3.5-.6-.3-1.2-.5-1.7-.8.9-2 1.7-4 2.4-6 .2-.6.5-1.2.7-1.8.1-.3.1-.7 0-1.1-.6-1.7-1.2-3.5-1.8-5.2-.7-2.1-1.4-4.2-2.3-6.3 1.2-.7 2.5-1.3 3.7-1.9 1.2-.3 2.6-1.1 4.1-1.9m0-17c-1 2.3-2 4.6-3.2 6.8 1.2 2.2 2.2 4.5 3.2 6.7 1.2-2.2 2.3-4.5 3.3-6.8-1-2.2-2.1-4.5-3.3-6.7zm5.3 7c-1.1 2.4-2.2 4.8-3.4 7.1 2.1 1 4.1 2 6.2 3 .4-1.9.4-3.9 1.3-5.6 1.1-.9 2.4-1.7 3.6-2.5-2.6-.6-5.1-1.3-7.7-2zm-10.2.1c-2.6.6-5.2 1.3-7.9 1.9 1.3.8 2.5 1.7 3.8 2.5.4 1.9.8 3.7 1.2 5.6 2-1 4-2 6.1-2.9-1.2-2.3-2.2-4.7-3.2-7.1zm-27.1 2.2c-3.7 0-7.4 0-11.1.1 1.4 1.8 2.8 3.6 4.3 5.4h2.7c3.4 0 6.7-.1 10.1-.1h2.9c-4.2 1.5-8.6 2.6-12.9 3.9 1.1 1.4 2.2 2.9 3.5 4.3 4.2-.6 8.1-2.5 12.3-3.4-2.8 2.8-6.1 5.2-9.1 7.7 1.1 1.4 2.2 2.9 3.4 4.3 3-2.6 6.2-5.1 9.2-7.8l2 .8c-1.2 2-2.4 4-3.5 6 1.9.4 3.9.7 5.8 1.1.9-1.9 1.9-3.7 2.8-5.6L36.1 25c-4.9-1.7-8.6-6.5-7.7-11.9H15.5zm62.6 0H66.9c.8 5.2-2.5 10.2-7.5 11.7-.7 1.7-1.4 3.4-2 5.1.9 1.9 1.8 3.7 2.8 5.6 1.9-.3 3.8-.6 5.8-.9-1-2.1-2.2-4.2-3.4-6.1.5-.2 1.4-.6 1.8-.8 3.3 2.3 5.8 6.5 10.2 6.6.8-1 1.7-1.9 2.5-2.9-2.9-2.8-6.4-4.9-9.1-8 4 1.2 8 2.5 12.1 3.6 1.1-1.5 2.3-3 3.5-4.5-4.3-1.3-8.6-2.4-12.8-3.9h2.9c3.2 0 6.5.1 9.7.1h2.9c1.4-1.8 2.8-3.6 4.2-5.5-4-.1-8.2-.1-12.4-.1zm-30.6 6c-3.3 1.8-6.7 3.4-9.9 5.2 1.7 4.2 3 8.5 4.5 12.7-1.2 3-2.3 6.1-3.8 9.1 1.6.7 3.1 1.4 4.7 2.1.5-1.7 1-3.4 1.6-5 .3 2-.1 4-.6 5.9 1.2 1.7 2.5 3.4 3.7 5.2 1.1-1.7 2.3-3.4 3.6-5-.6-2.1-.5-4.2-.3-6.3.5 1.8.9 3.5 1.3 5.3l4.5-2.1c-1.4-3.1-2.4-6.3-3.8-9.3 1.6-4.1 2.7-8.4 4.5-12.4-3.2-2.1-6.7-3.6-10-5.4z"}})])]):e._e(),e.comp.meta&&e.comp.meta.length>0?t("div",{staticClass:"BaseCompItem_Meta"},[t("div",{staticClass:"BaseCompItem_MetaText",class:`BaseCompItem_Meta_${e.comp.meta[0]}`},[t("svg",{attrs:{width:"115",height:"24"}},e._l(2,function(s){return t("text",{attrs:{x:"50%",y:"50%","dominant-baseline":"middle","text-anchor":"middle"}},[e._l(e.comp.meta,function(i,r){return[r!==0?[e._v(", ")]:e._e(),[e._v(e._s(e.$t(`c_${i.toLowerCase()}`)))]]})],2)}),0)])]):e._e(),t("div",{staticClass:"BaseCompItem_Bottom"},[e.comp.tyres&&e.comp.tyres.length>0?t("div",{staticClass:"BaseCompItem_Normal BaseCompItem_Tyres",class:{Type_10:e.comp.tyres.length===1?e.comp.tyres.includes("Off-road")||e.comp.tyres.includes("All-surface"):e.comp.tyres.includes("Off-road")&&e.comp.tyres.includes("All-surface"),Type_01:e.comp.tyres.length===1?e.comp.tyres.includes("Standard"):e.comp.tyres.includes("Standard")&&e.comp.drives.includes("4WD")}},[t("span",[e._l(e.comp.tyres,function(s,i){return[i!==0?[e._v(", ")]:e._e(),[e._v(e._s(e.$t(`c_${s.toLowerCase()}2`)))]]})],2),t("div",{staticClass:"BaseCompItem_Label"},[e._v(e._s(e.$tc("c_tyre",1)))])]):e._e(),e.comp.drives&&e.comp.drives.length>0?t("div",{staticClass:"BaseCompItem_Normal BaseCompItem_Drives",class:{Type_01:e.comp.drives.length===1&&e.comp.tyres.length>0?e.comp.drives.includes("4WD"):!1}},[t("div",{staticClass:"BaseCompItem_Label"},[e._v(e._s(e.$tc("c_drive",1)))]),t("span",[e._v(e._s(e.comp.drives.join(", ")))])]):e._e(),e.comp.clearance&&e.comp.clearance.length>0?t("div",{staticClass:"BaseCompItem_Normal BaseCompItem_Clearances",class:{Type_60:(e.comp.clearance.includes("Mid")||e.comp.clearance.includes("High"))&&!(e.comp.tyres.includes("Off-road")||e.comp.tyres.includes("All-surface")),Type_10:e.comp.clearance.includes("High")&&(e.comp.tyres.includes("Off-road")||e.comp.tyres.includes("All-surface"))}},[t("span",[e._l(e.comp.clearance,function(s,i){return[i!==0?[e._v(", ")]:e._e(),[e._v(e._s(e.$t(`c_${s.toLowerCase()}`)))]]})],2),t("div",{staticClass:"BaseCompItem_Label"},[e._v(e._s(e.$tc("c_clearance",1)))])]):e._e()])])],2)},Ce=[],ye=v(_e,pe,Ce,!1,null,null);const Se=ye.exports,Te={name:"BaseCorner",components:{Logo:B,BaseButtonTouch:y},props:{test:{type:Boolean,default:!1},gameVersion:{type:String,default:"Game v?"}},data(){return{}},watch:{},beforeMount(){},mounted(){},computed:{},methods:{}};var ke=function(){var e=this,t=e._self._c;return t("div",{staticClass:"Cg_Corner"},[t("div",{staticClass:"Main_Logo"},[t("div",{staticClass:"Main_LogoPre"},[e._v("Top Drives")]),t("Logo")],1),t("div",{staticClass:"Main_CornerMid"},[t("div",{staticClass:"Main_CornerMidBox"},[t("BaseButtonTouch",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonMenu Main_CornerMenu",on:{click:function(s){return e.$emit("menu")},longTouch:function(s){return e.$emit("longMenu")}}},[t("i",{staticClass:"ticon-3menu Main_MenuIcon",attrs:{"aria-hidden":"true"}})]),t("BaseButtonTouch",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonMenu",on:{click:function(s){return e.$emit("camera")},longTouch:function(s){return e.$emit("longCamera")}}},[t("i",{staticClass:"ticon-camera1 Main_MenuIcon",attrs:{"aria-hidden":"true"}})])],1),t("div",{staticClass:"Main_CornerMidBox"},[e._t("more")],2)]),t("div",{staticClass:"Main_GamePrintInfo"},[t("div",{staticClass:"Main_GameVersionText"},[e._v(e._s(e.gameVersion))]),t("div",{staticClass:"Main_GameVersionText"},[e._v(e._s(new Date().toISOString().slice(0,10)))])]),e._t("by")],2)},De=[],be=v(Te,ke,De,!1,null,null);const Be=be.exports,Re={name:"BaseReviewList",components:{},props:{car:{type:Object,required:!0},user:{type:Object,required:!0},highlightsUsers:{type:Object,required:!0},reviewUrl:{type:Object,default(){return{}}}},data(){return{loading:!1,isEditing:!1,textModel:"",linkModel:"",deleteTime:!1,deleteTimeIndex:0}},watch:{reviewUrl(){this.linkModel=`${window.location.origin}?`+this.reviewUrl.url}},beforeMount(){},mounted(){},computed:{galleryCars(){let a=[];return this.car&&this.car.reviews&&this.car.reviews.map(e=>{let t=[];try{Vue.decodeTdr(e.link).cars.map((i,r)=>{r>6||t.push(Vue.carPhoto(i))})}catch{}a.push(t)}),a}},methods:{newReview(){this.textModel="",this.linkModel="",this.isEditing=!0,this.$emit("isReviewing",!0)},cancel(){this.isEditing=!1,this.$emit("isReviewing",!1)},submit(a=!1,e){let t=this;t.loading=!0,console.log(t.textModel),console.log(t.linkModel);let s={reviewText:t.textModel,reviewLink:t.linkModel,isDelete:a};a&&(s.deleteUser=e),axios.post(Vue.preUrl+"/reviewCar",{rid:t.car.rid,reviewObj:s,isDelete:s.isDelete}).then(i=>{t.textModel="",t.linkModel="",t.cancel(),this.$emit("submited",s),t.$store.commit("DEFINE_SNACK",{active:!0,correct:!0,text:t.$t("m_saveSuccess")})}).catch(i=>{console.log(i),t.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:i,type:"error"})}).then(()=>{t.loading=!1})},deleteClick(a){this.deleteTime?(this.deleteTime=!1,this.confirmDelete(a)):(this.deleteTime=!0,this.deleteTimeIndex=a,setTimeout(()=>{this.deleteTime=!1},1e3))},confirmDelete(a){this.car.reviews[a],this.textModel=this.car.reviews[a].text,this.linkModel=this.car.reviews[a].link,this.submit(!0)},editClick(a){this.car.reviews[a],this.textModel=this.car.reviews[a].text,this.linkModel=this.car.reviews[a].link,this.isEditing=!0,this.$emit("isReviewing",!0)}}};var we=function(){var e=this,t=e._self._c;return t("div",{staticClass:"BaseReviewList_Layout"},[!e.isEditing&&e.car.reviews&&e.car.reviews.length>0?t("div",{staticClass:"BaseReviewList_List"},e._l(e.car.reviews,function(s,i){return t("div",{staticClass:"BaseReviewList_ReviewItem"},[t("div",{staticClass:"BaseReviewList_ReviewTop"},[t("div",{staticClass:"BaseReviewList_ReviewItemLeft"},[t("span",{class:`Main_UserT${e.highlightsUsers[s.user]}`},[e._v(e._s(s.user)+": ")]),t("span",[e._v(e._s(s.text))])]),e.user&&e.user.canReview&&s.user===e.user.username?t("div",{staticClass:"BaseReviewList_ReviewItemRight"},[t("button",{staticClass:"D_Button BaseReviewList_RightButton",on:{click:function(r){return e.editClick(i)}}},[t("i",{staticClass:"ticon-pencil",attrs:{"aria-hidden":"true"}})]),t("button",{staticClass:"D_Button BaseReviewList_RightButton",class:{D_ButtonRed:e.deleteTime&&e.deleteTimeIndex===i,D_Button_Loading:e.loading},attrs:{disabled:e.loading},on:{click:function(r){return e.deleteClick(i)}}},[t("i",{staticClass:"ticon-close_3",attrs:{"aria-hidden":"true"}})])]):e._e()]),s.link&&s.link.includes("~C")?t("div",{staticClass:"BaseReviewList_LinkBox"},[t("button",{staticClass:"D_Button BaseReviewList_ImageLayout",on:{click:function(r){return e.$emit("loadTemplate",s.link)}}},e._l(e.galleryCars[i],function(r){return t("div",{staticClass:"BaseReviewList_ImageBlock"},[t("img",{staticClass:"BaseReviewList_Image",attrs:{src:r,loading:"lazy",alt:""}})])}),0)]):e._e()])}),0):e._e(),e.isEditing?t("div",{staticClass:"BaseReviewList_Editor"},[t("div",{staticClass:"BaseReviewList_InputBox"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.textModel,expression:"textModel"}],staticClass:"BaseReviewList_Input data-hj-allow",attrs:{placeholder:e.$tc("m_review",1),readonly:e.loading?"readonly":!1,id:"reviewTextField",rows:"7"},domProps:{value:e.textModel},on:{input:function(s){s.target.composing||(e.textModel=s.target.value)}}})]),t("div",{staticClass:"BaseReviewList_InputBox"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.linkModel,expression:"linkModel"}],staticClass:"BaseReviewList_Input data-hj-allow",attrs:{placeholder:e.$tc("m_sharableLink",1),readonly:e.loading?"readonly":!1,id:"reviewLinkField",rows:"4"},domProps:{value:e.linkModel},on:{input:function(s){s.target.composing||(e.linkModel=s.target.value)}}})]),t("div",{staticClass:"BaseReviewList_ButtonBox"},[t("button",{staticClass:"D_Button D_ButtonDark BaseReviewList_Button",class:{D_Button_Loading:e.loading},attrs:{disabled:e.loading},on:{click:function(s){return e.cancel()}}},[e._v(e._s(e.$t("m_cancel")))]),t("button",{staticClass:"D_Button Main_SaveAllButton BaseReviewList_Button",class:{D_Button_Loading:e.loading},attrs:{disabled:e.loading||!e.textModel},on:{click:function(s){return e.submit()}}},[e._v(e._s(e.$t("m_send")))])]),t("div",{staticClass:"BaseReviewList_ButtonBox"},[t("button",{staticClass:"D_Button BaseReviewList_Button",attrs:{disabled:e.loading},on:{click:function(s){return e.$emit("getUrl")}}},[e._v("Import link from current")])])]):e._e(),!e.isEditing&&(!e.car.reviews||e.car.reviews.length===0||!e.car.reviews.find(s=>s.user===e.user.username))&&e.user&&e.user.canReview?t("button",{staticClass:"D_Button BaseReviewList_Button D_ButtonDark",class:{D_Button_Loading:e.loading},attrs:{disabled:e.loading},on:{click:function(s){return e.newReview()}}},[e._v(e._s(e.$t("m_addReview")))]):e._e()])},Me=[],Le=v(Re,we,Me,!1,null,null);const $e=Le.exports,xe={name:"BasePrizeBoard",components:{BaseIconSvg:C},props:{id:{type:String,default:null}},data(){return{prizeboard:[],prizeSelectorCard:null,prizeTypes:[null,"gold","cash","xp","d","e","f"],unsubscribe:null}},watch:{id:function(a,e){a!==e&&(this.prizeSelectorCard=null,this.loadPrizeBoardFromStorage())}},beforeMount(){this.loadPrizeBoardFromStorage()},mounted(){let a=this;a.unsubscribe=a.$store.subscribe(e=>{e.type=="CLEAR_PRIZEBOARD"&&a.createNew()})},beforeDestroy(){this.unsubscribe()},computed:{iid(){return`${this.id}_pb`}},methods:{createNew(){let a=[];Array.from(Array(16)).map((e,t)=>{a.push(null)}),this.prizeboard=a,this.updatePrizeBoardStorage(),this.$emit("hasLocal",!1)},editPrizeBoard(a,e){this.prizeboard[a]=e,this.prizeSelectorCard=null,this.updatePrizeBoardStorage()},loadPrizeBoardFromStorage(){if(!this.id)return;let a=window.localStorage.getItem(this.iid);if(a){if(a=JSON.parse(a),Array.isArray(a)&&a.length>0){this.prizeboard=a;let e=!0;this.prizeboard.find(t=>{if(t!==null)return e=!1,!0}),e?this.$emit("hasLocal",!1):this.$emit("hasLocal",!0)}}else this.createNew()},updatePrizeBoardStorage(){window.localStorage.setItem(this.iid,JSON.stringify(this.prizeboard))}}};var Fe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"BasePrizeBoard_PrizeCardsBox"},[e._l(e.prizeboard,function(s,i){return[e.prizeSelectorCard===i?t("div",{staticClass:"BasePrizeBoard_PrizeSelectorBack",on:{click:function(r){e.prizeSelectorCard=null}}}):e._e(),i!==0?t("div",{staticClass:"BasePrizeBoard_PrizeCard",class:{BasePrizeBoard_PrizeCard_Active:e.prizeSelectorCard===i}},[t("button",{staticClass:"D_Button BasePrizeBoard_PrizeCardButton",on:{click:function(r){e.prizeSelectorCard=i}}},[s===null?t("div",{staticClass:"BasePrizeBoard_PrizeBlank"},[t("svg",{staticClass:"BasePrizeBoard_PrizeBlankSvg",staticStyle:{"enable-background":"new 0 0 200 120"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 200 120","xml:space":"preserve",preserveAspectRatio:"none"}},[t("rect",{staticStyle:{fill:"#555"},attrs:{width:"200",height:"120"}}),t("g",[t("line",{staticStyle:{fill:"none",stroke:"#444","stroke-width":"5","stroke-miterlimit":"10"},attrs:{x1:"0",y1:"15",x2:"200",y2:"15"}}),t("line",{staticStyle:{fill:"none",stroke:"#444","stroke-width":"5","stroke-miterlimit":"10"},attrs:{x1:"0",y1:"45",x2:"200",y2:"45"}}),t("line",{staticStyle:{fill:"none",stroke:"#444","stroke-width":"5","stroke-miterlimit":"10"},attrs:{x1:"0",y1:"75",x2:"200",y2:"75"}}),t("line",{staticStyle:{fill:"none",stroke:"#444","stroke-width":"5","stroke-miterlimit":"10"},attrs:{x1:"0",y1:"105",x2:"200",y2:"105"}})]),t("g",[t("line",{staticStyle:{fill:"none",stroke:"#444","stroke-width":"5","stroke-miterlimit":"10"},attrs:{x1:"190.5",y1:"-1.5",x2:"176.7",y2:"121.5"}}),t("line",{staticStyle:{fill:"none",stroke:"#444","stroke-width":"5","stroke-miterlimit":"10"},attrs:{x1:"148.7",y1:"-1.5",x2:"134.9",y2:"121.5"}}),t("line",{staticStyle:{fill:"none",stroke:"#444","stroke-width":"5","stroke-miterlimit":"10"},attrs:{x1:"106.9",y1:"-1.5",x2:"93.1",y2:"121.5"}}),t("line",{staticStyle:{fill:"none",stroke:"#444","stroke-width":"5","stroke-miterlimit":"10"},attrs:{x1:"65.1",y1:"-1.5",x2:"51.3",y2:"121.5"}}),t("line",{staticStyle:{fill:"none",stroke:"#444","stroke-width":"5","stroke-miterlimit":"10"},attrs:{x1:"23.3",y1:"-1.5",x2:"9.5",y2:"121.5"}})]),t("line",{staticStyle:{fill:"none",stroke:"#EF5A20","stroke-width":"7","stroke-miterlimit":"10"},attrs:{x1:"0",y1:"0",x2:"200",y2:"0"}}),t("line",{staticStyle:{fill:"none",stroke:"#EF5A20","stroke-width":"7","stroke-miterlimit":"10"},attrs:{x1:"0",y1:"120",x2:"200",y2:"120"}})])]):e._e(),s==="gold"?t("div",{staticClass:"BasePrizeBoard_PrizeGold BasePrizeBoard_PrizeMoney",staticStyle:{"--classC":"251, 173, 20"}},[t("BaseIconSvg",{staticClass:"BasePrizeBoard_ClassesIcon",attrs:{type:"gold",useMargin:!1}})],1):e._e(),s==="cash"?t("div",{staticClass:"BasePrizeBoard_PrizeCash BasePrizeBoard_PrizeMoney",staticStyle:{"--classC":"55, 235, 172"}},[t("BaseIconSvg",{staticClass:"BasePrizeBoard_ClassesIcon",attrs:{type:"cash",useMargin:!1}})],1):e._e(),s==="xp"?t("div",{staticClass:"BasePrizeBoard_PrizeCash BasePrizeBoard_PrizeMoney",staticStyle:{"--classC":"21, 223, 255"}},[t("BaseIconSvg",{staticClass:"BasePrizeBoard_ClassesIcon",attrs:{type:"xp",useMargin:!1}})],1):e._e(),s==="d"?t("div",{staticClass:"BasePrizeBoard_PrizeD BasePrizeBoard_PrizeClass",staticStyle:{"--classC":"28, 204, 255"}},[t("div",{staticClass:"BasePrizeBoard_PrizeClassesIcon"},[e._v("D")])]):e._e(),s==="e"?t("div",{staticClass:"BasePrizeBoard_PrizeE BasePrizeBoard_PrizeClass",staticStyle:{"--classC":"118, 242, 115"}},[t("div",{staticClass:"BasePrizeBoard_PrizeClassesIcon"},[e._v("E")])]):e._e(),s==="f"?t("div",{staticClass:"BasePrizeBoard_PrizeF BasePrizeBoard_PrizeClass",staticStyle:{"--classC":"135, 135, 135"}},[t("div",{staticClass:"BasePrizeBoard_PrizeClassesIcon"},[e._v("F")])]):e._e()]),e.prizeSelectorCard===i?t("div",{staticClass:"BasePrizeBoard_PrizeSelector"},e._l(e.prizeTypes,function(r){return t("button",{staticClass:"D_Button BasePrizeBoard_EditPrizeButton",on:{click:function(n){return e.editPrizeBoard(i,r)}}},[r==="gold"?t("div",{staticClass:"BasePrizeBoard_PrizeGold BasePrizeBoard_PrizeMoney",staticStyle:{"--classC":"251, 173, 20","background-color":"transparent"}},[t("BaseIconSvg",{staticClass:"BasePrizeBoard_ClassesIcon",attrs:{type:"gold",useMargin:!1}})],1):e._e(),r==="cash"?t("div",{staticClass:"BasePrizeBoard_PrizeCash BasePrizeBoard_PrizeMoney",staticStyle:{"--classC":"55, 235, 172","background-color":"transparent"}},[t("BaseIconSvg",{staticClass:"BasePrizeBoard_ClassesIcon",attrs:{type:"cash",useMargin:!1}})],1):e._e(),r==="xp"?t("div",{staticClass:"BasePrizeBoard_PrizeCash BasePrizeBoard_PrizeMoney",staticStyle:{"--classC":"21, 223, 255","background-color":"transparent"}},[t("BaseIconSvg",{staticClass:"BasePrizeBoard_ClassesIcon",attrs:{type:"xp",useMargin:!1}})],1):e._e(),r==="d"?t("div",{staticClass:"BasePrizeBoard_PrizeD",staticStyle:{"--classC":"28, 204, 255"}},[t("div",{staticClass:"BasePrizeBoard_PrizeClassesIcon"},[e._v("D")])]):e._e(),r==="e"?t("div",{staticClass:"BasePrizeBoard_PrizeE",staticStyle:{"--classC":"118, 242, 115"}},[t("div",{staticClass:"BasePrizeBoard_PrizeClassesIcon"},[e._v("E")])]):e._e(),r==="f"?t("div",{staticClass:"BasePrizeBoard_PrizeF",staticStyle:{"--classC":"135, 135, 135"}},[t("div",{staticClass:"BasePrizeBoard_PrizeClassesIcon"},[e._v("F")])]):e._e(),r===null?t("div",{staticClass:"BasePrizeBoard_PrizeD",staticStyle:{"--classC":"28, 204, 255"}},[t("i",{staticClass:"ticon-close_3 BasePrizeBoard_PrizeClose",attrs:{"aria-hidden":"true"}})]):e._e()])}),0):e._e()]):e._e()]})],2)},Ne=[],Ie=v(xe,Fe,Ne,!1,null,null);const Ae=Ie.exports,Ee={name:"BaseEventName",components:{BaseButtonTouch:y,BaseIconSvg:C},props:{item:{type:Object,default(){return{}}},customName:{type:String,default:""},maxLength:{type:Number,default:30},contentClass:{type:String,default:""}},data(){return{}},watch:{},beforeMount(){},mounted(){},computed:{name(){return this.customName?this.customName:this.item.name},tag(){if(!this.item.tag)return"";let a="";if(a+="BaseEventTag_"+this.item.tag.trim().toLowerCase().replace(/  +/g," ").replace(/ +/g,"_").replace(/-+/g,"_").normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""),this.item.startDateTime&&this.item.startDateTime.localeCompare(new Date().toISOString())>0&&(!this.item.tag||this.item.tag!=="Daily Event")&&(a+=" BaseEventTag_Preview"),this.item.endDateTime){let e=new Date-new Date(this.item.endDateTime);e>14*60*60*1e3?a+=" BaseEventTag_Ended":e>0&&(a+=" BaseEventTag_EndedEu")}return a}},methods:{}};var Oe=function(){var e=this,t=e._self._c;return t("BaseButtonTouch",{staticClass:"BaseEventName_Item",class:`${e.tag}`,staticStyle:{"padding-left":"15px","padding-right":"15px"},on:{click:function(s){return e.$emit("click",s)},longTouch:function(s){return e.$emit("longTouch",s)}}},[e.item.nameStyled?t("div",{staticClass:"BaseEventName_Right",class:e.contentClass,style:`font-size: ${e.name.length>e.maxLength?"0.8em":""}`,domProps:{innerHTML:e._s(e.item.nameStyled)}}):t("div",{staticClass:"BaseEventName_Right",class:e.contentClass,style:`font-size: ${e.name.length>e.maxLength?"0.8em":""}`},[e._v(e._s(e.name))]),e._l(e.item.icons,function(s){return t("i",{staticClass:"TdIconCond",class:`tdicon-${s}`,attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"path1"}),t("span",{staticClass:"path2"}),t("span",{staticClass:"path3"}),t("span",{staticClass:"path4"})])})],2)},Pe=[],Ge=v(Ee,Oe,Pe,!1,null,null);const qe=Ge.exports,Ve={name:"BaseMonoSlider",components:{},model:{prop:"value",event:"change"},props:{value:{required:!0},min:{type:Number,default:1},max:{type:Number,default:100},step:{type:Number,default:1},label:{type:String,default:null},logarithm:{type:Boolean,default:!1}},data(){return{elementAbove:1,internal1:0}},watch:{value(a){this.value!==this.internal1&&(this.internal1=this.value)}},beforeMount(){this.internal1=this.value},mounted(){},computed:{internal0(){return this.min}},methods:{update(a,e){console.log(a,e.target.value)},checkMouseDown(a){(a.ctrlKey||a.metaKey)&&this.$emit("ctrlClick")},changed(a,e){this.$emit("change",Number(this.internal1))}}};var ze=function(){var e=this,t=e._self._c;return t("div",{staticClass:"BaseDualSlider_Layout"},[t("div",{staticClass:"BaseDualSlider_InputBox",class:{BaseDualSlider_Tight:(e.internal1-e.internal0)*100/(e.max-e.min)<50,BaseDualSlider_MoreLeft:(e.internal0-e.min)*100/(e.max-e.min)>(e.internal1-e.max)*-100/(e.max-e.min)},style:`
      --posL: ${(e.internal0-e.min)*100/((e.max-e.min)*1)+0}%;
      --posR: ${(e.internal1-e.max)*-100/((e.max-e.min)*1)+0}%;
      --fillL: ${(e.internal1-e.min)*100/(e.max-e.min)}%;
      --fillR: ${(e.internal0-e.max)*-100/(e.max-e.min)}%;
    `},[t("div",{staticClass:"BaseDualSlider_Fill BaseDualSlider_TrackUnder",staticStyle:{left:"var(--posL)",right:"var(--posR)"}},[e.label?t("div",{staticClass:"BaseDualSlider_FillLabel"},[e._v(e._s(e.label))]):e._e()]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.internal1,expression:"internal1"}],staticClass:"BaseDualSlider_Input BaseDualSlider_Max",class:{BaseDualSlider_InputAbove:e.elementAbove===1},style:"width: calc( var(--fillR) + 30px;",attrs:{type:"range",min:e.min,max:e.max,step:e.step},domProps:{value:e.internal1},on:{change:e.changed,__r:function(s){e.internal1=s.target.value}}}),t("div",{staticClass:"BaseDualSlider_Track BaseDualSlider_TrackUpper BaseMonoSlider_Track"}),t("div",{staticClass:"BaseDualSlider_Fill BaseDualSlider_TrackUpper",staticStyle:{left:"var(--posL)",right:"var(--posR)"}},[e.label?t("div",{staticClass:"BaseDualSlider_FillLabel"},[e._v(e._s(e.label))]):e._e()]),t("div",{staticClass:"BaseDualSlider_LabelR"},[e._v(e._s(e.internal1))])])])},Ue=[],Ke=v(Ve,ze,Ue,!1,null,null);const Je=Ke.exports,He={name:"Main",components:{Car:I,Row:P,BaseDialog:D,Loading:ne,BaseAvatar:F,BaseChip:k,BaseGameTag:U,BaseCheckBox:x,BaseContentLoader:H,BaseTrackType:O,BaseText:$,BaseCard:G,BaseTypeName:E,BaseFilterDescription:W,BaseDonateButton:L,BaseDiscordButton:M,BaseLogoSpining:fe,BaseCompItem:Se,BaseConfigCheckBox:w,BaseSearchTrackDialog:q,BaseFilterDialog:z,BaseUserCard:R,BaseEventTrackbox:j,BaseButtonTouch:y,BaseCorner:Be,BaseSwitch:X,BaseReviewList:$e,BaseIconSvg:C,BaseMemoryDialog:de,BasePrizeBoard:Ae,BaseEventName:qe,BaseBrakeDialog:Y,BaseCardGallery:Z,BaseCarsTeam:ee,BaseExpandDiv:J,BaseMonoSlider:Je,BaseCarList:te},props:{phantomCar:{type:Object,default(){return{}}},isImport:{type:Boolean,default:!1}},data(){return{unsubscribe:null,inverted:!1,compact:!1,fullColors:!1,windowWidth:0,tempWindowWidth:0,isMobile:!1,isPrinting:!1,announcementDialog:!1,highlightsUsers:{},lastestList:[],statistics:{},statisticsLoading:!1,searchInputT:"",searchFilterDialog:!1,librarySearchDialog:!1,librarySearchDialogLoad:!1,libraryApprove:!1,memorySearchDialog:!1,memorySearchDialogLoad:!1,userloaded:!1,Vue,showReviews:!1,isReviewing:!1,reviewUrl:{},isFilteringT:!1,nextId:0,countTimesPerTrack:{},debounceCgSaveBank:null,searchLoadingT:!1,searchLoadingT2:!1,maxCarNumber:30,shareDialog:!1,pngLoading:!1,tuneDialogActive:!1,tuneDialogCar:null,tuneDialogCarIndex:null,tuneDialogRace:null,tuneDialogisOppo:!1,customTuneDialogActive:!1,customTuneDialogCar:null,customTuneDialogTune:null,memoryFirstTimeLoaded:!1,optionsDialogActive:!1,printImageDialog:!1,lastestLoading:!1,currentViewport:null,mraEditing:!1,mraEditInput:null,mraLoading:!1,voteLoading:!1,successVote:!1,saveToGalleryDialog:!1,saveToGalleryModel:{},saveToGalleryLoading:!1,saveToGalleryError:!1,confirmDelete:{dialog:!1,msg:"Confirm delete?",actionLabel:"Delete",action:null,loading:!1,classe:""},memory:[],customTrackDialog:!1,backToOptionsDialog:!0,hoverIndex:-1,gameVersion:"Game v28.0",showPoints:!1,pointsResolved:[],carHoverIndex:-1,cgLoading:!1,cgCurrentRound:0,cgCurrentRoundSum:0,cgRoundsNumber:1,cgCurrentId:null,cgCurrentName:null,cgList:[],cgRaceSelected:0,cgAddingYouCar:!1,cgAddingOppoCar:!1,cgRound:{},cgRoundToSave:[],cgBankToSave:[],cgRoundFilterString:null,cgRoundFilterToSave:null,cgBankToSaveLoading:!1,cgDialog:!1,cgDialogNew:!0,cg:{},cgLastKey:void 0,cgSaveLoading:!1,cgRequirementsDialog:!1,cgRequirementsDialogLoad:!1,cgFilterDialog:!1,cgFilterDialogLoad:!1,cgFilterForAddCar:{},cgSeletorDialog:!1,cgRoundSelectorDialog:!1,cgNewDialog:!1,cgNewModel:{name:null,numberRounds:10},cgNewLoading:!1,cgNewError:!1,cgRqEditDialog:!1,cgRqEditModel:null,cgRqEditString:null,cgRqNeedToSave:!1,cgAnalyseLoading:!1,cgIsApproving:!1,cgApprovingIndex:0,cgApprovingLength:0,cgNewSubmitByMod:!1,cgNewSubmitByModTemplate:null,cgLoadedAssets:[],cgSentForReview:!1,cgPointsEditDialog:!1,cgPointsEditModel:null,cgPointsEditString:null,cgPointsEditRace:null,cgPointsIsDraw:!1,cgShowResetSavedHand:!1,cgFilterForAnalyse:{},cgCompleteJson:"",cgRoundResultJson:"",cgRoundResultJsonErrorTxt:"",cgPermanentToggle:!0,cgLongToggle:!0,cgJsonDownloadRids:[],forceShowAnalyse:!1,event:{},eventCurrentId:null,eventCurrentName:null,eventCurrentIsHidden:!1,eventCacheCars:[],eventList:[],eventLoading:!1,eventAnalyseLoading:!1,eventSelectorDialog:!1,eventNewDialog:!1,eventNewName:null,eventNewIsHidden:!1,eventNewLoading:!1,eventNewError:!1,eventRqEditDialog:!1,eventRqEditModel:null,eventRqEditString:null,eventIcons:null,eventRequirementsDialog:!1,eventRequirementsDialogLoad:!1,eventKingDialog:!1,eventKingDialogLoad:!1,eventCheckFilterCodePre:null,eventCheckFilterCode:null,eventKingTracks:[],eventFilterToSave:null,eventFilterToSave2:null,eventFilterToSave3:null,eventFilterString:null,eventFilterString2:null,eventFilterString3:null,eventFilterForKing:{},eventFilterForKingLast:"",eventTracksetString:null,eventCompString:null,eventCompDialog:!1,eventCompIndex:null,eventCompTypes:{metas:["Dragster","Speedster","Twister"],tyres:["Performance","Standard","All-surface","Off-road","Slick"],drives:["2WD","4WD"],clearances:["Low","Mid","High"]},eventShowResetSavedHand:!1,eventForceAnalyze:!1,eventBlockAddTrackset:!1,eventTracksetSelected:0,eventRaceSelected:0,eventResponse:[],eventPointsReference:[{},{},{},{},{}],eventPicksList:[],eventShowOnlyPicks:!1,eventForcePicks:!1,eventMyGarage:!1,eventEnablePicks:!0,eventScoreType:"saverScore3",eventScoreList:["saverScore1","saverScore2","saverScore3"],eventUseWhatFilter:0,eventBestPerTrack:{},eventHasPrizeBoard:!1,eventParsedList:[],eventBestTeamsLoading:!1,eventBestTeamsDialog:!1,eventBestTeamsBigArray:[],eventBestTeamsLastCache:null,eventBestTeamsConfig:{myGarage:!1,forceCarsBool:!1,blackListBool:!1,repeatCars:!0,uniqueHands:!1,prizeCars:!0,neverAwardedCars:!0,predictedTimes:!0,forceCars:[{},{},{},{},{}],blackList:[]},eventBestTeamsTarget:{},eventBestLastLoadingMsg:null,club:{},clubLoading:!1,clubNewLoading:!1,clubAnalyseLoading:!1,clubFirstLoading:!0,clubServerDate:null,clubServerDateISO:null,clubServerNextDateAvailableISO:null,clubTracksGroupModel:{},clubReqsGroupModel:{},clubTracksGroups:[],clubTracksGroupsActive:[],clubReqGroups:[],clubReqGroupsActive:[],clubCompilation:[],clubCurrentTracksetString:null,clubCurrentCompString:null,clubCurrentTracksetIcons:null,clubCurrentName:null,clubRequirementsDialog:!1,clubRequirementsDialogLoad:!1,clubsIconsList:["asphalt","roll","clearance","rain","dirt","grass","gravel","ice","sand","snow"],clubDays:{},clubDayConfigDialog:!1,clubDaySelected:null,clubDaySelectedObj:{},clubDayCurrentTracksetStrig:null,clubDayCurrentReqStrig:null,clubCheckFilterCodePre:null,clubCheckFilterCode:null,clubForceAnalyze:!1,clubTracksetSelected:0,clubBlockAddTrackset:!1,clubPicksList:[],clubShowOnlyPicks:!1,clubShowAnalyse:!1,clubForcePicks:!1,clubEnablePicks:!0,clubPointsReference:[{},{},{},{},{}],clubScoreType:"saverScore3",clubTracksetDialog:!1,clubReqsDialog:!1,clubNewTracksetDialog:!1,clubNewTracksetName:"",clubNewTracksetLoading:!1,clubNewTracksetError:!1,clubNewReqsDialog:!1,clubNewReqsName:"",clubNewReqsLoading:!1,clubNewReqsError:!1,clubCurrentFilterString:null,clubCurrentFilterString2:null,clubCurrentFilterString3:null,clubCurrentFilterToSave:null,clubCurrentFilterToSave2:null,clubCurrentFilterToSave3:null,clubCurrentFilterForKing:{},clubCurrentCriteriaNameString:null,clubCurrentKingDialog:!1,clubCurrentKingFilterCodePre:null,clubCurrentKingFilterCode:null,clubIsShowingOriginal:!1,clubBlockOriginalButton:!1,clubUseWhatFilter:0,clubBestPerTrack:{},clubJson:"",kingDialog:!1,kingFilterDialog:!1,kingFilterDialogLoad:!1,kingTrack:!1,kingFilter:{},kingIsFiltering:!1,kingFilterCount:0,kingLoading:!1,kingShowDownvoted:!1,kingMyGarage:!1,kingFixed:!1,kingAddindTrack:!1,kingForceVerticalView:!0,kingClearFilter:{},memoryRenameDialog:!1,memoryRenameNewName:null,memoryRenameNewNameIndex:0,trackTimes:null,user:null,showCarsFix:!0,needSave:!1,saveLoading:!1,downloadLoading:!1,shareUrl:null,shareListCars:null,copyUrlSucess:!1,copyListSucess:!1,filterCountT:0,filterCountCg:0,lastestContributionsResolved:[],campaign:Q,smartCampaign:[],campaignDialog:!1,carDetailsList:[],toLoadTrackSet:null,currentTracks:[],currentTracksSetsNames:[],ignore50points:!1,pasteInputModel:null,tracksButtons:[{name:"Twisty",list:[{type:"00",active:!1,tracks:["carPark_a00","gForce_a00","gForcer_a00","hairpin_a00","indoorKart_a00","kart_a00","slalom_a00","slalomr_a00","tCircuit_a00","tCircuitr_a00","tRoad_a00","fast_a00","fastr_a00","canyonTour_a00","laguna_a00"]},{type:"00",active:!1,customSufix:"2",tracks:["forest_a00","townSlalom_a00","townSprint_a00","mnGforce_a00","mnHairpin_a00","mnCityNarrow_a00","mnCity_a00","mnCityLong_a00","tokyoLoop_a00","tokyoOffRamp_a00","tokyoOverpass_a00","nwGforce_a00","nwCircuit_a00","nwSlalom_a00","nwCathedral_a00","nwLoop_a00","nwTour_a00","northloop1_a00","northloop2_a00","northloop4_a00"]},{type:"01",active:!1,tracks:["carPark_a01","gForce_a01","hairpin_a01","kart_a01","slalom_a01","tCircuit_a01","tCircuitr_a01","tRoad_a01","fast_a01","laguna_a01","townSprint_a01","forest_a01","mnGforce_a01","mnHairpin_a01","canyonTour_a01","nwCathedral_a01"]},{type:"10",active:!1,tracks:["gForce_a10","hairpin_a10","tRoad_a10","tCircuit_a10","slalom_a10","moto_a10","rallySmall_a40","rallyMed_a40","mnHairpin_a40","airplaneSlalom_a10"]},{type:"11",active:!1,tracks:["gForce_a11","tRoad_a11","slalom_a11","rallySmall_a41","moto_a11","mnHairpin_a41","mtHairpin_a11"]},{type:"20",active:!1,tracks:["gForce_a20","hairpin_a20","tRoad_a20","slalom_a20","figureEight_ab0"]},{type:"30",active:!1,tracks:["gForce_a30","slalom_a30"]},{type:"50",active:!1,tracks:["gForce_a50","hairpin_a50","tRoad_a50","slalom_a50","oceanSlalom_ac0"]},{type:"60",active:!1,tracks:["gForce_a60","hairpin_a60","tRoad_a60","tCircuit_a60","frozenLake_ad0","slalom_a60","forest_a60"]}]},{name:"Drag",list:[{type:"00",active:!1,tracks:["mile4_a00","mile2_a00","mile1_a00","drag100_a00","drag120_a00","drag150_a00","drag170_a00","hClimb_a00","testBowl_a00"]},{type:"00",active:!1,customSufix:"2",tracks:["waterDrag_a00","nwDrag_a00","mile4r_a00","mile1r_a00","drag100b_a00","drag150b_a00","drag30130_a00","drag50150_a00","drag75125_a00","testBowlr_a00"]},{type:"01",active:!1,tracks:["drag100_a01","drag100b_a01","drag150_a01","mile4_a01","mile2_a01","mile1_a01","nwDrag_a01","testBowlr_a01"]},{type:"10",active:!1,tracks:["drag100_a10","drag100b_a10","drag150_a10","mile1_a10","hClimb_a10","testBowl_a10"]},{type:"11",active:!1,tracks:["mile4_a11","mile2_a11","hClimb_a11"]},{type:"20",active:!1,tracks:["drag100_a20","drag120_a20","mile4_a20","mile2_a20","mile1_a20","hClimb_a20","testBowlr_a20"]},{type:"30",active:!1,tracks:["mile4_a30"]},{type:"50",active:!1,tracks:["drag60_a50","mile4_a50","mile2_a50","mile1_a50","hClimb_a50"]},{type:"60",active:!1,tracks:["mile4_a60","mile2_a60","mile1_a60","testBowlr_a60"]}]},{name:"City",list:[{type:"00",active:!1,tracks:["csSmall_a00","csMed_a00"]},{type:"01",active:!1,tracks:["csSmall_a01","csMed_a01"]},{type:"50",active:!1,tracks:["csSmall_a50"]},{type:"60",active:!1,tracks:["csSmall_a60","csMed_a60"]}]}],tracksRepo:N,carList:[],surfaces:["Asphalt","Dirt","Gravel","Ice","Asphalt/Dirt","Sand","Snow","Grass","Asphalt/Gravel","Asphalt/Sand","Asphalt/Snow","Sand/Dirt"],conds:["Dry","Wet"],tunes:["332","233","323","111"]}},watch:{"$route.name":function(){let a=this.$route.name;(a==="Records"||a==="Compare"||a==="Challenges"||a==="Events"||a==="Clubs")&&(this.optionsDialogActive=!1,this.kingDialog=!1,this.kingFixed=!1,this.showPoints=!1,setTimeout(()=>{window.localStorage.setItem("mode",this.mode),this.changedMode()},100))},cgNeedSave:function(){this.cgNeedSave?window.onbeforeunload=function(){return"Are you sure you want to leave?"}:window.onbeforeunload=null,this.$store.commit("BEFOREUNLOAD_TOUCH")},eventNeedSave:function(){this.eventNeedSave?window.onbeforeunload=function(){return"Are you sure you want to leave?"}:window.onbeforeunload=null,this.$store.commit("BEFOREUNLOAD_TOUCH")},clubTrackNeedSave:function(){this.clubTrackNeedSave||this.clubDayNeedSave||this.clubReqNeedSave?window.onbeforeunload=function(){return"Are you sure you want to leave?"}:window.onbeforeunload=null,this.$store.commit("BEFOREUNLOAD_TOUCH")},clubDayNeedSave:function(){this.clubTrackNeedSave||this.clubDayNeedSave||this.clubReqNeedSave?window.onbeforeunload=function(){return"Are you sure you want to leave?"}:window.onbeforeunload=null,this.$store.commit("BEFOREUNLOAD_TOUCH")},clubReqNeedSave:function(){this.clubTrackNeedSave||this.clubDayNeedSave||this.clubReqNeedSave?window.onbeforeunload=function(){return"Are you sure you want to leave?"}:window.onbeforeunload=null,this.$store.commit("BEFOREUNLOAD_TOUCH")}},beforeMount(){this.isMobile=Vue.options.filters.isMobile(),this.clearSaveToGallery(),this.cgGetLocalStorage(),this.eventGetLocalStorage(),window.localStorage.getItem("_md");let a=window.localStorage.getItem("mode");a&&a!=="cg"&&this.$route.name==="Records"&&(this.mode=a),this.$route.query&&this.$route.query.approve&&(this.mode="compare",this.libraryApprove=!0,setTimeout(()=>{this.openLibraryDialog()},100)),window.localStorage.getItem("cars")||window.localStorage.setItem("_dt",JSON.stringify(new Date().getTime()));let t=window.localStorage.getItem("display");t&&this.display(t);let s=window.localStorage.getItem("colors");s&&this.colorsChange(s);let i=window.localStorage.getItem("kingShowDownvoted");i&&(i=JSON.parse(i),this.kingShowDownvoted=i);let r=window.localStorage.getItem("kingForceVerticalView");r&&(r=JSON.parse(r),this.kingForceVerticalView=r);let n=window.localStorage.getItem("eventShowOnlyPicks");n&&(n=JSON.parse(n),this.eventShowOnlyPicks=n);let l=window.localStorage.getItem("eventForcePicks");l&&(l=JSON.parse(l),this.eventForcePicks=l),this.$route.query&&this.$route.query.share&&this.$route.query.share.includes("~")?(this.changeMode("compare"),this.decodeTemplateString(this.$route.query.share,!0)):this.$route.query&&this.$route.query.cg&&this.$route.query.cg.includes("~")?(this.changeMode("challenges"),this.$route.query.cg.split("~").map(o=>{o[0]==="G"?this.cgCurrentId=decodeURI(o.substr(1)):o[0]==="R"&&(this.cgCurrentRound=Number(decodeURI(o.substr(1)))-1)}),this.$router.replace({query:null})):this.$route.query&&this.$route.query.event&&this.$route.query.event.includes("~")?(this.changeMode("events"),this.$route.query.event.split("~").map(o=>{o[0]==="G"&&(this.eventCurrentId=decodeURI(o.substr(1)))}),this.$router.replace({query:null})):this.$route.query&&this.$route.query.clubs!==void 0?(this.changeMode("clubs"),this.$router.replace({query:null})):this.changedMode(),this.handleResize(),window.addEventListener("resize",this.handleResize),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)},mounted(){let a=this;this.debounceCgSaveBank=Vue.debounce(this.cgSaveBank,2e3),this.getLastest(),this.getStatistics(),this.user=this.$store.state.user,a.unsubscribe=a.$store.subscribe(e=>{if(e.type=="CHANGE_TIME"){let t=a.carDetailsList.find(r=>r.softId===e.payload.car.softId),s=e.payload.item,i=e.payload.number;this.resolveChangeTime(t,s,i,t.selectedTune)}if(e.type=="DELETE_TIME"){let t=a.carDetailsList.find(o=>o.softId===e.payload.car.softId),s=e.payload.item,i=t.selectedTune,r=`${s.id}_a${s.surface}${s.cond}`,n=a.$t(`t_${s.id}`),l=function(){a.confirmDelete.loading=!0,a.saveLoading=!0,axios.post(Vue.preUrl+"/deleteTime",{rid:t.rid,tune:i,track:r}).then(o=>{a.confirmDelete.dialog=!1,Vue.set(t.data[i].times,r,void 0),a.showCarsFix=!1,a.$nextTick().then(()=>{a.showCarsFix=!0}),a.$store.commit("DEFINE_SNACK",{active:!0,correct:!0,text:a.$t("m_deleteSuccess")})}).catch(o=>{console.log(o),a.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:o,type:"error"}),(o.response||{}).status===401&&a.$store.commit("OPEN_LOGIN")}).then(()=>{a.confirmDelete.loading=!1,a.saveLoading=!1})};this.confirmDelete={dialog:!0,msg:`Delete '${n}' time of ${t.name}?`,actionLabel:"Delete",action:l,loading:!1,classe:"D_ButtonRed"}}if(e.type=="DELETE_TRACK"&&(a.currentTracks.splice(e.payload.track,1),a.verifyActiveButtons(),a.updateOptions()),e.type=="CHANGE_TUNE"){let t;a.mode==="compare"?t=a.carDetailsList.find(s=>s.softId===e.payload.car.softId):a.mode,a.changeTuneCar(t,e.payload.tune,!0)}if(e.type=="CHANGE_STAT"){let t=a.carDetailsList.find(s=>s.softId===e.payload.car.softId);a.changeStatCar(t,e.payload.type,e.payload.value)}if(e.type=="SHOW_TUNE"){let t=a.carDetailsList.findIndex(i=>i.softId===e.payload.car.softId),s=a.carDetailsList[t];s&&(a.tuneDialogCar=s,a.tuneDialogCarIndex=t,a.tuneDialogActive=e.payload.active,a.tuneDialogisOppo=!1)}e.type=="HOVER_INDEX"&&e.payload&&(document.querySelector("[class*='_DraggingParent']")||(a.hoverIndex=e.payload)),e.type=="CHANGE_USER"&&(a.user=e.payload.user,a.userloaded=!0),e.type=="LOGOUT"&&(a.user=null)})},beforeDestroy(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("keydown",this.handleKeydown),window.removeEventListener("keyup",this.handleKeyUp),this.unsubscribe()},computed:{mode:{get:function(){if(this.$route.name==="Records"||this.$route.name==="Compare")return"compare";if(this.$route.name==="Challenges")return"challenges";if(this.$route.name==="Events")return"events";if(this.$route.name==="Clubs")return"clubs"},set:function(a){this.$route.path.includes(a)||(a==="compare"&&this.$router.push({name:"Compare"}),a==="challenges"&&this.$router.push({name:"Challenges"}),a==="events"&&this.$router.push({name:"Events"}),a==="clubs"&&this.$router.push({name:"Clubs"}))}},optionsDialogComputed(){return this.customTrackDialog||this.librarySearchDialog||this.memorySearchDialog||this.searchFilterDialog||this.kingDialog||this.kingFixed?!1:this.optionsDialogActive},highlights(){let a=this,e=[],t={};a.countTimesPerTrack={},this.carDetailsList.map(i=>{e.push({})}),this.currentTracks.map((i,r)=>{a.countTimesPerTrack[`${i.id}_a${i.surface}${i.cond}`]=0,t[`${i.id}_a${i.surface}${i.cond}`]=[],e.map(n=>{n[`${i.id}_a${i.surface}${i.cond}`]=null})}),this.carDetailsList.map(i=>{i.selectedTune&&i.data&&i.data[i.selectedTune]&&i.data[i.selectedTune].times&&Object.keys(i.data[i.selectedTune].times).forEach(function(r){t[r]&&(a.countTimesPerTrack[r]=a.countTimesPerTrack[r]+1,t[r].push((i.data[i.selectedTune].times[r]||{}).t))})}),Object.keys(t).forEach(function(i){t[i].length===1?t[i]=[]:(t[i].sort(function(r,n){return i.includes("testBowl")?n-r:r===0?9999999:n===0?-9999999:r-n}),t[i]=[...new Set(t[i])])});let s;return e.map((i,r)=>{Object.keys(i).forEach(function(n){a.carDetailsList[r].data&&a.carDetailsList[r].data[a.carDetailsList[r].selectedTune]&&a.carDetailsList[r].data[a.carDetailsList[r].selectedTune].times&&a.carDetailsList[r].data[a.carDetailsList[r].selectedTune].times[n]&&(s=a.carDetailsList[r].data[a.carDetailsList[r].selectedTune].times[n].t,i[n]=t[n].indexOf(s))})}),e},contributorsList(){let a=this,e=[];this.carDetailsList.map(s=>{s.data&&s.selectedTune&&s.data[s.selectedTune]&&Object.keys(s.data[s.selectedTune]).forEach(function(i){Object.keys(s.data[s.selectedTune][i]).forEach(function(r){a.currentTracks.find(n=>r.includes(n.code))&&(s.data[s.selectedTune][i][r]||{}).u&&e.push((s.data[s.selectedTune][i][r]||{}).u)})})});var t=e.reduce(function(s,i){return s[i]=(s[i]||0)+1,s},{});return e=Object.keys(t).sort(function(s,i){return t[i]-t[s]}),e},tuneDialogTunes(){let a=["332","323","233"];return this.tuneDialogCar.data&&this.$store.state.showCustomTunes&&Object.keys(this.tuneDialogCar.data).forEach(e=>{e[0]!=="v"&&!a.includes(e)&&a.push(e)}),this.tuneDialogCar.forceTune&&!a.includes(this.tuneDialogCar.forceTune)&&a.push(this.tuneDialogCar.forceTune),(this.tuneDialogCar.class==="S"||this.tuneDialogCar.class==="A")&&!a.includes("111")&&a.push("111"),this.mode==="compare"&&this.tuneDialogCar.data&&this.$store.state.showDataFromPast&&Object.keys(this.tuneDialogCar.data).forEach(e=>{e[0]==="v"&&a.push(e)}),a},tunesCount(){if(!this.tuneDialogCar.data)return{};let a={};return this.tuneDialogTunes.map(e=>{this.tuneDialogCar.data[e]&&this.tuneDialogCar.data[e].times&&(a[e]=Object.keys(this.tuneDialogCar.data[e].times).filter(t=>this.tuneDialogCar.data[e].times[t]&&this.tuneDialogCar.data[e].times[t].t!==0).length)}),a},cgNeedSave(){return!this.user||this.cgNewSubmitByMod?!1:this.cgRoundToSave.length>0||this.needSave||this.cgRoundFilterToSave||this.cgRqNeedToSave},showAnalyse(){if(this.mode!=="challenges"||!this.user||!this.user.mod||this.cgNeedSave||!this.cgRound||this.cgNewSubmitByMod||this.cgNewSubmitByModTemplate)return!1;let a=!0;return this.forceShowAnalyse?!0:(this.cgRound.races.map(e=>{(!e.rid||e.time===void 0||e.time===null)&&(a=!1),e.track||(a=!1),e.cars&&e.cars.length>4&&(a=!1)}),a)},isRoundEmptyForUser(){if(this.mode!=="challenges"||!this.user||this.user.mod||!this.cgRound)return!1;if(!this.cgRound.lastAnalyze)return!0},isRoundEmptyForModders(){if(this.mode!=="challenges"||!this.user||!this.user.mod||!this.cg.date||!this.cg.rounds[this.cgCurrentRound]||this.cg.rounds[this.cgCurrentRound].reservedTo||this.cg.rounds[this.cgCurrentRound].creator)return!1;if(!this.cg.rounds[this.cgCurrentRound].lastAnalyze||this.cgNewSubmitByMod)return!0},isRoundReadyForSaveUser(){if(!this.isRoundEmptyForUser)return!1;let a=!0;return this.cgRound.races.map(e=>{(!e.rid||e.time===void 0||e.time===null)&&(a=!1),e.track||(a=!1),e.cars&&e.cars.length>4&&!this.cgRound.isPreview&&(a=!1)}),a},isRoundComplete(){if(this.mode!=="challenges"||!this.cgRound||!this.cgRound.date||!Array.isArray(this.cgRound.races))return!1;let a=!0;return this.cgRound.races.find(e=>{if(!e.rid||!e.track||!e.tune||!e.time&&e.time!==0)return a=!1,!0}),a},isRoundReadyForPreview(){if(this.mode!=="challenges"||!this.user||!this.cgRound.date||this.cgRound.lastAnalyze||this.cgRound.isPreview||this.cgNewSubmitByMod||this.showAnalyse&&!this.cgIsApproving)return!1;let a=!0;return this.cgRound.races.find(e=>{if(!e.rid||!e.track||!e.tune)return a=!1,!0}),a},isRoundModAllowedEdit(){if(this.mode!=="challenges"||!this.user||!this.user.mod||!this.cgRound.date)return!1;if(this.cgRound.reservedTo===this.user.username||this.cgRound.lastAnalyze)return!0},cgBlockDownloadAssets(){if(this.mode!=="challenges")return!1;if(!this.cgRound||!this.cgRound.races)return!0;let a=!0;return this.cgRound.races.find(e=>{if(e.rid)return a=!1,!0}),a},cgLoadingAny(){return this.mode!=="challenges"?!1:this.downloadLoading||this.cgLoading||this.cgSaveLoading||this.cgNewLoading||this.saveLoading||this.cgBankToSaveLoading||this.cgAnalyseLoading},eventLoadingAny(){return this.mode!=="events"?!1:this.downloadLoading||this.eventLoading||this.eventNewLoading||this.saveLoading||this.eventAnalyseLoading},clubLoadingAny(){return this.mode!=="clubs"?!1:this.downloadLoading||this.clubLoading||this.clubNewLoading||this.saveLoading||this.eventAnalyseLoading},isEvents(){return this.mode==="events"},isClubs(){return this.mode==="clubs"},eventComp(){return this.isEvents?this.event.comp:this.clubTracksGroupModel.comp},pngLabel(){return this.pngLoading?this.$t("m_pleaseWait3dot"):this.$t("m_downloadPng")},eventNeedSave(){return this.mode!=="events"||!this.eventCurrentId||this.eventCurrentId==="_preview_"||!this.user||this.user&&!this.user.mod||this.event.noAccess?!1:!!(this.eventFilterToSave&&JSON.stringify(this.eventFilterToSave)!==this.eventFilterString||this.eventFilterToSave2&&JSON.stringify(this.eventFilterToSave2)!==this.eventFilterString2||this.eventFilterToSave3&&JSON.stringify(this.eventFilterToSave3)!==this.eventFilterString3||this.eventCompString!==JSON.stringify(this.event.comp)||this.eventRqEditString!==JSON.stringify(this.event.rqLimit)||this.eventIcons!==JSON.stringify(this.event.icons)||this.eventNeedSaveTrackset)},eventNeedSaveTrackset(){if(this.eventTracksetString===JSON.stringify(this.event.trackset))return!1;let a=JSON.parse(this.eventTracksetString),e=!1;return a.length!==this.event.trackset.length?!0:(e=a.every((t,s)=>t.every(i=>this.event.trackset[s].some(r=>i===r))),!e)},clubTrackNeedSave(){return this.mode!=="clubs"||!this.user||this.user&&!this.user.mod||this.clubFirstLoading?!1:this.clubCurrentTracksetString!==JSON.stringify(this.clubTracksGroupModel.trackset)||this.clubCurrentCompString!==JSON.stringify(this.clubTracksGroupModel.comp)||this.clubCurrentTracksetIcons!==JSON.stringify(this.clubTracksGroupModel.icons)||this.clubCurrentName!==JSON.stringify(this.clubTracksGroupModel.name)},clubReqNeedSave(){return this.mode!=="clubs"||!this.user||this.user&&!this.user.mod||!this.clubReqsGroupModel.name||this.clubFirstLoading?!1:!!(this.clubCurrentFilterToSave&&JSON.stringify(this.clubCurrentFilterToSave)!==this.clubCurrentFilterString||this.clubCurrentFilterToSave2&&JSON.stringify(this.clubCurrentFilterToSave2)!==this.clubCurrentFilterString2||this.clubCurrentFilterToSave3&&JSON.stringify(this.clubCurrentFilterToSave3)!==this.clubCurrentFilterString3||this.clubCurrentCriteriaNameString!==JSON.stringify(this.clubReqsGroupModel.name))},clubDayNeedSave(){return this.mode!=="clubs"||!this.user||this.user&&!this.user.mod||this.clubFirstLoading?!1:this.clubDayCurrentTracksetStrig!==JSON.stringify(this.clubDaySelectedObj.tracksetGroups)||this.clubDayCurrentReqStrig!==JSON.stringify(this.clubDaySelectedObj.criterias)},clubArrayClubDays(){let a=[];return Object.keys(this.clubDays).map(e=>{a.push(this.clubDays[e])}),a.sort(function(e,t){return e.date.localeCompare(t.date)}),a},clubShowSaveOriginalOrder(){if(this.mode!=="clubs"||!this.user||this.user&&!this.user.mod||this.clubFirstLoading)return!1;let a=JSON.parse(this.clubCurrentTracksetString);return Array.isArray(a)&&Array.isArray(a[0])&&a[0].length>0?this.clubCurrentTracksetString!==JSON.stringify(this.clubTracksGroupModel.trackset):!1},clubHasOriginalOrder(){if(this.mode!=="clubs"||this.clubFirstLoading||!this.clubTracksGroupModel.tracksetOriginal)return!1;let a=this.clubTracksGroupModel.tracksetOriginal;if(Array.isArray(a)&&Array.isArray(a[0])&&a[0].length>0)return!0},eventFilterConfig(){return this.whatTier&&this.whatTier<=3?{topSpeed:!1,acel:!1,hand:!1,weight:!1,tunes:!0}:{topSpeed:!1,acel:!1,hand:!1,weight:!1,rq:!1,year:!1,tyres:!1,drives:!1,clearances:!1,countrys:!1,seats:!1,prizes:!1,bodyTypes:!1,fuel:!1,engine:!1,tags:!1,brands:!1}},showPointsCg(){return this.showPoints||this.$store.state.showPointsCgForce},whatTier(){let a=0;return this.user?(this.user.tier&&(a=this.user.tier),this.mode==="clubs"&&this.user.mod&&(a>3||a===0)&&(a=3),a):0},eventBestTeamSameAsBefore(){return this.eventBestTeamsLastCache?JSON.stringify({...this.eventBestTeamsTarget,...this.eventBestTeamsConfig})===this.eventBestTeamsLastCache:!1}},methods:{pushTrackSet(a){let e;a.map(t=>{e=this.indexOfTrack(t),e===-1&&this.currentTracks.push(...this.validateTracks([t]))}),this.verifyActiveButtons()},removeTrackSet(a){let e;a.map(t=>{e=this.indexOfTrack(t),e>-1&&this.currentTracks.splice(e,1)}),this.verifyActiveButtons()},pushTrack(a,e=!1){this.indexOfTrack(a)===-1&&!e?this.currentTracks.push(...this.validateTracks([a])):e&&this.validateTracks([a],e)},removeTrack(a,e=!1){let t=this.indexOfTrack(a);t>-1&&!e?this.currentTracks.splice(t,1):e&&this.validateTracks([a],e)},clickTracksetHandle(a,e){if(a.target&&typeof a.target.className=="string"&&a.target.className.startsWith("BaseTrackType_Button")){let t=a.target.attributes.getNamedItem("dataitype").value;this.toggleTrackSet(e.list[t].tracks)}},toggleTrackSet(a){this.includeAllTracks(a)&&this.currentTracks.length>=a.length?this.removeTrackSet(a):(this.removeTrackSet(a),this.pushTrackSet(a))},toggleTrack(a,e={}){if(this.mode==="challenges"){Vue.set(this.cgRound.races[this.cgRaceSelected],"track",a),this.resolveTrack(this.cgRound.races[this.cgRaceSelected]),this.closeDialogTrackSearch(),this.cgRoundToSave.push({type:"track",track:a,raceIndex:this.cgRaceSelected});return}if(this.mode==="events"){Vue.set(this.event.trackset[this.eventTracksetSelected],this.eventRaceSelected,a),this.eventResolveTrackset(),this.closeDialogTrackSearch();return}if(this.mode==="clubs"){Vue.set(this.clubTracksGroupModel.trackset[this.eventTracksetSelected],this.eventRaceSelected,a),this.clubsResolveTrackGroup(),this.closeDialogTrackSearch();return}if(this.kingAddindTrack){this.kingAddindTrack=!1,this.kingTrack=a,this.kingTrack=this.resolveTrack({track:a},!1,!1),this.closeDialogTrackSearch(),this.kingFixed&&this.kingAnalyse();return}this.currentTracks.findIndex(s=>{if(a===`${s.id}_a${s.surface}${s.cond}`)return!0})===-1?this.pushTrack(a,e.ctrlKey||e.metaKey):this.removeTrack(a,e.ctrlKey||e.metaKey),this.verifyActiveButtons()},stringToggleTrackSet(a){this.toggleTrackSet(this[a])},validateTracks(a,e=!1){let t=[],s,i,r=[];if(a.map(n=>{this.tracksRepo.find(l=>n.slice(0,-4)!==l.id?!1:l.types.find(o=>{if(n===`${l.id}_a${o}`)return e&&l.group?(s=l.group,i=o):t.push({name:l.name,id:l.id,surface:o[0],cond:o[1],code:`${l.id}_a${o}`}),!0}))}),e)this.tracksRepo.map(n=>{s===n.group&&n.types.includes(i)&&r.push(`${n.id}_a${i}`)}),this.toggleTrackSet(r);else return t},moreTracksCar(a){a=this.orderTracksIds(a),a.map(e=>{this.toggleTrack(e)})},orderTracksIds(a){let e=["00","01","c1","10","11","40","41","20","b0","30","g0","50","e0","c0","60","d0","h0","h1","70","71"],t=[];return a.map(s=>{this.tracksRepo.find((i,r)=>i.types.find((n,l)=>{if(`${i.id}_a${n}`===s)return t.push({icir:r,itype:e.indexOf(n),code:s}),!0}))}),t.sort(function(s,i){return s.itype===i.itype?s.icir-i.icir:s.itype-i.itype}),t.map(s=>s.code)},indexOfTrack(a){return this.currentTracks.findIndex(e=>{if(a===`${e.id}_a${e.surface}${e.cond}`)return!0})},includeAllTracks(a){let e=!0,t;return a?(a.map(s=>{t=this.currentTracks.findIndex(i=>{if(s===`${i.id}_a${i.surface}${i.cond}`)return!0}),t===-1&&(e=!1)}),e):!1},clearAllTracks(){this.currentTracks=[],this.verifyActiveButtons()},clearAllCars(){this.carDetailsList=[],this.showCarsFix=!1,this.$nextTick().then(()=>{this.showCarsFix=!0}),this.updateCarLocalStorage()},pushCpSuggest(a){a.e&&(a.e.ctrlKey||a.e.metaKey)&&this.clearAllTracks(),this.toggleTrackSet(a.list.map(e=>e.code))},verifyActiveButtons(){this.tracksButtons.map(r=>{r.list.map(n=>{this.includeAllTracks(n.tracks)?n.active=!0:n.active=!1})}),this.tracksRepo.map(r=>{r.types.find(n=>{this.currentTracks.findIndex(o=>{if(`${r.id}_a${n}`==`${o.id}_a${o.surface}${o.cond}`)return!0})===-1?Vue.set(r,n,!1):Vue.set(r,n,!0)})});let a=this.currentTracks.map(r=>`${r.id}_a${r.surface}${r.cond}`),e=[];this.currentTracks.map((r,n)=>{let l=[],o=`${r.id}_a${r.surface}${r.cond}`;this.campaign.map((c,u)=>{c.matches.map((d,h)=>{d.races.map((g,p)=>{g.name===o&&l.push({city:c.name,icity:u,imatch:h,irace:p,code:`${u}${h}`})})})}),e.push(l)}),this.currentTracks.map((r,n)=>{let l;e[n].map(o=>{(!l||this.isChamp(l.city)&&!this.isChamp(o.city)||o.irace<l.irace&&!this.isChamp(o.city)||o.irace<=l.irace&&o.icity>l.icity||o.irace<=l.irace&&o.imatch>l.imatch)&&(l=o)}),l?(r.campaign=`${l.city} ${l.imatch+1}`,this.isChamp(l.city)||(r.campaignNum=l.irace+1)):r.campaign="Not in campaign"});let t=[];this.campaign.map((r,n)=>{r.name.startsWith("SN")||r.name.startsWith("YB")||r.matches.map((l,o)=>{let c=[],u=0;l.races.map((d,h)=>{a.includes(d.name)&&(c.push(d.name),u+=h)}),t.push({name:r.name,icity:n,imatch:o,indexSum:u,includes:c})})}),t.sort(function(r,n){return n.includes.length!==r.includes.length?n.includes.length-r.includes.length:r.indexSum-n.indexSum});let s=JSON.parse(JSON.stringify(a)),i=[];t.map((r,n)=>{s.length>0,r.includes.find(o=>{if(s.includes(o))return!0})&&(i.push(r),r.includes.map(o=>{s=s.filter(c=>c!==o)}))}),this.smartCampaign=i,this.showCarsFix=!1,this.$nextTick().then(()=>{this.showCarsFix=!0})},updateOptions(){this.optionsDialogActive=!1,window.localStorage.setItem("tracks",JSON.stringify(this.currentTracks))},toggleSize(){this.inverted=!this.inverted},deleteCar(a){if(this.mode==="challenges"){this.tuneDialogisOppo?(this.tuneDialogRace.car=void 0,this.tuneDialogRace.rid=void 0,this.calcRaceResult(this.tuneDialogRace)):this.tuneDialogRace.carIndex=void 0,this.tuneDialogActive=!1,this.showCarsFix=!1,this.$nextTick().then(()=>{this.showCarsFix=!0});return}this.isReviewing=!1,this.carDetailsList.find((t,s)=>s===a).dataToSave,this.carDetailsList=this.carDetailsList.filter((t,s)=>s!==a),this.showCarsFix=!1,this.$nextTick().then(()=>{this.showCarsFix=!0}),this.updateCarLocalStorage(),this.tuneDialogActive=!1},openDialogTrackSearch(a=!0,e){this.customTrackDialog=!0,this.optionsDialogActive=!1,this.backToOptionsDialog=a,e==="king"&&(this.kingAddindTrack=!0),setTimeout(()=>{try{document.querySelector("#SearchTrackInput").focus()}catch{}},10)},closeDialogTrackSearch(){this.kingAddindTrack=!1,this.customTrackDialog=!1,this.backToOptionsDialog&&this.openMainDialog(),this.updateOptions()},closeTune(){this.isReviewing||(this.tuneDialogActive=!1,this.mraEditing=!1,this.mraEditInput=null)},addCar(a){this.carDetailsList.length<this.maxCarNumber&&(this.carDetailsList.push(a),this.carDetailsList[this.carDetailsList.length-1].softId=this.nextId,this.nextId++,this.carDetailsList.length>=this.maxCarNumber&&(this.searchFilterDialog=!1),this.showCarsFix=!1,this.$nextTick().then(()=>{this.showCarsFix=!0}),this.updateCarLocalStorage(),this.downloadCar(this.carDetailsList[this.carDetailsList.length-1].rid))},addCarCg(a,e=!1){let t=this.cgRound.races[this.cgRaceSelected];this.cgFilterDialog=!1;let s=Vue.all_cacheObj[a.rid];if(s||(e&&console.log("!found"),Vue.all_cacheObj[a.rid]={rid:a.rid}),this.cgAddingOppoCar)Vue.set(t,"rid",a.rid),Vue.set(t,"car",a),e&&console.log("this.cgAddingOppoCar");else if(this.cgAddingYouCar){let i=t.cars.findIndex(r=>r.rid===(t.cars[t.carIndex]||{}).rid&&r.tune===void 0);i>-1?(t.carIndex=i,e&&console.log(`race.carIndex ${t.carIndex} ${(t.cars[t.carIndex]||{}).rid}`)):(e&&console.log("found"),t.cars.push({rid:a.rid}),t.carIndex=t.cars.length-1,Vue.set(t.cars[t.carIndex],"photo",Vue.carPhoto(a)),Vue.set(t.cars[t.carIndex],"car",JSON.parse(JSON.stringify(a))),Vue.set(t.cars[t.carIndex],"color",Vue.resolveClass(t.cars[t.carIndex].car.rq,t.cars[t.carIndex].car.class,"color")),e&&console.log(t.cars[t.carIndex]))}(!e||!s)&&this.downloadCar(a.rid,!0),this.cgSaveRoundHand()},display(a,e=!0){a==="vertical"&&(this.inverted=!0,this.compact=!1),a==="horizontal"&&(this.inverted=!1,this.compact=!1),a==="horizontal2"&&(this.inverted=!1,this.compact=!0),e&&window.localStorage.setItem("display",a)},colorsChange(a,e=!0){a==="medals"&&(this.fullColors=!1),a==="full"&&(this.fullColors=!0),e&&window.localStorage.setItem("colors",a)},changeMode(a,e=!0){this.optionsDialogActive=!1,this.kingDialog=!1,this.kingFixed=!1,this.showPoints=!1,setTimeout(()=>{this.mode=a,e&&window.localStorage.setItem("mode",a)},100)},changedMode(){if(this.mode==="compare"&&this.currentTracks.length===0){let a=window.localStorage.getItem("tracks");a&&(a=JSON.parse(a),typeof a=="object"&&(a=a.map(t=>`${t.id}_a${t.surface}${t.cond}`)),this.pushTrackSet(a)),this.currentTracks.length===0&&this.pushTrackSet(this.tracksButtons[0].list[0].tracks);let e=window.localStorage.getItem("cars");e&&this.prepareCars(JSON.parse(e))}this.mode==="compare"&&(this.searchFilterDialog=!1),this.mode==="challenges"&&this.cgList.length===0&&this.loadChallenges(),this.mode==="events"&&(this.eventList.length===0&&this.loadEvents(),this.resetBestTeamsConfig()),this.mode==="clubs"&&(this.clubTracksGroups.length===0&&this.loadClubs(),this.resetBestTeamsConfig())},newIndex(a,e=!1,t=!1){a.current,a.new;let s="carDetailsList";for(t&&(s="currentTracks");a.current<0;)a.current+=this[s].length;for(;a.new<0;)a.new=0;if(a.new>this[s].length&&(a.new=this[s].length),this[s].splice(a.new,0,this[s].splice(a.current,1)[0]),e){this.tuneDialogCarIndex=a.new;let i=Number(getComputedStyle(document.body).getPropertyValue("--cell-width").trim().slice(0,-2));this.compact&&(i=Number(getComputedStyle(document.querySelector(".Main_Compact")).getPropertyValue("--cell-width").trim().slice(0,-2)));let r=0;this.inverted&&(r=Number(getComputedStyle(document.querySelector(".Main_2")).getPropertyValue("--cell-height").trim().slice(0,-2)));let n=a.new<a.current?-1:1,l=a.current+n-a.current;a.pos={dragLeft:0,dragTop:0},a.posOther={dragLeft:0,dragTop:0},this.inverted?(a.pos.dragTop=r*l*-1,a.posOther.dragTop=r*l*1):(a.pos.dragLeft=i*l*-1,a.posOther.dragLeft=i*l*1)}this.updateCarLocalStorage(),this.updateOptions(),this.showCarsFix=!1,this.$nextTick().then(()=>{this.showCarsFix=!0,a.pos&&this.$nextTick().then(()=>{let i=document.querySelector("#Car_Layout"+a.new),r=document.querySelector("#Car_Layout"+a.current);i&&(i.style.setProperty("--drag-left",a.pos.dragLeft),i.style.setProperty("--drag-top",a.pos.dragTop),a.posOther&&(r.style.setProperty("--drag-left",a.posOther.dragLeft),r.style.setProperty("--drag-top",a.posOther.dragTop)),setTimeout(()=>{i.style.setProperty("--drag-left",0),i.style.setProperty("--drag-top",0),a.posOther&&(r.style.setProperty("--drag-left",0),r.style.setProperty("--drag-top",0))},1))})})},getStatistics(){this.statisticsLoading=!0,axios.get(Vue.preUrl+"/statistics").then(a=>{this.statistics={...this.statistics,...a.data},axios.get(Vue.preUrlCharlie+"/statisticsC").then(e=>{this.statisticsLoading=!1,this.statistics={...this.statistics,...e.data}}).catch(e=>{this.statisticsLoading=!1,console.log(e)})}).catch(a=>{this.statisticsLoading=!1,console.log(a)})},getLastest(){this.lastestLoading=!0,axios.get(Vue.preUrl+"/lastest").then(a=>{this.lastestLoading=!1,this.highlightsUsers=Vue.resolveHighlightsUsers(a.data),this.lastestList=a.data.find(t=>t.id==="lastestcars").value;let e=a.data.find(t=>t.id==="mra").value;Vue.all_carsArr.map(t=>{Vue.set(t,"mra",e[t.rid]||t.mra)}),this.carDetailsList.map(t=>{Vue.set(t,"mra",e[t.rid]||t.mra)})}).catch(a=>{this.lastestLoading=!1,console.log(a)})},updateCarLocalStorage(){let a=this.carDetailsList.map(e=>({rid:e.rid,selectedTune:e.selectedTune}));window.localStorage.setItem("cars",JSON.stringify(a))},prepareCars(a){let e=[];a&&a.length>0&&a.map(t=>{let s=Vue.all_carsObj[t.rid];s?(e.push(JSON.parse(JSON.stringify(s))),t.selectedTune&&(e[e.length-1].selectedTune=t.selectedTune),e[e.length-1].softId=this.nextId,this.nextId++):(e.push({rid:t.rid,selectedTune:t.selectedTune,class:"?",rq:null,onlyName:"",brand:"",year:null,abs:!0,tcs:!0,clearance:null,country:null,topSpeed:null,acel:null,hand:null,drive:null,tyres:null,mra:null,weight:1e3,name:"",tags:[],prize:!1,bodyTypes:[],fuel:"Petrol",seats:"1",engine:"Mid",brake:null}),e[e.length-1].softId=this.nextId,this.nextId++)}),Vue.set(this,"carDetailsList",e),this.downloadDataCars(!0)},recheckCarDetailsList(){this.carDetailsList.map((a,e)=>{if(a.clearance===null){let t=Vue.all_carsObj[a.rid];Vue.set(this.carDetailsList,e,{...a,...JSON.parse(JSON.stringify(t))})}}),this.carDetailsList.length>0&&(this.showCarsFix=!1,this.$nextTick().then(()=>{this.showCarsFix=!0}))},saveAll(a=!1){this.saveLoading=!0;let e=[];if(this.mode==="challenges"?Object.keys(Vue.all_cacheObj).map(t=>{Vue.all_cacheObj[t].dataToSave&&e.push({rid:t,data:Vue.all_cacheObj[t].dataToSave})}):this.carDetailsList.map(t=>{t.dataToSave&&e.push({rid:t.rid,data:t.dataToSave})}),e.length===0){a&&this.cgSaveBank(),this.saveLoading=!1;return}axios.post(Vue.preUrl+"/update",e).then(t=>{this.needSaveChange(!1),this.clearDataToSave(),this.mode==="compare"&&this.$store.commit("DEFINE_SNACK",{active:!0,correct:!0,text:this.$t("m_saveSuccess")}),a&&this.cgSaveBank()}).catch(t=>{console.log(t),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:t,type:"error"}),(t.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")}).then(()=>{this.saveLoading=!1})},saveImport(){this.saveLoading=!0;let a=[];a.push({rid:this.carDetailsList[0].rid,data:this.carDetailsList[0].data}),a=JSON.parse(JSON.stringify(a)),Object.keys(a[0].data[Object.keys(a[0].data)[0]].times).forEach(function(e){e.substr(e.length-4,2)!=="_a"&&delete a[0].data[Object.keys(a[0].data)[0]].times[e]}),axios.post(Vue.preUrl+"/import",a).then(e=>{this.needSaveChange(!1),this.$store.commit("DEFINE_SNACK",{active:!0,correct:!0,text:this.$t("m_saveSuccess")})}).catch(e=>{console.log(e),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:e,type:"error"}),(e.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")}).then(()=>{this.saveLoading=!1})},downloadDataCars(a=!1){this.downloadLoading=!0;let e=[],t=this.mode;if(this.mode==="compare"||a?this.carDetailsList.map(i=>{e.push({rid:i.rid})}):this.mode==="challenges"&&Object.keys(Vue.all_cacheObj).map(i=>{Vue.all_cacheObj[i].rid&&!Vue.all_cacheObj[i].data&&e.push({rid:i})}),e.length===0){this.downloadLoading=!1,this.checkAnnouncement(),this.mode==="challenges"&&setTimeout(()=>{this.cgResolveRqFill()},100);return}let s=Vue.preUrl+"/cars";s=this.finalizeUrl(s),axios.post(s,e).then(i=>{this.applyNewData(i.data,this.mode==="challenges",t)}).catch(i=>{console.log(i),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:i,type:"error"})}).then(()=>{this.downloadLoading=!1,this.checkAnnouncement()})},downloadCar(a,e=!1){this.downloadLoading=!0;let t=this.mode,s=Vue.preUrl+"/car/"+a;s=this.finalizeUrl(s),e&&this.cgJsonDownloadRids.push(a),axios.get(s).then(i=>{if(e&&(this.cgJsonDownloadRids=this.cgJsonDownloadRids.filter(r=>r!==a)),this.mode==="compare")if(i.data===""||!i.data.data||!i.data.data[233]&&!i.data.data[323]&&!i.data.data[332]&&!i.data.data[111]||(!i.data.data[233]||!i.data.data[233].times)&&(!i.data.data[323]||!i.data.data[323].times)&&(!i.data.data[332]||!i.data.data[332].times)&&(!i.data.data[111]||!i.data.data[111].times)){let r=this.carDetailsList.find(n=>n.rid===a);Vue.set(r,"isEmpty",!0),i&&i.data&&this.applyNewData([i.data],!1,t)}else this.applyNewData([i.data],!1,t);else this.applyNewData([i.data],!1,t)}).catch(i=>{console.log(i),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:i,type:"error"})}).then(()=>{this.downloadLoading=!1})},applyNewData(a,e=!1,t){t==="challenges"?a.map(s=>{s.data&&Vue.set(Vue.all_cacheObj[s.rid],"data",s.data),s.users&&Vue.set(Vue.all_cacheObj[s.rid],"users",s.users),s.reviews&&Vue.set(Vue.all_cacheObj[s.rid],"reviews",s.reviews)}):this.carDetailsList.map(s=>{a.map(i=>{s.rid===i.rid&&(i.data&&!s.data&&Vue.set(s,"data",i.data),i.data&&s.data&&Vue.set(s,"data",window._merge(s.data,i.data)),i.users&&Vue.set(s,"users",i.users),i.reviews&&Vue.set(s,"reviews",i.reviews))})}),this.mode==="challenges"&&this.cgRound.date&&(this.downloadLoading=!1,this.cgRound.races.map(s=>{this.calcRaceResult(s,e)}))},sharePrint(){this.tempWindowWidth=this.windowWidth,this.windowWidth=1300,this.pngLoading=!0,window.scrollTo({top:0});let a,e,t=document.querySelector("#App_PrintContainer"),s=document.querySelector("#printCanvas"),i=".Main_Body";(this.mode==="challenges"||this.mode==="events"||this.mode==="clubs")&&(i=".Cg_Layout"),document.querySelector(".App_Layout").classList.add("App_isPrinting");let r=document.querySelector(i);if(r.classList.add("Main_BodyPrint"),this.mode==="compare"){t.classList.add("App_PrintContainerShow");let l=document.querySelector(".Main_Layout"),o=0,c=0,u=document.querySelector(".Main_CarList"),d=document.querySelector(".Main_PrintCreditsBottom"),h=document.querySelector(".Main_Backtop");l.classList.contains("Main_2")?c=r.clientHeight-h.clientHeight-u.clientHeight-d.clientHeight:c=r.clientHeight-u.clientHeight-d.clientHeight,a=(r.clientWidth-o)*1.3,e=(r.clientHeight-c)*1.3}else if(this.mode==="challenges")a=r.clientWidth*1.3,e=r.clientHeight*1.3;else if(this.mode==="events"||this.mode==="clubs"){let l=0,o=document.querySelector(".Cg_Header"),c;this.mode==="events"&&(c=document.querySelector(".Cg_Mid")),this.mode==="clubs"&&(c=document.querySelector(".Clubs_Mid")),l=r.clientHeight-o.clientHeight-c.clientHeight,a=r.clientWidth*1.3,e=(r.clientHeight-l)*1.3}let n={backgroundColor:"#333",canvas:s,scale:1.3,width:a,height:e,windowWidth:a,windowHeight:e};s.setAttribute("width",`${a}`),s.setAttribute("height",`${e}`),setTimeout(()=>{this.runSharePrint(r,n,t,s,i)},10)},runSharePrint(a,e,t,s,i){let r=this;T(()=>import("./html2canvas.esm-CBrSDip1.js"),[]).then(n=>{n.default(a,e).then(function(l){window.ReImg?r.afterRunSharePrint(t,s,i):(window.importReimg(),window.importReimgPromise.then(o=>{r.afterRunSharePrint(t,s,i)}))})}).catch(n=>{console.log("load html2canvas failed",n)})},afterRunSharePrint(a,e,t){window.ReImg.fromCanvas(e).downloadPng(`TDR_${new Date().toISOString().slice(0,-5)}.png`),a.classList.remove("App_PrintContainerShow"),document.querySelector(".App_Layout").classList.remove("App_isPrinting"),document.querySelector(t).classList.remove("Main_BodyPrint"),this.windowWidth=this.tempWindowWidth,this.pngLoading=!1},generateUrl(a=!1){let e=`${window.location.origin}?`;if(a&&(e=""),this.mode==="compare"?(e+="share=",this.currentTracks.map(t=>{e+=`~K${t.id}_a${t.surface}${t.cond}`}),this.carDetailsList.map(t=>{e+=`~C${t.rid}${t.selectedTune?"~T"+t.selectedTune:""}`})):this.mode==="challenges"?(e+="cg=",e+=`~G${this.cg.date}~R${this.cgCurrentRound+1}`):this.mode==="events"?(e+="event=",e+=`~G${this.eventCurrentId}`):this.mode==="clubs"&&(e+="clubs"),e.length>2045,a)return e;this.shareUrl=e.replaceAll("+","%2B").replaceAll("&","%26")},copyUrl(){var a=document.getElementById("shareLinkField");a.select(),a.setSelectionRange(0,99999),navigator.clipboard.writeText(a.value),this.copyUrlSucess=!0,setTimeout(()=>{this.copyUrlSucess=!1},1500)},generateCarsList(){let a=[];this.carDetailsList.map(e=>{a.push(`RQ${e.rq} ${e.name}`)}),a=[...new Set(a)],this.shareListCars=a.join(`
`)},copyList(){var a=document.getElementById("shareListField");a.select(),a.setSelectionRange(0,99999),navigator.clipboard.writeText(a.value),this.copyListSucess=!0,setTimeout(()=>{this.copyListSucess=!1},1500)},decodeTemplateString(a,e=!1){let t=Vue.decodeTdr(a),s=t.cars,i=t.tracks;this.$route.query&&this.$route.query.share&&this.$router.replace({query:null}),e&&(i.length>0&&(this.clearAllTracks(),this.pushTrackSet(i)),this.prepareCars(s),this.updateOptions(),this.updateCarLocalStorage()),this.showCarsFix=!1,this.$nextTick().then(()=>{this.showCarsFix=!0})},finalizeUrl(a){let e=window.localStorage.getItem("auth"),t=window.localStorage.getItem("_dt");return t&&(t=Number(t)+60*60*1e3>new Date().getTime()),e||t?a+`?auth=${e||new Date().getTime()}`:a},needSaveChange(a){this.needSave=a,a?window.onbeforeunload=function(){return"Are you sure you want to leave?"}:window.onbeforeunload=null,this.$store.commit("BEFOREUNLOAD_TOUCH")},outsideClick(){this.$store.commit("HIDE_DETAIL"),this.mode!=="events"&&(this.showPoints=!1)},resolveChangeTime(a,e,t,s){let i=this,r=`${e.id}_a${e.surface}${e.cond}`;a.data||Vue.set(a,"data",{}),a.data[s]||Vue.set(a.data,s,{}),a.data[s].times||Vue.set(a.data[s],"times",{}),a.data[s].times[r]||Vue.set(a.data[s].times,r,{}),a.dataToSave||Vue.set(a,"dataToSave",{}),a.dataToSave[s]||Vue.set(a.dataToSave,s,{}),a.dataToSave[s].times||Vue.set(a.dataToSave[s],"times",{}),a.dataToSave[s].times[r]||Vue.set(a.dataToSave[s].times,r,{}),Vue.set(a.data[s].times[r],"t",t),Vue.set(a.data[s].times[r],"u",i.user.username),Vue.set(a.data[s].times[r],"down",[]),Vue.set(a.data[s].times[r],"up",[]),Vue.set(a.dataToSave[s].times[r],"t",t),(!a.users||!a.users.includes(i.user.username))&&Vue.set(a,"users",a.users&&a.users.length>0?[...a.users,i.user.username]:[i.user.username]),i.needSaveChange(!0)},changeTuneCar(a,e,t=!1){e===a.selectedTune&&(e=void 0),this.mode==="challenges"&&this.tuneDialogActive?this.cgChangeTuneYou(this.tuneDialogRace,e):(Vue.set(a,"selectedTune",e),t||(this.showCarsFix=!1,this.$nextTick().then(()=>{this.showCarsFix=!0})),this.updateCarLocalStorage(),this.showPoints=!1)},changeStatCar(a,e,t){let s=a.selectedTune;this.mode==="challenges"&&(a=Vue.all_cacheObj[a.rid]),a.data||Vue.set(a,"data",{}),a.data[s]||Vue.set(a.data,s,{}),a.data[s].info||Vue.set(a.data[s],"info",{}),a.data[s].info[e]||Vue.set(a.data[s].info,e,{}),a.dataToSave||Vue.set(a,"dataToSave",{}),a.dataToSave[s]||Vue.set(a.dataToSave,s,{}),a.dataToSave[s].info||Vue.set(a.dataToSave[s],"info",{}),a.dataToSave[s].info[e]||Vue.set(a.dataToSave[s].info,e,{}),Vue.set(a.data[s].info[e],"t",t),Vue.set(a.data[s].info[e],"u",this.user.username),Vue.set(a.dataToSave[s].info[e],"t",t),this.needSaveChange(!0)},openSaveToGalleryDialog(){this.clearSaveToGallery(),this.computeTemplateToSave(),this.saveToGalleryDialog=!0,this.shareDialog=!1,setTimeout(()=>{try{document.querySelector("#Main_SaveGalleryName").focus()}catch{}},10)},closeSaveToGalleryDialog(){this.saveToGalleryDialog=!1},clearSaveToGallery(){Vue.set(this,"saveToGalleryModel",{name:null,type:"Other",types:["Best of","Event","Other"],minrq:null,maxrq:null,save_rq:!0,minyear:null,maxyear:null,save_year:!0,drive:[],save_drive:!1,brand:[],save_brand:!1,country:[],save_country:!1,class:[],save_class:!0,clearance:[],save_clearance:!1,tyre:[],save_tyre:!1,tag:[],save_tag:!1})},computeTemplateToSave(){let a=this.saveToGalleryModel,e={},t=[];this.carDetailsList.map((s,i)=>{t.push(s.rid),(!a.minrq||s.rq<a.minrq)&&(a.minrq=s.rq),(!a.maxrq||s.rq>a.maxrq)&&(a.maxrq=s.rq),(!a.minyear||s.year<a.minyear)&&(a.minyear=s.year),(!a.maxyear||s.year>a.maxyear)&&(a.maxyear=s.year),a.drive.push(s.drive),a.brand.push(s.brand),a.country.push(s.country),a.class.push(s.class),a.clearance.push(s.clearance),a.tyre.push(s.tyres),s.tags.map(r=>{e[r]||(e[r]=0),e[r]+=1})}),Object.keys(e).forEach(s=>{e[s]===this.carDetailsList.length&&a.tag.push(s)}),Object.keys(a).forEach(s=>{Array.isArray(a[s])&&s!=="types"&&(a[s]=[...new Set(a[s])],a[s].length>0&&a[s].length<3&&(a[`save_${s}`]=!0))}),a.class.length===1&&a.drive.length<3&&a.clearance.length<3&&a.tyre.length<3&&(a.type="Best of"),t=[...new Set(t)],t.length===1&&(a.type="Other",a.name=this.carDetailsList[0].name)},saveToGallery(){let a=this.saveToGalleryModel;if(!a.name||a.name.length<3){this.putSaveToGalleryError("Type a title");return}let e=this,t={name:a.name,type:a.type,template:e.generateUrl(!0)};Object.keys(a).forEach(s=>{s.includes("save_")&&a[s]===!0&&(s!=="save_rq"&&s!=="save_year"?t[s.substr(5)]=a[s.substr(5)]:(t[`min${s.substr(5)}`]=a[`min${s.substr(5)}`],t[`max${s.substr(5)}`]=a[`max${s.substr(5)}`]))}),this.saveToGalleryLoading=!0,axios.post(Vue.preUrl+"/saveTemplate",t).then(s=>{this.closeSaveToGalleryDialog(),e.$store.commit("LIBRARY_NEW_DIALOG",{}),this.$store.commit("DEFINE_SNACK",{active:!0,correct:!0,text:this.$t("m_saveSuccess")})}).catch(s=>{console.log(s),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:s,type:"error"}),(s.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")}).then(()=>{this.saveToGalleryLoading=!1})},putSaveToGalleryError(a){this.$store.commit("DEFINE_SNACK",{error:!0,text:a}),this.saveToGalleryError=!0,setTimeout(()=>{this.saveToGalleryError=!1},1500)},mutateTemplate(a,e){let t=this,s=function(){t.confirmDelete.loading=!0,axios.post(Vue.preUrl+`/${e?"delete":"approve"}Template`,a).then(i=>{t.confirmDelete.dialog=!1,t.$store.commit("REFRESH_LIBRARY",{}),t.$store.commit("DEFINE_SNACK",{active:!0,correct:!0,text:e?t.$t("m_deleteSuccess"):t.$t("m_approveSuccess")})}).catch(i=>{console.log(i),t.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:i,type:"error"}),(i.response||{}).status===401&&t.$store.commit("OPEN_LOGIN")}).then(()=>{t.confirmDelete.loading=!1})};this.confirmDelete={dialog:!0,msg:`${e?"Deleting":"Approving"} template "${a.name}" by ${a.user}. Are you sure?`,actionLabel:`${e?"Delete":"Approve"}`,action:s,loading:!1,classe:`${e?"D_ButtonRed":"D_ButtonGreen"}`}},checkMemoryFromStorage(){Array.from(Array(50)).map((a,e)=>{this.memory.push(null)}),this.memory=this.memory.map((a,e)=>{let t=window.localStorage.getItem(`m${e}`);return t?t.startsWith("share")?{template:t,name:`Memory #${e+1}`,...Vue.decodeTdr(t)}:t.startsWith("{")?{...JSON.parse(t)}:null:null})},loadMemory(a,e){e.shiftKey?(localStorage.removeItem(`m${a}`),Vue.set(this.memory,a,null)):(this.decodeTemplateString(this.memory[a].template,!0),this.updateOptions())},saveMemory(a,e,t){this.clearSaveToGallery(),this.computeTemplateToSave();let s=`Memory #${a+1}`;this.memory[a]&&this.memory[a].name&&t&&(s=this.memory[a].name);let i={template:this.generateUrl(!0),name:s,brand:this.saveToGalleryModel.brand,class:this.saveToGalleryModel.class,clearance:this.saveToGalleryModel.clearance,country:this.saveToGalleryModel.country,drive:this.saveToGalleryModel.drive,maxrq:this.saveToGalleryModel.maxrq,maxyear:this.saveToGalleryModel.maxyear,minrq:this.saveToGalleryModel.minrq,minyear:this.saveToGalleryModel.minyear,tag:this.saveToGalleryModel.tag,tyre:this.saveToGalleryModel.tyre},r=[];i.class&&i.class.map(n=>{r.push(Vue.resolveClass(0,n,"color"))}),i={...i,...Vue.decodeTdr(i.template),classesColors:r},Vue.set(this.memory,a,i),window.localStorage.setItem(`m${a}`,JSON.stringify(i)),e&&(e.srcElement.classList.add("D_Button_Correct"),setTimeout(()=>{e.srcElement.classList.remove("D_Button_Correct")},1500))},memoryAddNext(){let a=0;a=this.memory.findIndex((e,t)=>{if(e===null)return!0}),this.saveMemory(a)},importMemory(a){Array.isArray(a)&&a.length===50&&(this.memory=a,a.map((e,t)=>{e!==null&&window.localStorage.setItem(`m${t}`,JSON.stringify(e))}))},renameMemoryDialogOpen(a){this.memoryRenameDialog=!0,this.memoryRenameNewNameIndex=a,this.memoryRenameNewName=`${(this.memory[a]||{}).name||""}`,setTimeout(()=>{try{document.querySelector("#Memory_Name").focus(),document.querySelector("#Memory_Name").select()}catch{}},10)},renameMemoryDialogClose(){this.memoryRenameDialog=!1,Vue.set(this.memory[this.memoryRenameNewNameIndex],"name",this.memoryRenameNewName);let a=window.localStorage.getItem(`m${this.memoryRenameNewNameIndex}`);if(a){let e=JSON.parse(a);e.name=this.memoryRenameNewName,window.localStorage.setItem(`m${this.memoryRenameNewNameIndex}`,JSON.stringify(e))}},askDeleteMemory(a){let e=this,t=function(){e.loadMemory(a,{shiftKey:!0}),e.confirmDelete.dialog=!1};console.log(a),console.log(this.memory[a]);let s=`Memory #${a+1}`;this.memory[a].name&&(s=this.memory[a].name),this.confirmDelete={dialog:!0,msg:`Delete memory '${s}'?`,actionLabel:"Delete",action:t,loading:!1,classe:"D_ButtonRed"}},askReplaceMemory(a){let e=this,t=function(){e.saveMemory(a,null,!0),e.confirmDelete.dialog=!1};console.log(a),console.log(this.memory[a]);let s=`Memory #${a+1}`;this.memory[a].name&&(s=this.memory[a].name),this.confirmDelete={dialog:!0,msg:`Replace memory '${s}'?`,actionLabel:"Replace",action:t,loading:!1,classe:"D_ButtonGreen"}},clearDataToSave(){this.mode==="challenges"?Object.keys(Vue.all_cacheObj).map(a=>{delete Vue.all_cacheObj[a].dataToSave}):this.carDetailsList.map(a=>{delete a.dataToSave})},loadChallenges(a=!0){this.cgLoading=!0,axios.get(Vue.preUrlCharlie+"/searchCg").then(e=>{this.cgList=e.data.value,this.user&&this.user.mod&&this.cgList.push({date:"proving_grounds_test",name:"Proving Grounds: test"}),this.styleCgList(),a&&this.cgCurrentId&&this.cgList.find(t=>t.date===this.cgCurrentId)?this.loadChallengeFull(this.cgCurrentId,this.cgCurrentRound):this.cgLoading=!1}).catch(e=>{this.cgLoading=!1,console.log(e),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:e,type:"error"})})},loadChallengeFull(a,e,t){if(t&&t.shiftKey&&this.user&&this.user.canDelete&&this.user.mod){this.cgAskDelete(a);return}this.cgLoading=!0,this.cgSeletorDialog=!1,this.cgSentForReview=!1,axios.post(Vue.preUrlCharlie+"/getCgById",{date:a}).then(s=>{this.cgLoadedAssets=[];let i=this.cgList.find(r=>r.date===a);i.date===s.data.date&&(Vue.set(i,"rounds",s.data.rounds),s.data.notThisTime&&Vue.set(i,"notThisTime",!0),this.cgCurrentRoundSum=s.data.startNumer||0,this.cgLoading=!1,this.loadCgRound(a,e)),this.lookForChangedCars(s.data),this.cgResolveIcons(),this.checkPreDoneRounds(s.data)}).catch(s=>{console.log(s),this.cgLoading=!1,this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:s,type:"error"})})},loadCgRound(a,e){if(e===void 0){let s=window.localStorage.getItem(`cg_${a}`);s&&(e=Number(s))}isNaN(e)&&(e=0),this.cgSeletorDialog=!1,this.cgRoundSelectorDialog=!1;let t=this.cgList.find(s=>s.date===a);t&&(window.localStorage.setItem(`cg_${a}`,e),this.cg=t,this.cgCurrentId=t.date,this.cgCurrentName=t.name,t.rounds[e]||(e=0),this.cgCurrentRound=e,this.cgRound=t.rounds[this.cgCurrentRound],this.cgRound.filter&&(this.cgRound.filter.yearModel&&this.cgRound.filter.yearModel[0]===1930&&(this.cgRound.filter.yearModel[0]=1910),this.cgRound.filter.yearModel&&this.cgRound.filter.yearModel[1]===2022&&(this.cgRound.filter.yearModel[1]=2025),this.cgRound.filter.rqModel&&(this.cgRound.filter.rqModel[1]===114||this.cgRound.filter.rqModel[1]===100)&&(this.cgRound.filter.rqModel[1]=119),this.cgRound.filter.topSpeedModel&&this.cgRound.filter.topSpeedModel[0]===50&&(this.cgRound.filter.topSpeedModel[0]=25)),this.cg.notThisTime&&(this.cgRound.notThisTime=!0),this.cgRoundsNumber=t.rounds.length,this.generateUrl(),Array.isArray(this.cgRound.toApprove)&&this.cgRound.toApprove.length>0&&!this.cgRound.reservedTo&&!this.cgRound.creator&&!this.cgRound.lastAnalyze?this.cgViewSubmit():this.cgIsApproving=!1,this.cgNewSubmitByModTemplate&&(this.cgRound=JSON.parse(JSON.stringify(this.cgNewSubmitByModTemplate))),this.cgNewSubmitByMod=!1,this.cgApprovingIndex=0,this.cgResolveFilter(),this.cgUpdateLocalStorage(),this.cgResolveRoundCars(!1),this.checkRaceTimesNull(),this.cgIsApproving||this.cg.notThisTime?this.loadCgRoundAsset(a,e):(this.pingAssetStatistic(a,e),this.cgResolveRoundCars()))},checkRaceTimesNull(){this.cgRound.races.map(a=>{if(a.time!==null)return;if(!a.car||!a.car.selectedTune||!a.track){a.time=null;return}let e=Vue.all_cacheObj[a.car.rid],t;try{t=e.data[a.car.selectedTune].times[a.track].t}catch{}(t||t===0)&&(a.time&&a.time!==t&&this.cgRoundToSave.length>0&&this.cgRoundToSave.push({type:"oppoTime",time:t,raceIndex:this.cgRound.races.indexOf(a)}),a.time=t)})},checkPreDoneRounds(a){!this.user||!this.user.mod||a.rounds.map((e,t)=>{if(e.lastAnalyze||e.creator)return;let s=!0;e.races.find((i,r)=>{if(!i.rid||!i.track||!i.tune||!i.time&&i.time!==0)return s=!1,!0}),s&&Vue.set(e,"preDoneMod",!0)})},loadCgRoundAsset(a,e){let t=`${a}_${e}`;this.cgLoadedAssets.includes(t)||this.cgBlockDownloadAssets&&!this.cg.notThisTime||(this.cgLoading=!0,axios.get(Vue.preUrlCharlie+`/asset/${t}`).then(s=>{let i=s.data.filter(n=>n.sort.includes("votes_"));if(i){let n=this.cg.rounds[this.cgCurrentRound];Array.isArray(n.toApprove)&&n.toApprove.length>0&&i.map(l=>{let o=l.sort.substr(6);if(!o.includes("_"))return;o=o.split("_")[0];let c=l.sort.substr(6+o.length+1);n.toApprove[o]&&n.toApprove[o].creator===c&&(n.toApprove[o].downList=l.value.down,n.toApprove[o].upList=l.value.up)}),this.cg.notThisTime&&i.length>=1&&(Vue.set(this.cgRound,"downList",i[0].value.down),Vue.set(this.cgRound,"upList",i[0].value.up))}let r=s.data.find(n=>n.sort==="cars");r&&Array.isArray(r.value)&&r.value.map((n,l)=>{this.cgRound.races[l].cars=n}),this.cgLoading=!1,this.cgResolveRoundCars(),this.cgLoadedAssets.push(t)}).catch(s=>{this.cgLoading=!1,console.log(s),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:s,type:"error"})}).then(()=>{this.cgLoading=!1}))},pingAssetStatistic(a,e){let t=`${a}_${e}`;this.cgLoadedAssets.includes(t)||this.cgBlockDownloadAssets||axios.post(Vue.preUrlCharlie+"/pingStatistics",{type:"cg",suffix:t}).then(s=>{this.cgLoadedAssets.push(t)}).catch(s=>{console.log(s),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:s,type:"error"})}).then(()=>{})},cgResolveRoundCars(a=!0,e=0){if(this.lastestList.length===0){if(e>20)return;console.log("retry",e),setTimeout(()=>{this.cgResolveRoundCars(a,e+1)},500);return}this.cgRound.races.map(t=>{Vue.all_cacheObj[t.rid]||(Vue.all_cacheObj[t.rid]={rid:t.rid})}),this.cgRound.races.map(t=>{let s=Vue.all_carsObj[t.rid];s&&(s=JSON.parse(JSON.stringify(s))),Vue.set(t,"car",s),t.tune&&Vue.set(t.car,"selectedTune",t.tune),t.cars.map((i,r)=>{Vue.set(i,"photo",Vue.all_carsObj[i.rid].photo),Vue.set(i,"car",JSON.parse(JSON.stringify(Vue.all_carsObj[i.rid]))),Vue.set(i,"color",Vue.all_carsObj[i.rid].color),Vue.set(i.car,"selectedTune",i.tune)}),this.resolveTrack(t,!1),this.cgSortBankCars(t)}),this.cgRemoveDuplicateSolution(),a&&this.downloadDataCars()},cgViewSubmit(){let a=this.cg.rounds[this.cgCurrentRound];a.toApprove&&(this.cgIsApproving=!0,Array.isArray(a.toApprove)&&a.toApprove.length>0&&(a.toApprove[this.cgApprovingIndex]||(this.cgApprovingIndex=0),this.cgApprovingLength=a.toApprove.length,this.cgRound=a.toApprove[this.cgApprovingIndex]))},cgChangeSubmit(a){this.cgApprovingIndex+=a,this.cgViewSubmit(),Vue.set(this.cgRound,"rqFill",0),this.cgResolveFilter(),this.cgUpdateLocalStorage(),this.cgResolveRoundCars(!1)},resolveTrack(a,e=!0,t=!0){if(a.track){let s;t?(Vue.set(a,"resolvedTracks",this.validateTracks([a.track])),s=a.resolvedTracks):s=this.validateTracks([a.track]);let i=[],r=[];if(this.campaign.map((n,l)=>{n.matches.map((o,c)=>{o.races.map((u,d)=>{u.name===a.track&&r.push({city:n.name,icity:l,imatch:c,irace:d,code:`${l}${c}`})})})}),i.push(r),s.map((n,l)=>{let o;i[l].map(c=>{(!o||this.isChamp(o.city)&&!this.isChamp(c.city)||c.irace<o.irace&&!this.isChamp(c.city)||c.irace<=o.irace&&c.icity>o.icity||c.irace<=o.irace&&c.imatch>o.imatch)&&(o=c)}),o?(n.campaign=`${o.city} ${o.imatch+1}`,this.isChamp(o.city)||(n.campaignNum=o.irace+1)):n.campaign="Not in campaign"}),e&&this.calcRaceResult(a),!t)return s[0]}},cgChangeTuneOppo(a,e,t){Vue.set(a,"selectedTune",e),e===void 0?t.time=null:(this.cgRoundToSave.push({type:"oppoCar",rid:a.rid,tune:e,raceIndex:this.cgRound.races.indexOf(t)}),this.calcRaceResult(t))},cgChangeTuneYou(a,e){let t=a.cars.findIndex(s=>s.rid===a.cars[a.carIndex].rid&&s.tune===e);t>-1?a.carIndex=t:(a.cars.push(JSON.parse(JSON.stringify(a.cars[a.carIndex]))),a.carIndex=a.cars.length-1,a.cars[a.carIndex].tune=e,a.cars[a.carIndex].points=void 0,a.cars[a.carIndex].car.selectedTune=e),this.tuneDialogCar=a.cars[a.carIndex].car,this.tuneDialogCar.data=Vue.all_cacheObj[a.cars[a.carIndex].rid].data,this.calcRaceResult(a)},cgShowTuneDialog(a,e,t=!1){this.tuneDialogCar=a,this.tuneDialogCar.data=Vue.all_cacheObj[a.rid].data,this.tuneDialogCarIndex=-1,this.tuneDialogisOppo=t,this.tuneDialogActive=!0,this.tuneDialogRace=e},calcRaceResult(a,e){this.showCarsFix=!1,this.$nextTick().then(()=>{this.showCarsFix=!0}),setTimeout(()=>{this.cgResolveRqFill()},100);let t=this.cgRound.races.indexOf(a);if(!a.car||!a.car.selectedTune||!a.track){a.time=null;return}let s=Vue.all_cacheObj[a.car.rid],i;try{i=s.data[a.car.selectedTune].times[a.track].t}catch{}if((i||i===0)&&(a.time&&a.time!==i&&this.cgRoundToSave.length>0&&this.cgRoundToSave.push({type:"oppoTime",time:i,raceIndex:this.cgRound.races.indexOf(a)}),a.time=i),typeof a.carIndex!="number")return;let r=a.cars[a.carIndex].rid,n=a.cars[a.carIndex].car.selectedTune,l=0;if(!(a.cars[a.carIndex]||{}).car||!((a.cars[a.carIndex]||{}).car||{}).selectedTune)return;let o=Vue.all_cacheObj[r];if(!o){Vue.all_cacheObj[r]={rid:r},this.downloadCar(r);return}if(!s||a.time===null||a.time===void 0||!o||!o.data){Vue.set(a.cars[a.carIndex],"points",void 0);return}let c=a.time,u=(((o.data[n]||{}).times||{})[a.track]||{}).t;if(c===void 0||u===void 0){u===void 0&&n&&(Vue.set(a.cars[a.carIndex],"points",this.$t("m_notime")),this.user&&this.user.mod&&e&&this.cgResolveBankToSave("remove",t,r,n,l));return}let d=a.cars[a.carIndex].points,h=a.cars[a.carIndex].manual;h||(l=Vue.options.filters.userPoints(u,c,a.track).v,Vue.set(a.cars[a.carIndex],"points",l),!this.downloadLoading&&d!==l&&!h&&this.cgResolveBankToSave("add",t,r,n,l))},cgReCalcRound(){this.mode==="challenges"&&(this.cgRound.races.map(a=>{a.carIndex=void 0,this.cgSortBankCars(a)}),this.cgRemoveDuplicateSolution(),this.downloadDataCars())},cgResolveBankToSave(a,e,t,s,i){if(!this.user)return;let r={type:a,raceIndex:e,rid:t,tune:s,points:i,round:this.cgCurrentRound,date:this.cg.date};this.cgBankToSave.findIndex(l=>{if(JSON.stringify(l)===JSON.stringify(r))return!0})===-1&&(this.cgBankToSave.push(r),this.debounceCgSaveBank())},cgReturnAWinTuneYou(a){if(a[111]>0)return"111";if(a[323]>0)return"323";if(a[233]>0)return"233";if(a[332]>0)return"332"},cgBankCarClick(a,e,t,s,i){t.shiftKey?(a.cars.splice(e,1),a.carIndex===e&&(a.carIndex=void 0),this.user&&this.user.mod&&this.cgResolveBankToSave("remove",s,i.rid,i.tune,0)):(a.carIndex=e,this.calcRaceResult(a),this.cgSaveRoundHand())},cgResolveRqFill(){let a=0,e=0,t=!1;this.cgRound.races.map(s=>{try{a=a+s.cars[s.carIndex].car.rq,Number(s.cars[s.carIndex].points)?(e=e+s.cars[s.carIndex].points,s.cars[s.carIndex].points<50&&(t=!0)):t=!0}catch{}}),Vue.set(this.cgRound,"rqFill",a),Vue.set(this.cgRound,"sumPoints",e),Vue.set(this.cgRound,"showPoints",t)},cgChangeTimeOppo(a,e,t){let s=a.car,i=s.selectedTune,r=Vue.all_cacheObj[s.rid],n=e.item,l=e.number,o=["332","323","233"];(s.class==="S"||s.class==="A")&&o.push("111"),o.includes(i)&&this.resolveChangeTime(r,n,l,i),Vue.set(a,"time",l),this.cgRoundToSave.push({type:"oppoTime",time:l,raceIndex:this.cgRound.races.indexOf(a)}),this.cgRound.races.map((c,u)=>{u!==t&&(!c.rid||c.rid!==a.rid||!c.track||c.track!==a.track||!c.tune||c.tune!==a.tune||(Vue.set(c,"time",l),this.cgRoundToSave.push({type:"oppoTime",time:l,raceIndex:u})))}),this.calcRaceResult(a)},cgChangeTimeYou(a,e){let t=a.cars[a.carIndex].car,s=t.selectedTune,i=Vue.all_cacheObj[t.rid],r=e.item,n=e.number;this.resolveChangeTime(i,r,n,s),this.calcRaceResult(a)},cgDeleteTime(a,e,t=!1){let s=this,i;t?i=a.car:i=a.cars[a.carIndex].car;let r=i.selectedTune,n=Vue.all_cacheObj[i.rid],l=a.track,o=s.$t(`t_${a.track.slice(0,-4)}`),c=function(){s.confirmDelete.loading=!0,s.saveLoading=!0,axios.post(Vue.preUrl+"/deleteTime",{rid:i.rid,tune:r,track:l}).then(u=>{s.confirmDelete.dialog=!1,t&&Vue.set(a,"time",null),Vue.set(n.data[r].times,l,void 0),s.showCarsFix=!1,s.$nextTick().then(()=>{s.showCarsFix=!0}),s.$store.commit("DEFINE_SNACK",{active:!0,correct:!0,text:s.$t("m_deleteSuccess")})}).catch(u=>{console.log(u),s.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:u,type:"error"}),(u.response||{}).status===401&&s.$store.commit("OPEN_LOGIN")}).then(()=>{s.confirmDelete.loading=!1,s.saveLoading=!1})};this.confirmDelete={dialog:!0,msg:`Delete '${o}' time of ${i.name}?`,actionLabel:"Delete",action:c,loading:!1,classe:"D_ButtonRed"}},cgSaveAll(){if(this.cgSaveLoading=!0,this.cgRoundToSave.length===0&&this.cgRoundFilterToSave===null&&!this.cgRqNeedToSave){this.cgSaveLoading=!1,this.saveAll(!0);return}axios.post(Vue.preUrl+"/updateCg",{date:this.cg.date,round:this.cgCurrentRound,changes:this.cgRoundToSave,filter:this.cgRoundFilterToSave,rqLimit:this.cgRound.rqLimit}).then(a=>{this.cgClearRoundToSave(),this.saveAll(!0),this.cgNewSubmitByModTemplate=null,this.user.mod||(this.loadChallengeFull(this.cgCurrentId,this.cgCurrentRound),this.cgSentForReview=!0),this.$store.commit("DEFINE_SNACK",{active:!0,correct:!0,text:this.user.mod?this.$t("m_saveSuccess"):this.$t("m_sentReview")})}).catch(a=>{console.log(a),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:a,type:"error"}),(a.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")}).then(()=>{this.cgSaveLoading=!1})},cgClearRoundToSave(){this.cgRoundToSave=[],this.cgRoundFilterToSave=null,this.cgRoundFilterString=JSON.stringify(this.cgRound.filter),this.cgRqEditString=this.cgRound.rqLimit,this.cgRqNeedToSave=!1},cgReserveRound(){this.cgSaveLoading=!0,axios.post(Vue.preUrl+"/reserveRound",{date:this.cg.date,round:this.cgCurrentRound}).then(a=>{this.loadChallengeFull(this.cgCurrentId,this.cgCurrentRound)}).catch(a=>{console.log(a),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:a,type:"error"}),(a.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")}).then(()=>{this.cgSaveLoading=!1})},cgReviewRound(a){this.cgSaveLoading=!0,axios.post(Vue.preUrl+"/reviewRound",{date:this.cg.date,round:this.cgCurrentRound,submit:this.cgApprovingIndex,approve:a}).then(e=>{a&&(this.forceShowAnalyse=!0),this.loadChallengeFull(this.cgCurrentId,this.cgCurrentRound)}).catch(e=>{console.log(e),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:e,type:"error"}),(e.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")}).then(()=>{this.cgSaveLoading=!1})},cgResetSolutions(){this.cgRound.races.map((a,e)=>{a.cars.map(t=>{this.cgResolveBankToSave("remove",e,t.rid,t.tune,0)}),a.cars=[],a.carIndex=void 0}),this.cgResolveRqFill()},cgResetRound(){let a=this,e=function(){a.confirmDelete.loading=!0,a.cgSaveLoading=!0,axios.post(Vue.preUrl+"/resetRound",{date:a.cg.date,round:a.cgCurrentRound}).then(t=>{a.confirmDelete.dialog=!1,a.forceShowAnalyse=!1,a.loadChallengeFull(a.cgCurrentId,a.cgCurrentRound)}).catch(t=>{console.log(t),a.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:t,type:"error"}),(t.response||{}).status===401&&a.$store.commit("OPEN_LOGIN")}).then(()=>{a.confirmDelete.loading=!1,a.cgSaveLoading=!1})};this.confirmDelete={dialog:!0,msg:"Reset this round?",actionLabel:"Reset",action:e,loading:!1,classe:"D_ButtonRed"}},cgPreviewSolutions(){let a=[],e=[],t=[],s=[];this.cgRound.races.map(i=>{let r,n=Vue.all_cacheObj[i.rid];i.car.selectedTune&&n&&n.data&&n.data[i.tune]&&n.data[i.tune].times&&n.data[i.tune].times[i.track]&&n.data[i.tune].times[i.track].t!==void 0?r=n.data[i.tune].times[i.track].t:r=i.time,a.push(i.track),t.push(r),s.push(this.cgRound.filter);let l=i.tune;l.includes("Other")&&(l="222");let o=`${l.split().map(c=>Number(c)*3).join()}`;e.push({rid:i.rid,tunZ:o,tun:l,track:i.track,cat:"?????",tKey:"?????",predictedTime:null})}),this.cgAnalyseLoading=!0,axios.post(Vue.preUrl+"/analyseCustom",{filterCollection:s,tracks:a,oppos:e,times:t,isTdr:!0}).then(i=>{this.cgRound.races.map((r,n)=>{r.cars||(r.cars=[]),Object.keys(i.data.resultPerFilter[0][n]).map(l=>{Object.keys(i.data.resultPerFilter[0][n][l]).map(o=>{o!=="rq"&&(o!=="111"&&i.data.resultPerFilter[0][n][l][111]&&i.data.resultPerFilter[0][n][l][111].points>0||r.cars.push({points:i.data.resultPerFilter[0][n][l][o].points,rid:l,tune:o,photo:Vue.all_carsObj[l].photo,car:Vue.all_carsObj[l],color:Vue.all_carsObj[l].color}))})})}),this.cgResolveRoundCars(!1),this.cgRound.isPreview=!0}).catch(i=>{console.log(i),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:i,type:"error"})}).then(()=>{this.cgAnalyseLoading=!1})},cgSaveBank(a){if(!window.location.origin.includes("topdrives")){console.log("trySave",a);return}this.cgRound.isPreview||this.cgBankToSave.length===0&&!a||(this.cgBankToSaveLoading=!0,axios.post(Vue.preUrl+"/updateCgBankCars",a||this.cgBankToSave).then(e=>{this.cgClearBankToSave()}).catch(e=>{console.log(e),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:e,type:"error"}),(e.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")}).then(()=>{this.cgBankToSaveLoading=!1}))},cgClearBankToSave(){this.cgBankToSave=[]},cgSortBankCars(a){if(a.cars.length===0)return;a.cars.sort((t,s)=>t.car.rq===s.car.rq?t.car.rid.localeCompare(s.car.rid):t.car.rq-s.car.rq),Vue.set(a,"carIndex",a.cars.findIndex(t=>t.points>0)),a.carIndex===-1&&Vue.set(a,"carIndex",0),Vue.all_cacheObj[a.cars[a.carIndex].rid]||(Vue.all_cacheObj[a.cars[a.carIndex].rid]={rid:a.cars[a.carIndex].rid})},cgRemoveDuplicateSolution(){let a=`hand_${this.cg.date}_R${this.cgCurrentRound}`,e=window.localStorage.getItem(a);if(e){this.cgShowResetSavedHand=!0,e=JSON.parse(e),e.map((s,i)=>{let r=this.cgRound.races[i].cars.findIndex(o=>`${o.rid}_${o.tune}`===s);if(r===-1&&(r=void 0),r===void 0)return;let n=this.cgRound.races[i];Vue.set(n,"carIndex",r);let l;l=Vue.all_cacheObj[n.cars[n.carIndex].rid],l||(Vue.all_cacheObj[n.cars[n.carIndex].rid]={rid:n.cars[n.carIndex].rid})});return}this.cgShowResetSavedHand=!1;let t=0;for(;;){t+=1;let s=[],i=[];if(this.cgRound.races.map((l,o)=>{l.carIndex>=0&&(s.includes(l.cars[l.carIndex].rid)&&i.push(l.cars[l.carIndex].rid),s.push(l.cars[l.carIndex].rid))}),i.length===0||t>20)break;let r=[],n=null;this.cgRound.races.map((l,o)=>{l.carIndex>=0&&i.includes(l.cars[l.carIndex].rid)&&l.cars.find((c,u)=>{if(c.points>0&&!s.includes(c.rid))return l.alt={rid:c.rid,rq:Vue.all_carsObj[c.rid].rq,raceIndex:o,altCarIndex:u},(!n||n>l.alt.rq)&&(n=l.alt.rq),r.push(l.alt),!0})}),r.find(l=>{if(l.rq===n){let o=this.cgRound.races[l.raceIndex];return Vue.set(o,"carIndex",l.altCarIndex),Vue.all_cacheObj[o.cars[o.carIndex].rid]||(Vue.all_cacheObj[o.cars[o.carIndex].rid]={rid:o.cars[o.carIndex].rid}),!0}})}},cgResolveFilter(){if(!this.cgRound.filter)return;let a=this.cgRound.filter;this.cgRoundFilterToSave=null,this.cgRoundFilterString=JSON.stringify(a),this.cgRqEditString=this.cgRound.rqLimit,this.cgRqNeedToSave=!1},cgResolveIcons(){let a=["asphalt","clearance","rain","clearanceW","dirt","gravel","ice","sand","snow","grass"],e=["csSmall","dockCity","csMed","oceanCity","speedbump12km","speedbump1km","miStreets2","itBump","dsTnFreeway","dsTnLove","dsTnMile2bump"];this.cg.rounds.map((t,s)=>{let i=[];t.races.map((r,n)=>{let l=r.track||"";l||t.toApprove&&t.toApprove.length>0&&(l=t.toApprove[0].races[n].track||"");let o=l.slice(-2);if(o){let c;o[0]==="0"&&e.includes(l.slice(0,-4))?o[1]==="0"?c="clearance":c="clearanceW":o==="01"||l==="lumberTwisty_a41"?c="rain":o==="00"||l==="lumberTwisty_a40"?c="asphalt":o[0]==="1"||o[0]==="4"?c="dirt":o[0]==="2"||o[0]==="b"?c="gravel":o[0]==="3"||o[0]==="g"?c="ice":o[0]==="5"||o[0]==="e"||o[0]==="c"?c="sand":o[0]==="6"||o[0]==="d"||o[0]==="h"?c="snow":(o[0]==="7"||o[0]==="f")&&(c="grass"),i.push(c)}}),i.sort((r,n)=>a.indexOf(r)-a.indexOf(n)),Vue.set(t,"icons",i)})},cgOpenRequirementDialog(){this.cgRequirementsDialogLoad=!0,this.$nextTick().then(()=>{this.cgRequirementsDialog=!0})},cgUpdateRequirements(a){this.cgRound.filter=a,this.cgRequirementsDialog=!1},cgOpenAddYouCar(a){this.cgRaceSelected=a,this.cgAddingYouCar=!0,this.cgAddingOppoCar=!1,this.cgFilterDialogLoad=!0,this.$nextTick().then(()=>{this.cgFilterDialog=!0})},cgOpenAddOppoCar(a){this.cgRaceSelected=a,this.cgAddingOppoCar=!0,this.cgAddingYouCar=!1,this.cgFilterDialogLoad=!0,this.$nextTick().then(()=>{this.cgFilterDialog=!0})},loadPrevRound(){this.cgSentForReview=!1,this.forceShowAnalyse=!1,this.loadCgRound(this.cgCurrentId,this.cgCurrentRound-1)},loadNextRound(){this.cgSentForReview=!1,this.forceShowAnalyse=!1,this.loadCgRound(this.cgCurrentId,this.cgCurrentRound+1)},cgOpenNewCg(){this.cgClearSaveNewCg(),this.cgSeletorDialog=!1,this.cgNewDialog=!0,setTimeout(()=>{try{document.querySelector("#Cg_NewCgName").focus()}catch{}},10)},cgClearSaveNewCg(){this.cgNewModel.name=null,this.cgNewModel.numberRounds=10},cgCloseNewCg(){this.cgSeletorDialog=!0,this.cgNewDialog=!1},saveNewChallenge(){this.cgNewLoading=!0,axios.post(Vue.preUrl+"/newCg",{name:this.cgNewModel.name,rounds:Number(this.cgNewModel.numberRounds)}).then(a=>{setTimeout(()=>{this.cgCloseNewCg(),this.loadChallenges(!1),this.cgNewLoading=!1},1e3)}).catch(a=>{this.cgNewError=!0,this.cgNewLoading=!1,setTimeout(()=>{this.cgNewError=!1},1500),console.log(a),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:a,type:"error"}),(a.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")})},cgOpenRqEdit(a){if(a.shiftKey&&(a.ctrlKey||a.metaKey)&&this.user&&this.user.mod){this.forceShowAnalyse=!this.forceShowAnalyse;return}this.cgRqEditDialog=!0,this.cgRqEditModel=`${this.cgRound.rqLimit}`,setTimeout(()=>{try{document.querySelector("#Cg_EditRq").focus(),document.querySelector("#Cg_EditRq").select()}catch{}},10)},cgCloseRqEdit(){this.cgRqEditDialog=!1,this.cgRqEditModel!=this.cgRqEditString?(this.cgRound.rqLimit=Number(this.cgRqEditModel),this.cgRqNeedToSave=!0):this.cgRqNeedToSave=!1},cgUpdateLocalStorage(){window.localStorage.setItem("lastCg",JSON.stringify({date:this.cg.date,round:this.cgCurrentRound}))},cgGetLocalStorage(){let a=window.localStorage.getItem("lastCg");a&&(a=JSON.parse(a),this.cgCurrentId=a.date,this.cgCurrentRound=a.round)},cgOpenPointsEdit(a){if(!this.user||typeof a.carIndex!="number")return;let e=(a.cars[a.carIndex]||{}).points;if(!e&&e!==0||a.cars[a.carIndex].pointsUser&&a.cars[a.carIndex].pointsUser!==this.user.username&&e!==0&&!this.user.mod)return;let t=Vue.all_cacheObj[a.cars[a.carIndex].rid],s;if(t){try{s=t.data[a.cars[a.carIndex].tune].times[a.track].t}catch{}!s&&s!==0||e===0&&!a.track.includes("testBowl")&&s!==0||s===a.time&&(this.cgPointsEditDialog=!0,this.cgPointsEditModel=`${e}`,this.cgPointsEditString=`${e}`,this.cgPointsEditRace=a,this.cgPointsIsDraw=s===a.time,setTimeout(()=>{try{document.querySelector("#Cg_EditPoints").focus(),document.querySelector("#Cg_EditPoints").select()}catch{}},10))}},cgClosePointsEdit(){this.cgPointsEditDialog=!1;let a=this.cgPointsEditRace,e=Number(this.cgPointsEditModel);if(this.cgPointsEditModel!=this.cgPointsEditString){if(Number(this.cgPointsEditString)>0&&e<=0&&!this.cgPointsIsDraw||Number(this.cgPointsEditString)<0&&e>=0&&!this.cgPointsIsDraw||e>999||e<-999)return;let t=this.cgRound.races.indexOf(a),s=a.cars[a.carIndex].rid,i=a.cars[a.carIndex].tune,r=[{type:"add",raceIndex:t,rid:s,tune:i,points:e,round:this.cgCurrentRound,date:this.cg.date,manual:!0}];this.cgSaveBank(r),Vue.set(a.cars[a.carIndex],"points",e),Vue.set(a.cars[a.carIndex],"pointsUser",this.user.username)}},cgAnalyseRound(){this.cgAnalyseRoundFinish()},cgAnalyseRoundFinish(){let a=this.cgRound.races.map(e=>{let t,s=Vue.all_cacheObj[e.rid];return e.car.selectedTune&&s&&s.data&&s.data[e.tune]&&s.data[e.tune].times&&s.data[e.tune].times[e.track]&&s.data[e.tune].times[e.track].t!==void 0?t=s.data[e.tune].times[e.track].t:t=e.time,{track:e.track,time:t}});this.cgAnalyseLoading=!0,axios.post(Vue.preUrl+"/analyseRound",{date:this.cgCurrentId,round:this.cgCurrentRound,filter:this.cgRound.filter,cgRound:a,preDone:this.cgRound.preDoneMod}).then(e=>{this.loadChallengeFull(this.cgCurrentId),this.forceShowAnalyse=!1}).catch(e=>{console.log(e),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:e,type:"error"}),(e.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")}).then(()=>{this.cgAnalyseLoading=!1})},cgAskDelete(a){let e=this,t=function(){e.confirmDelete.loading=!0,e.cgNewLoading=!0,axios.post(Vue.preUrl+"/deleteCg",{date:a}).then(s=>{e.confirmDelete.dialog=!1,e.loadChallenges(!1)}).catch(s=>{console.log(s),e.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:s,type:"error"})}).then(()=>{e.confirmDelete.loading=!1,e.cgNewLoading=!1})};this.confirmDelete={dialog:!0,msg:`Delete "${a}"?`,actionLabel:"Delete",action:t,loading:!1,classe:"D_ButtonRed"}},cgSaveRoundHand(){let a=`hand_${this.cg.date}_R${this.cgCurrentRound}`,e=[];this.cgRound.races.map(t=>{isNaN(t.carIndex)?e.push(void 0):e.push(`${t.cars[t.carIndex].rid}_${t.cars[t.carIndex].tune}`)}),window.localStorage.setItem(a,JSON.stringify(e))},cgResetSaveHand(){let a=`hand_${this.cg.date}_R${this.cgCurrentRound}`;localStorage.removeItem(a),this.loadCgRound(this.cgCurrentId,this.cgCurrentRound),this.cgShowResetSavedHand=!1},cgVote(a){let e=!1,t=!1;this.cgRound.upList||Vue.set(this.cgRound,"upList",[]),this.cgRound.downList||Vue.set(this.cgRound,"downList",[]);let s=this.cgRound.upList,i=this.cgRound.downList,r=this.user.username;s.includes(r)&&(this.cgRound.upList=s.filter(n=>n!==r),a==="up"&&(e=!0)),i.includes(r)&&(this.cgRound.downList=i.filter(n=>n!==r),a==="down"&&(t=!0)),!e&&!t?a==="up"?(s.push(r),this.cgRequestVote(!0,!1)):(i.push(r),this.cgRequestVote(!1,!1)):e?this.cgRequestVote(!0,!0):this.cgRequestVote(!1,!0)},cgRequestVote(a,e){this.cgSaveLoading=!0,axios.post(Vue.preUrl+"/cgVote",{date:this.cg.date,round:this.cgCurrentRound,submit:`${this.cgApprovingIndex}_${this.cgRound.creator}`,isUp:a,isDelete:e}).then(t=>{}).catch(t=>{console.log(t),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:t,type:"error"})}).then(()=>{this.cgSaveLoading=!1})},cgUserNewSubmit(a=!1){this.cgIsApproving=!1,a?(this.cgClearRoundToSave(),delete this.cgRound.creator,this.cgRound.races.map((e,t)=>{this.cgRoundToSave.push({type:"oppoCar",rid:e.rid,tune:e.tune,raceIndex:t}),this.cgRoundToSave.push({type:"oppoTime",time:e.time,raceIndex:t}),this.cgRoundToSave.push({type:"track",track:e.track,raceIndex:t})})):(this.cgRound=this.cg.rounds[this.cgCurrentRound],this.cgResolveRoundCars(),this.checkRaceTimesNull()),this.user&&this.user.mod&&(this.cgNewSubmitByMod=!0,a&&(this.cgNewSubmitByModTemplate=JSON.parse(JSON.stringify(this.cgRound))))},cgSubmitCompleteJson(){let a=JSON.parse(this.cgCompleteJson),e=a.ladder.opponents,t=JSON.parse(JSON.stringify(this.cg)),s=a.ladder.zoneSize,i=0,r=0,n=!1,l=[],o=0;function c(u){r++,o++,o>1&&(n=!0),l.push(u)}if(this.cgCurrentRoundSum&&(i=this.cgCurrentRoundSum*5),t.rounds.map((u,d)=>{let h=d;this.cgCurrentRoundSum&&(h=this.cgCurrentRoundSum+h),a.ladder.challengeSetIds[Math.floor(h/s)]&&(u.uuidTrackSet=a.ladder.challengeSetIds[Math.floor(h/s)],u.hCriteria=a.ladder.zoneFlexibleCriteria[Math.floor(h/s)],u.rqLimit=a.ladder.zoneEligibility[Math.floor(h/s)].targetRQ,o=0,u.races.map((g,p)=>{let m=e[i],f=`${m.engineMajor*m.engineMinor/3}${m.weightMajor*m.weightMinor/3}${m.chassisMajor*m.chassisMinor/3}`,_=Vue.all_carsObj[Vue.ridByGuid[m.cardId]];if(_){let S=["332","323","233","000"];(_.class==="S"||_.class==="A")&&S.push("111"),S.includes(f)||(f.length>3?f="Other":f=`Other${f}`),u.lastAnalyze&&g.rid&&g.rid!==_.rid&&c(`RID round${h+1} race${p+1} old:      ${g.rid}     n:     ${_.rid}`),g.rid=_.rid,g.tune=f,g.track=null}i++}))}),r>3||n){console.log(l),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:"Too much errors: "+r,type:"error"});return}this.cg=t,this.cgList.find(u=>{if(u.date===t.date)return u=t,!0}),this.cgSaveLoading=!0,axios.post(Vue.preUrl+"/setCgPredict",t).then(u=>{this.loadChallengeFull(this.cgCurrentId,this.cgCurrentRound),this.cgCompleteJson="",this.forceShowAnalyse=!1,this.$store.commit("DEFINE_SNACK",{active:!0,correct:!0,text:this.user.mod?this.$t("m_saveSuccess"):this.$t("m_sentReview")})}).catch(u=>{console.log(u),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:u,type:"error"}),(u.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")}).then(()=>{this.cgSaveLoading=!1}),console.log(t)},cgSubmitRoundResultJson(){if(this.cgJsonDownloadRids=[],this.cgRoundResultJsonErrorTxt="",!this.cgRoundResultJson)return;Number.prototype.toHHMMSS=function(){var e=Number(this.toFixed(3).slice(0,-1)),t=parseInt(e,10),s=Math.floor(t/3600),i=Math.floor((t-s*3600)/60),r=t-s*3600-i*60,n=Math.round((e-parseInt(e))*100);return s<10&&(s="0"+s),i<10&&(i="0"+i),r<10&&(r="0"+r),n<10&&(n="0"+n),i+":"+r+":"+n},Number.prototype.toTestBowl=function(){return parseInt(this*2.2369)};let a=JSON.parse(this.cgRoundResultJson);a.resultData.roundData.map((e,t)=>{console.log(`result.resultData.roundData.map, ${t+1}`),this.resolveCar(e,t)}),this.afterResolveCarJson(a)},resolveCar(a,e){Array.from(Array(2)).map((t,s)=>{let i=s===0?"opponentData":"playerData",r=a[i].id,n=r.slice(0,36),l=Vue.all_carsObj[Vue.ridByGuid[n]];if(!l)return;l=JSON.parse(JSON.stringify(l)),console.log(`${i}, irace: ${e+1}, ${l.rid}`),l.class==="S"||l.class;let o=`${r[36]*r[38]/3}${r[40]*r[42]/3}${r[44]*r[46]/3}`;(!o||o.length>3)&&(console.log(`tune ${o}`),o="Other"),l.selectedTune=o,console.log(`car.selectedTune ${l.selectedTune}`),a[i].car=l;let c=a[i].distance>=2546&&a[i].distance<=2548.7;a[i].result!=="Finished"?a[i].timeText="DNF":c?a[i].timeText=a[i].speed.toTestBowl():(a[i].timeText=a[i].time.toHHMMSS(),/\.\d\d95$/.test(`${a[i].time}`)&&(this.cgRoundResultJsonErrorTxt+=`${i} race${e+1} !95
`)),i==="opponentData"&&(console.log('key === "opponentData"'),this.cgRound.races[e].rid!==a[i].car.rid?(console.log("this.cgRound.races[irace].rid !== race[key].car.rid"),this.cgAddingOppoCar=!0,this.cgAddingYouCar=!1,this.cgRaceSelected=e,this.addCarCg(a[i].car,!0)):console.log("rid oppo correct")),i==="playerData"&&(console.log('key === "playerData"'),this.cgAddingOppoCar=!1,this.cgAddingYouCar=!0,this.cgRaceSelected=e,this.addCarCg(a[i].car,!0))})},afterResolveCarJson(a,e=0){if(e>10)return;if(!(this.cgJsonDownloadRids.length===0)){console.log("this.cgJsonDownloadRids",this.cgJsonDownloadRids),setTimeout(()=>{this.afterResolveCarJson(a,e+1)},1e3);return}a.resultData.roundData.map((s,i)=>{Array.from(Array(2)).map((r,n)=>{let l=n===0?"opponentData":"playerData",o=this.cgRound.races[i],c=Vue.options.filters.toTimeNumber(`${s[l].timeText}`,o.track);if(l==="opponentData"){if(o.rid!==s[l].car.rid){debugger;return}o.time===null||o.time===void 0?(o.time=c,this.cgChangeTimeOppo(o,{number:c,item:{id:o.track.slice(0,-4),surface:o.track.slice(-2,-1),cond:o.track.slice(-1)}})):o.time!==c&&(console.log(`${l} race${i+1}`,"cgRace.time:",o.time,"resultTimeNum:",c),this.cgRoundResultJsonErrorTxt+=`${l} race${i+1} diff
`)}else{let u=Vue.all_cacheObj[s[l].car.rid],d=["332","323","233"],h=s[l].car,g=s[l].car.selectedTune;if((h.class==="S"||h.class==="A")&&d.push("111"),!d.includes(g))return;!u.data[g]||!u.data[g].times||!u.data[g].times[o.track]?setTimeout(()=>{this.cgChangeTimeYou(o,{number:c,item:{id:o.track.slice(0,-4),surface:o.track.slice(-2,-1),cond:o.track.slice(-1)}})},10):u.data[g].times[o.track].t!==c&&(console.log(`${l} race${i+1}`,"car time:",u.data[g].times[o.track].t,"resultTimeNum:",c),this.cgRoundResultJsonErrorTxt+=`${l} race${i+1} diff
`)}})}),this.cgRound.races.map(s=>{this.calcRaceResult(s,!1)}),this.cgRoundResultJsonErrorTxt&&(this.cgRoundResultJsonErrorTxt=this.cgRoundResultJsonErrorTxt.slice(0,-1),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:this.cgRoundResultJsonErrorTxt,type:"error",time:1e4})),this.cgRoundResultJson="",this.forceShowAnalyse=!1},styleCgList(){let a={},e={},t=["#c29cff","#a9d0ff","#8dcf8f","#bfbb3d","#57d7d7","#ff8b8b"];this.cgList.map(i=>{i.name.includes(":")&&(i.prefix=i.name.split(":")[0],!e[i.prefix]&&i.index&&(e[i.prefix]=i.index),!a[i.prefix]&&i.color&&(a[i.prefix]=i.color))}),this.cgList.sort((i,r)=>i.name.localeCompare(r.name)),this.cgList.map(i=>{let r=i.name;if(i.index===void 0&&Vue.set(i,"index",10),i.prefix&&(e[i.prefix]&&(i.index=e[i.prefix]),a[i.prefix]&&(i.color=a[i.prefix])),i.name.substr(0,5)==="GTT: "&&(Vue.set(i,"index",50),r=`<span class="Cg_EX">GTT: </span>${i.name.substr(5)}`),i.name.substr(0,11)==="Yellowbird "&&(Vue.set(i,"index",103),r=`<span class="Cg_YB">Yellowbird </span>${i.name.substr(11)}`),i.name.substr(0,14)==="Skyline Nismo "&&(Vue.set(i,"index",104),r=`<span class="Cg_SN">Skyline Nismo </span>${i.name.substr(14)}`),i.name.substr(0,17)==="Proving Grounds: "&&(Vue.set(i,"index",105),r=`<span class="Cg_PG">Proving Grounds: </span>${i.name.substr(17)}`),Vue.set(i,"nameStyled",r),i.color){let n=t.indexOf(i.color);n>-1&&t.splice(n,1)}});let s=["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII","XIII","XIV","XV","XVI","XVII","XVIII","XIX","XX","XXI","XXII","XXIII","XXIV","XXV","XXVI","XXVII","XXVIII","XXIX","XXX","XXXI","XXXII","XXXIII","XXXIV","XXXV","XXXVI","XXXVII","XXXVIII","XXXIX","XL"];this.cgList.map(i=>{let r=i.name.split(" "),n=null,l=null;if(i.indexOfRoman=r.findIndex(c=>{if(c=c.replace(":",""),s.includes(c.slice(1,-1))&&c[0]==="(")return n=c.slice(1,-1),!0;if(Number(c.slice(1,-1))>-1&&c[0]==="(")return l=Number(c.slice(1,-1)),!0}),i.indexOfRoman>-1){i.romanValue=s.indexOf(n)+1,(l||l===0)&&(i.romanValue=l);let c=i.name.split(" "),u=c.findIndex(d=>d.includes(":"));i.prefix=c.filter((d,h)=>h<=u).join(" "),i.prefix=i.prefix.replaceAll(":",""),i.index===10&&Vue.set(i,"index",20)}let o=i.name.indexOf(":");if(typeof i.romanValue=="number"){let c=this.generateRandom(t.length-1,i.prefix||""),u;i.color&&(a[i.prefix]=i.color),a[i.prefix]?u=a[i.prefix]:(u=t[c],a[i.prefix]=u,t.splice(c,1)),Vue.set(i,"nameStyled",`<span style="color: ${u}">${i.name.slice(0,o+1)}</span>${i.name.slice(o+1)}`)}}),this.cgList.sort((i,r)=>i.prefix&&r.prefix&&i.prefix===r.prefix?i.romanValue-r.romanValue:i.index===r.index?i.prefix&&r.prefix?i.prefix.localeCompare(r.prefix):i.name.localeCompare(r.name):i.index-r.index)},cgExportSolutionsToPacks(){let a=[],e=[];this.cgRound.races.map(t=>{t.cars.map(s=>{s.points>0&&e.push(s)})}),e=e.filter(t=>a.includes(t.rid)?!1:(a.push(t.rid),!0)),this.$router.push({name:"Packs",params:{cars:e}})},generateRandom(a,e){let t=0;for(let i=0;i<e.length;i++)t+=e.charCodeAt(i);return t%(a+1)},loadEvents(a=!0,e){this.eventLoading=!0,axios.get(Vue.preUrlCharlie+"/searchEvents").then(t=>{this.eventList=t.data.value,this.$store.state.showUpcomingTags&&this.user&&this.user.username==="TiagoXavi"&&(this.eventParsedList.push({rqLimit:444,trackset:[["drag30130_a00","mtSlalom_a00","gForcer_a00","mnGforce_a00","mnCity_a01"],["tCircuit_a00","gForce_a00","fast_a01","mtSlalom_a01","hairpin_a01"],["mtHairpin_a00","mtSlalom_a00","mtTwisty_a01","tRoad_a01","kart_a01"],["forest_a00","kart_a00","mtSlalom_a00","mtHairpin_a01","carPark_a01"]],filter2:{name:"1x",prizesModel:["Prize Cars","Non-Prize Cars"]},user:"TiagoXavi",comp:[{tyres:["Performance","Slick"],clearance:["Low"],drives:["2WD"],meta:["Speedster"]},{tyres:["Performance","Slick"],clearance:["Low"],drives:["2WD"],meta:["Twister"]},{tyres:["Performance"],clearance:["Low"],drives:["2WD"],meta:["Twister"]},{tyres:["Standard"],clearance:[],drives:["4WD"],meta:["Twister"]},{tyres:["Standard"],clearance:[],drives:["4WD"],meta:["Twister"]}],name:"Fantastic Ford",startDateTime:"2025-07-25T20:00:00.000Z",flexibleCriteriaRequired:[4],icons:["asphalt","rain"],date:"fantastic_ford",image:"EventFord",realDate:"2025-07-22T20:27:12.983Z",filter:{brandsModel:["Ford"],name:"4x"},bucketSize:100,filteringQueryStrings:['["((\\"manufacturerguid\\"=\\"3b3d7baa-939d-44f3-b77b-75fc081d0c8b\\"))"]'],tag:"Standard",eid:"t",endDateTime:"2025-07-27T20:00:00.000Z",hidden:!1,ticketRegenerationTime:18e5}),this.eventParsedList.push({rqLimit:400,trackset:[["drag50150_a00","tokyoDrag_a01","fast_a01","tokyoLoop_a01","slalom_a01"],["fast_a00","kart_a01","csSmall_a00","tokyoGforce_a01","csMed_a01"],["drag150b_a00","tokyoDrag_a01","tokyoOverpass_a00","tokyoBridge_a01","tokyoLoop_a01"],["tokyoDrag_a01","mile4_a01","tokyoOverpass_a00","tCircuitr_a00","tokyoBridge_a01"]],user:"TiagoXavi",comp:[{tyres:["Performance"],clearance:["Low"],drives:["2WD"],meta:["Dragster"]},{tyres:["Performance"],clearance:["Low"],drives:["2WD"],meta:["Dragster"]},{tyres:["Performance"],clearance:["Low"],drives:["2WD"],meta:["Speedster"]},{tyres:["Performance"],clearance:["Low"],drives:["4WD"],meta:["Speedster"]},{tyres:["Standard"],clearance:[],drives:["4WD"],meta:["Twister"]}],name:"IRGP Endurance Cup",startDateTime:"2025-07-24T20:00:00.000Z",flexibleCriteriaRequired:[5,5,5],icons:["rain","asphalt"],date:"irgp_endurance_cup",image:"EventOverloaded",realDate:"2025-07-24T18:03:25.843Z",filter:{tagsModel:["German Renaissance","Italian Renaissance"],tyresModel:["Performance","Standard"],prizesModel:["Non-Prize Cars"]},bucketSize:128,filteringQueryStrings:['["((\\"tags\\"=\\"200000\\"|\\"tags\\"=\\"400000\\"))"]','["((\\"tyretype\\"=\\"HiPerformance\\"|\\"tyretype\\"=\\"Tourism\\"))"]','["((\\"isprizecar\\"=\\"0\\"))"]'],tag:"Special LiveOps",eid:"t",endDateTime:"2025-07-27T20:00:00.000Z",hidden:!1,ticketRegenerationTime:9e5}),this.eventParsedList.push({eid:"t",date:"lucky_number_seven",bucketSize:100,comp:[{clearance:["Low"],drives:["2WD"],meta:["Dragster"],tyres:["Performance","Slick"]},{clearance:["Low"],drives:["2WD"],meta:["Dragster"],tyres:["Performance","Slick"]},{clearance:["Low"],drives:["2WD"],meta:["Speedster"],tyres:["Performance","Slick"]},{clearance:["Low"],drives:["2WD"],meta:["Twister"],tyres:["Performance","Slick"]},{clearance:["Low"],drives:["4WD"],meta:["Speedster"],tyres:["Performance"]}],endDateTime:"2025-07-19T20:00:00.000Z",filter:{year2Model:[2017,2007,1997,1987,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979]},filteringQueryStrings:['["((\\"year\\"=\\"2017\\"))"]','["((\\"year\\"=\\"2007\\"))"]','["((\\"year\\"=\\"1997\\"))"]','["((\\"year\\"=\\"1987\\"))"]','["((\\"year\\"=\\"1970-1979\\"))"]'],flexibleCriteriaRequired:[1,1,1,1,1],hidden:!0,icons:["asphalt","rain"],image:"Event70s",name:"Lucky Number Seven",realDate:"2025-07-14T20:16:31.182Z",rqLimit:365,startDateTime:"2025-07-17T20:00:00.000Z",tag:"Standard",ticketRegenerationTime:18e5,trackset:[["mile2_a00","mile4_a00","mnCity_a00","mnCityNarrow_a00","mnHairpin_a01"],["testBowl_a00","mile2_a00","mile4_a00","tRoad_a00","drag100b_a01"],["testBowl_a00","drag100_a00","kart_a00","slalom_a00","drag100b_a01"],["mile1_a00","oceanLongDrag_a00","mile4_a00","fast_a00","fast_a01"]],user:"TiagoXavi"}),this.eventParsedList.push({eid:"t",date:"lancer_evolution_ii_group_a_quals",bucketSize:300,comp:[{clearance:[],drives:["2WD"],meta:["Twister"],tyres:["Standard","Off-road"]},{clearance:[],drives:["4WD"],meta:["Speedster"],tyres:["Standard","All-surface"]},{clearance:[],drives:["4WD"],meta:["Twister"],tyres:["Standard"]},{clearance:[],drives:["4WD"],meta:["Twister"],tyres:["Off-road"]},{clearance:[],drives:["4WD"],meta:["Twister"],tyres:["Off-road"]}],endDateTime:"2025-06-29T20:00:00.000Z",filter:{tagsModel:["Asia-Pacific Grand Prix"],tyresModel:["Standard","All-surface","Off-road"]},filteringQueryStrings:['["((\\"tags\\"=\\"1000000000000\\"))"]','["((\\"tyretype\\"=\\"Tourism\\"|\\"tyretype\\"=\\"All-Surface\\"|\\"tyretype\\"=\\"Offroad\\"))"]'],flexibleCriteriaRequired:[5,5],hidden:!1,icons:["rain","dirt","asphalt"],image:"EventTriSeries",name:"Lancer Evolution II Group A Quals",realDate:"2025-06-26T17:28:29.560Z",rqLimit:350,startDateTime:"2025-06-26T20:00:00.000Z",tag:"Tri-Series",ticketRegenerationTime:18e5,trackset:[["mtSlalom_a00","mtHairpin_a01","mtTwisty_a01","rallySmall_a40","forestRiver_a41"],["gForce_a00","canyonTour_a01","tRoad_a01","butte_a40","slalom_a50"],["hairpin_a00","hairpin_a01","tRoad_a01","hairpin_a60","tRoad_a60"],["mtTwisty_a00","dealsGapBack_a41","dealsGap_a01","forestRiver_a41","mtHairpin_a10"]],user:"TiagoXavi"}),this.eventParsedList.push({eid:"t",date:"eliminator_heat_1",bucketSize:1e3,comp:[{clearance:["Low"],drives:["2WD"],meta:["Speedster"],tyres:["Performance","Slick"]},{clearance:["Low"],drives:["2WD"],meta:["Speedster"],tyres:["Performance","Slick"]},{clearance:["Mid"],drives:["2WD"],meta:["Twister"],tyres:["Standard"]},{clearance:["Mid"],drives:["4WD"],meta:["Twister"],tyres:["Standard"]},{clearance:["High"],drives:["4WD"],meta:["Twister"],tyres:["All-surface","Off-road"]}],endDateTime:"2025-08-14T20:00:00.000Z",filter:{classesModel:["F","E"],prizesModel:["Non-Prize Cars"]},filteringQueryStrings:['["((\\"isprizecar\\"=\\"0\\"))"]','["((\\"tier\\"=\\"1\\"|\\"tier\\"=\\"2\\"))"]'],flexibleCriteriaRequired:[5,5],hidden:!1,icons:["asphalt","rain","clearanceW"],image:"ChallengeCategoryRacingRoyalty",name:"Eliminator Heat 1",realDate:"2025-08-12T16:49:45.067Z",rqLimit:150,startDateTime:"2025-08-12T20:00:00.000Z",tag:"Special LiveOps",ticketRegenerationTime:18e5,trackset:[["mile4_a00","fast_a00","csMed_a01","carPark_a01","slalom_a20"],["oceanHighway_a00","mnCityNarrow_a00","oceanCity_a00","mnHairpin_a01","oceanSlalom_ac1"],["tRoad_a00","carPark_a00","csSmall_a01","csMed_a01","tRoad_a11"],["mile4_a00","mile2_a00","fast_a01","gForce_a01","moto_a11"]],user:"TiagoXavi"}),this.eventParsedList.push({eid:"t",date:"eliminator_heat_2",bucketSize:800,comp:[{clearance:["Low"],drives:["2WD"],meta:["Dragster"],tyres:["Performance"]},{clearance:["Low"],drives:["2WD"],meta:["Twister"],tyres:["Performance","Slick"]},{clearance:[],drives:["4WD"],meta:["Twister"],tyres:["Standard"]},{clearance:[],drives:["4WD"],meta:["Twister"],tyres:["Standard"]},{clearance:[],drives:["4WD"],meta:["Twister"],tyres:["Off-road"]}],endDateTime:"2025-08-16T20:00:00.000Z",filter:{prizesModel:["Non-Prize Cars"],tagsModel:["Amalfi Coast Cruising","Enter the Black Forest","Learn the Savannah Way","Loch to Loch","Pacific Coast Highway","World Expo"]},filteringQueryStrings:['["((\\"isprizecar\\"=\\"0\\"))"]','["((\\"tags\\"=\\"800000000000\\"|\\"tags\\"=\\"400000000000\\"|\\"tags\\"=\\"200000000000\\"|\\"tags\\"=\\"100000000000\\"|\\"tags\\"=\\"40000000000\\"|\\"tags\\"=\\"80000000000\\"|))"]'],flexibleCriteriaRequired:[5,5],hidden:!1,icons:["asphalt","rain","snow"],image:"ChallengeCategoryRacingRoyalty",name:"Eliminator Heat 2",realDate:"2025-08-14T20:35:11.876Z",rqLimit:230,startDateTime:"2025-08-14T20:00:00.000Z",tag:"Special LiveOps",ticketRegenerationTime:18e5,trackset:[["mile1_a00","tRoad_a00","hairpin_a01","tRoad_a01","hairpin_a60"],["mile1_a00","tRoad_a00","hairpin_a01","tRoad_a01","tRoad_a60"],["mile1_a00","tRoad_a00","hairpin_a01","tRoad_a01","tRoad_a60"],["mtHill_a01","mtHairpin_a00","lumberForest_a40","lumberRiver_a11","lumberForest_ah1"]],user:"ELtotheLIS"}),this.eventParsedList.push({rqLimit:350,trackset:[["mile1r_a00","tokyoDrag_a00","mile4r_a00","tokyoOffRamp_a01","tokyoGforce_a01"],["mile1_a00","mnCity_a00","mnGforce_a00","mile4_a01","slalom_a01"],["mile2_a00","mile4_a00","fastr_a00","tCircuit_a01","tRoad_a01"],["miCauseDrag_a00","miCause_a00","tRoad_a00","miStreets1_a01","miGforce_a01"]],user:"TiagoXavi",comp:[{tyres:["Performance","Slick"],clearance:["Low"],drives:["2WD"],meta:["Dragster"]},{tyres:["Performance","Slick"],clearance:["Low"],drives:["2WD"],meta:["Speedster"]},{tyres:["Performance","Slick"],clearance:["Low"],drives:["2WD"],meta:["Speedster"]},{tyres:["Performance"],clearance:[],drives:["4WD"],meta:["Speedster"]},{tyres:["Standard"],clearance:[],drives:[],meta:["Twister"]}],name:"Wrath Of The Coupe",startDateTime:"2025-08-19T20:00:00.000Z",flexibleCriteriaRequired:[5,5],icons:["asphalt","rain"],date:"wrath_of_the_coupe",image:"EventTwoTone",realDate:"2025-08-16T23:47:57.615Z",filter:{countrysModel:["FR","IT"],bodyTypesModel:["Coupe"]},bucketSize:100,filteringQueryStrings:['["((\\"country\\"=\\"France\\"|\\"country\\"=\\"Italy\\"))"]','["((\\"bodystyle\\"=\\"Coupe\\"))"]'],tag:"Collection Series",eid:"t",endDateTime:"2025-08-21T20:00:00.000Z",hidden:!1,ticketRegenerationTime:18e5}),this.eventParsedList.push({rqLimit:500,trackset:[["tCircuit_a00","hairpin_a00","mnGforce_a00","gForce_a00","slalom_a00"],["tCircuit_a00","carPark_a00","mnGforce_a00","gForce_a00","slalom_a00"],["nwCathedral_a00","tCircuit_a00","nwSlalom_a00","gForce_a00","nwGforce_a00"],["fast_a00","nwLoop_a00","nwSlalom_a00","nwCircuit_a00","nwGforce_a00"]],filter2:{name:"2x",drivesModel:["4WD"],countrysModel:["JP"],tyresModel:["Performance"],prizesModel:["Non-Prize Cars"]},user:"TiagoXavi",filter3:{name:"2x",drivesModel:["4WD"],countrysModel:["FR"],tyresModel:["Performance"],prizesModel:["Non-Prize Cars"]},comp:[{tyres:["Performance"],clearance:["Low"],drives:["4WD"],meta:["Speedster"]},{tyres:["Performance"],clearance:["Low"],drives:["4WD"],meta:["Twister"]},{tyres:["Performance"],clearance:["Low"],drives:["4WD"],meta:["Twister"]},{tyres:["Performance"],clearance:["Low"],drives:["4WD"],meta:["Twister"]},{tyres:["Performance"],clearance:["Low"],drives:["4WD"],meta:["Twister"]}],name:"Eliminator Finals",startDateTime:"2025-08-20T20:00:00.000Z",flexibleCriteriaRequired:[5,5,2,2,5,5],icons:["asphalt"],date:"eliminator_finals",image:"ChallengeCategoryRacingRoyalty",realDate:"2025-08-20T20:06:33.182Z",filter:{countrysModel:["JP","FR"],weightEnd:7e3,clearancesModel:[],fuel:["Bioethanol","Diesel","Electric","Hybrid","Hydrogen","Misc","Petrol"],tyresModel:["Performance"],customTagsModel:[],yearModel:[1910,2025],tags_challenge:["5th Anniversary","Around the World","As Seen on YT","Call of the Wild","Chariots of the Gods","Christmas Collection","Christmas Collection 22","Coast to Coast","Cutting Edge","Desperados","Electric Excellence","Famous Tracks","Filberto's Collection","Gaz's Collection","Gunter's Collection","Harriet's Collection","Heavy Metal","Hugo's Collection","Immortalised in Carbon","In the Shadows","In the Shadows 24","Interstellar","Legrand's Collection","Lina's Collection","Lina's Collection 2","Loves Me, Loves Me Not","Marilyn's Collection","New Beginnings","Nightmare Fuel","Niklas' Collection","Niklas' Collection 2","Old Guard","Photo Finish","Racing Royalty","Reclassified","Ride of the Valkyries","Riders on the Storm","Roads Most Travelled","Sara's Collection","Silver Screen","Summer Games","Summer Games 24","Summer Games 25","The Great Outdoors","The Horror Show","The Unicorns","Touma's Collection","Trading Paint","Two Tone","Ximena's Collection","Year of the Dragon","Year of the Ox","Year of the Rabbit","Year of the Rat","Year of the Snake","Year of the Tiger"],tags2Model:[],typesModel:[],tcsModel:[],yearStart:1910,topSpeedModel:[25,330],handEnd:110,mraEnd:160,fuelModel:[],prizesModel:["Non-Prize Cars"],tags:["5th Anniversary","Around the World","As Seen on YT","Call of the Wild","Chariots of the Gods","Christmas Collection","Christmas Collection 22","Coast to Coast","Cutting Edge","Desperados","Electric Excellence","Famous Tracks","Filberto's Collection","Gaz's Collection","Gunter's Collection","Harriet's Collection","Heavy Metal","Hugo's Collection","Immortalised in Carbon","In the Shadows","In the Shadows 24","Interstellar","Legrand's Collection","Lina's Collection","Lina's Collection 2","Loves Me, Loves Me Not","Marilyn's Collection","New Beginnings","Nightmare Fuel","Niklas' Collection","Niklas' Collection 2","Old Guard","Photo Finish","Racing Royalty","Reclassified","Ride of the Valkyries","Riders on the Storm","Roads Most Travelled","Sara's Collection","Silver Screen","Summer Games","Summer Games 24","Summer Games 25","The Great Outdoors","The Horror Show","The Unicorns","Touma's Collection","Trading Paint","Two Tone","Ximena's Collection","Year of the Dragon","Year of the Ox","Year of the Rabbit","Year of the Rat","Year of the Snake","Year of the Tiger","French Riviera","Asia-Pacific Revival","European Grand Tour","American Overdrive","European New Wave","Asia-Pacific Grand Prix","Pacific Coast Highway","Learn the Savannah Way","Loch to Loch","Amalfi Coast Cruising","Enter the Black Forest","World Expo","Japan Pro Tour","American Frontier","European Revolution","Great Exhibition","Italian Renaissance","German Renaissance","French Renaissance","American Dream","Originals","Concept","Drivers Choice","Eco Friendly","Hot Hatch","Hypercar","Iconic Variant","Innovative","Motorsport","Muscle Car","None","Oddities","Road","Sleeper","Street Racer","Style Icon","Team Favourite","Track","Ultra Expensive","Wild Ride","Rest of the World","Sub-Zero","Supercar","Beige","Black","Blue","Brown","Gold","Green","Orange","Pink","Purple","Red","Silver/Grey","Turquoise","White","Yellow"],brandsModel:[],brake:["A","B","C"],tagsModel:[],topSpeedEnd:330,drives:["FWD","RWD","4WD"],tags_expansion:["French Riviera","Asia-Pacific Revival","European Grand Tour","American Overdrive","European New Wave","Asia-Pacific Grand Prix","Pacific Coast Highway","Learn the Savannah Way","Loch to Loch","Amalfi Coast Cruising","Enter the Black Forest","World Expo","Japan Pro Tour","American Frontier","European Revolution","Great Exhibition","Italian Renaissance","German Renaissance","French Renaissance","American Dream","Originals"],prizes:["Prize Cars","Non-Prize Cars"],name:"★",clearances:["Low","Mid","High"],tags3Model:[],tunesModel:[],acelEnd:40,rqStart:10,tags_color:["Beige","Black","Blue","Brown","Gold","Green","Orange","Pink","Purple","Red","Silver/Grey","Turquoise","White","Yellow"],tags_permanentDied:["Rest of the World","Sub-Zero","Supercar"],year2Model:[],classes:["F","E","D","C","B","A","S"],classesModel:[],handStart:30,countrys:["US","DE","JP","GB","IT","FR","AU","SE","KR","CZ","CN","NL","BR","MY","AT","DK","HR","ZA","NZ","AE","AR","IN","MX","CH"],weightModel:[300,7e3],brakeModel:[],classesColors:["#878787","#76F273","#1CCCFF","#FFF62B","#FF3538","#8C5CFF","#FFAF17"],mraStart:0,seatsStart:1,engine:["Front","Mid","Mid-rear","Mixed","Rear"],handModel:[30,110],approveModel:!1,topSpeedStart:25,bodyTypesModel:[],tyres:["Performance","Standard","All-surface","Off-road","Slick"],rqModel:[10,119],bodyTypes:["Convertible","Coupe","Estate","Hatchback","MPV","Pickup","Roadster","Saloon","SUV","Van"],tunes:["332","323","233","111","Custom","Best"],engineModel:[],brands:["AC","Acura","Alfa Romeo","Alpine","AMC","Apollo","Arash","Ariel","Aston Martin","Audi","Austin","BAC","Bentley","Bizzarrini","BMW","Brabham","Bristol","Bufori","Bugatti","Buick","Cadillac","Caterham","Chevrolet","Chrysler","Citroen","De Tomaso","DMC","Dodge","Donkervoort","Drako","DS","Eagle","Fiat","Ford","Geo","Ginetta","Giocattolo","GMC","Hennessey","Holden","Honda","Hudson","Hummer","Hyundai","Infiniti","Jaguar","Koenigsegg","KTM","Lamborghini","Lancia","Land Rover","Lincoln","Lotus","Maserati","Matra","Mazda","McLaren","McMurtry","Mercedes-Benz","Mercury","MG","Mini","Mitsubishi","Mitsuoka","Morgan","Nissan","Oldsmobile","Pagani","Peugeot","Pininfarina","Plymouth","Pontiac","Porsche","Radical","RAM","Renault","Rezvani","Rimac","Rover","RUF","Saleen","Saturn","SCG","Skoda","Smart","Spyker","Subaru","Suzuki","Talbot","TVR","Ultima","Vauxhall","Volkswagen","Volvo","W Motors","Zenos","Zenvo"],rqEnd:119,yearEnd:2025,drivesModel:["4WD"],seatsModel:[1,9],mraModel:[0,160],acelStart:1.5,acelModel:[1.5,40],absModel:[],seatsEnd:9,seats2Model:[],tags_permanent:["Concept","Drivers Choice","Eco Friendly","Hot Hatch","Hypercar","Iconic Variant","Innovative","Motorsport","Muscle Car","None","Oddities","Road","Sleeper","Street Racer","Style Icon","Team Favourite","Track","Ultra Expensive","Wild Ride"],weightStart:300},bucketSize:100,filteringQueryStrings:['["((\\"isprizecar\\"=\\"0\\"))"]','["((\\"country\\"=\\"France\\"|\\"country\\"=\\"Japan\\"))"]','["((\\"country\\"=\\"France\\"))"]','["((\\"country\\"=\\"Japan\\"))"]','["((\\"tyretype\\"=\\"HiPerformance\\"))"]','["((\\"drivetype\\"=\\"FourWD\\"))"]'],tag:"Special LiveOps",eid:"t",endDateTime:"2025-08-22T20:00:00.000Z",hidden:!1,ticketRegenerationTime:18e5}),this.eventParsedList.push({rqLimit:500,trackset:[["drag100_a00","kart_a00","csSmall_a00","csMed_a01","rallySmall_a40"],["mile2_a00","fast_a00","mnCityLong_a00","tCircuit_a01","moto_a11"],["hairpin_a00","tRoad_a00","mnCityLong_a00","slalom_a01","moto_a11"],["drag100_a00","indoorKart_a00","csMed_a00","csSmall_a01","rallySmall_a40"]],filter2:{name:"2x",countrysModel:["GB"],tagsModel:["European New Wave","World Expo"],prizesModel:["Non-Prize Cars"]},user:"TiagoXavi",filter3:{name:"2x",countrysModel:["CZ"],tagsModel:["European New Wave","World Expo"],prizesModel:["Non-Prize Cars"]},comp:[{tyres:["Performance","Slick"],clearance:["Low"],drives:["2WD"],meta:["Dragster"]},{tyres:["Performance","Slick"],clearance:["Low"],drives:["2WD"],meta:["Twister"]},{tyres:["Off-road"],clearance:["Mid"],drives:[],meta:["Twister"]},{tyres:["Standard"],clearance:["Mid"],drives:["4WD"],meta:["Twister"]},{tyres:["Off-road"],clearance:["High"],drives:["4WD"],meta:["Twister"]}],name:"GT Pro Circuit",startDateTime:"2025-09-09T20:00:00.000Z",flexibleCriteriaRequired:[5,5,5,2,2],icons:["asphalt","dirt"],date:"gt_pro_circuit",image:"EventGTSeries",realDate:"2025-09-09T17:08:41.697Z",filter:{countrysModel:["GB","CZ"],weightEnd:7e3,clearancesModel:[],fuel:["Bioethanol","Diesel","Electric","Hybrid","Hydrogen","Misc","Petrol"],tyresModel:[],customTagsModel:[],yearModel:[1910,2025],tags_challenge:["5th Anniversary","Around the World","As Seen on YT","Call of the Wild","Chariots of the Gods","Christmas Collection","Christmas Collection 22","Coast to Coast","Cutting Edge","Desperados","Electric Excellence","Famous Tracks","Filberto's Collection","Gaz's Collection","Gaz's Collection 2","Gunter's Collection","Harriet's Collection","Heavy Metal","Hugo's Collection","Immortalised in Carbon","In the Shadows","In the Shadows 24","Interstellar","Legrand's Collection","Lina's Collection","Lina's Collection 2","Loves Me, Loves Me Not","Marilyn's Collection","Marilyn's Collection 2","New Beginnings","Nightmare Fuel","Niklas' Collection","Niklas' Collection 2","Old Guard","Photo Finish","Racing Royalty","Reclassified","Ride of the Valkyries","Riders on the Storm","Roads Most Travelled","Sara's Collection","Silver Screen","Summer Games","Summer Games 24","Summer Games 25","The Great Outdoors","The Horror Show","The Unicorns","Touma's Collection","Trading Paint","Two Tone","Ximena's Collection","Year of the Dragon","Year of the Ox","Year of the Rabbit","Year of the Rat","Year of the Snake","Year of the Tiger"],tags2Model:[],typesModel:[],tcsModel:[],yearStart:1910,topSpeedModel:[25,330],handEnd:110,mraEnd:160,fuelModel:[],prizesModel:["Non-Prize Cars"],tags:["5th Anniversary","Around the World","As Seen on YT","Call of the Wild","Chariots of the Gods","Christmas Collection","Christmas Collection 22","Coast to Coast","Cutting Edge","Desperados","Electric Excellence","Famous Tracks","Filberto's Collection","Gaz's Collection","Gaz's Collection 2","Gunter's Collection","Harriet's Collection","Heavy Metal","Hugo's Collection","Immortalised in Carbon","In the Shadows","In the Shadows 24","Interstellar","Legrand's Collection","Lina's Collection","Lina's Collection 2","Loves Me, Loves Me Not","Marilyn's Collection","Marilyn's Collection 2","New Beginnings","Nightmare Fuel","Niklas' Collection","Niklas' Collection 2","Old Guard","Photo Finish","Racing Royalty","Reclassified","Ride of the Valkyries","Riders on the Storm","Roads Most Travelled","Sara's Collection","Silver Screen","Summer Games","Summer Games 24","Summer Games 25","The Great Outdoors","The Horror Show","The Unicorns","Touma's Collection","Trading Paint","Two Tone","Ximena's Collection","Year of the Dragon","Year of the Ox","Year of the Rabbit","Year of the Rat","Year of the Snake","Year of the Tiger","German Powerhaus","French Riviera","Asia-Pacific Revival","European Grand Tour","American Overdrive","European New Wave","Asia-Pacific Grand Prix","Pacific Coast Highway","Learn the Savannah Way","Loch to Loch","Amalfi Coast Cruising","Enter the Black Forest","World Expo","Japan Pro Tour","American Frontier","European Revolution","Great Exhibition","Italian Renaissance","German Renaissance","French Renaissance","American Dream","Originals","Concept","Drivers Choice","Eco Friendly","Hot Hatch","Hypercar","Iconic Variant","Innovative","Motorsport","Muscle Car","None","Oddities","Road","Sleeper","Street Racer","Style Icon","Team Favourite","Track","Ultra Expensive","Wild Ride","Rest of the World","Sub-Zero","Supercar","Beige","Black","Blue","Brown","Gold","Green","Orange","Pink","Purple","Red","Silver/Grey","Turquoise","White","Yellow"],brandsModel:[],brake:["A","B","C"],tagsModel:["European New Wave","World Expo"],topSpeedEnd:330,drives:["FWD","RWD","4WD"],tags_expansion:["German Powerhaus","French Riviera","Asia-Pacific Revival","European Grand Tour","American Overdrive","European New Wave","Asia-Pacific Grand Prix","Pacific Coast Highway","Learn the Savannah Way","Loch to Loch","Amalfi Coast Cruising","Enter the Black Forest","World Expo","Japan Pro Tour","American Frontier","European Revolution","Great Exhibition","Italian Renaissance","German Renaissance","French Renaissance","American Dream","Originals"],prizes:["Prize Cars","Non-Prize Cars"],name:"★",clearances:["Low","Mid","High"],tags3Model:[],tunesModel:[],acelEnd:40,rqStart:10,tags_color:["Beige","Black","Blue","Brown","Gold","Green","Orange","Pink","Purple","Red","Silver/Grey","Turquoise","White","Yellow"],tags_permanentDied:["Rest of the World","Sub-Zero","Supercar"],year2Model:[],classes:["F","E","D","C","B","A","S"],classesModel:[],handStart:30,countrys:["US","DE","JP","GB","IT","FR","AU","SE","KR","CZ","CN","NL","BR","MY","AT","DK","HR","ZA","NZ","AE","AR","IN","MX","CH"],weightModel:[300,7e3],brakeModel:[],classesColors:["#878787","#76F273","#1CCCFF","#FFF62B","#FF3538","#8C5CFF","#FFAF17"],mraStart:0,seatsStart:1,engine:["Front","Mid","Mid-rear","Mixed","Rear"],handModel:[30,110],approveModel:!1,topSpeedStart:25,bodyTypesModel:[],tyres:["Performance","Standard","All-surface","Off-road","Slick"],rqModel:[10,119],bodyTypes:["Convertible","Coupe","Estate","Hatchback","MPV","Pickup","Roadster","Saloon","SUV","Van"],tunes:["332","323","233","111","Custom","Best"],engineModel:[],brands:["AC","Acura","Alfa Romeo","Alpine","AMC","Apollo","Arash","Ariel","Aston Martin","Audi","Austin","BAC","Bentley","Bizzarrini","BMW","Brabham","Bristol","Bufori","Bugatti","Buick","Cadillac","Caterham","Chevrolet","Chrysler","Citroen","De Tomaso","DMC","Dodge","Donkervoort","Drako","DS","Eagle","Fiat","Ford","Geo","Ginetta","Giocattolo","GMC","Hennessey","Holden","Honda","Hudson","Hummer","Hyundai","Infiniti","Jaguar","Koenigsegg","KTM","Lamborghini","Lancia","Land Rover","Lincoln","Lotus","Maserati","Matra","Mazda","McLaren","McMurtry","Mercedes-Benz","Mercury","MG","Mini","Mitsubishi","Mitsuoka","Morgan","Nissan","Oldsmobile","Pagani","Peugeot","Pininfarina","Plymouth","Pontiac","Porsche","Radical","RAM","Renault","Rezvani","Rimac","Rover","RUF","Saleen","Saturn","SCG","Skoda","Smart","Spyker","Subaru","Suzuki","Talbot","TVR","Ultima","Vauxhall","Volkswagen","Volvo","W Motors","Zenos","Zenvo"],rqEnd:119,yearEnd:2025,drivesModel:[],seatsModel:[1,9],mraModel:[0,160],acelStart:1.5,acelModel:[1.5,40],absModel:[],seatsEnd:9,seats2Model:[],tags_permanent:["Concept","Drivers Choice","Eco Friendly","Hot Hatch","Hypercar","Iconic Variant","Innovative","Motorsport","Muscle Car","None","Oddities","Road","Sleeper","Street Racer","Style Icon","Team Favourite","Track","Ultra Expensive","Wild Ride"],weightStart:300},bucketSize:800,filteringQueryStrings:['["((\\"isprizecar\\"=\\"0\\"))"]','["((\\"tags\\"=\\"4000000000000\\"|\\"tags\\"=\\"80000000000\\"))"]','["((\\"country\\"=\\"CzechRepublic\\"|\\"country\\"=\\"GreatBritain\\"))"]','["((\\"country\\"=\\"CzechRepublic\\"))"]','["((\\"country\\"=\\"GreatBritain\\"))"]'],tag:"GT-Series",eid:"t",endDateTime:"2025-09-12T20:00:00.000Z",hidden:!1,ticketRegenerationTime:18e5}));let s=this.whatTier&&this.whatTier<=3;this.eventList=this.eventList.filter(i=>i.name.includes("Daily Event")?i.currentEurope||i.currentAmerica||i.currentAsia?(i.name+=" (",i.currentEurope&&(i.name+="EU, "),i.currentAmerica&&(i.name+="US, "),i.currentAsia&&(i.name+="AP, "),i.name=i.name.slice(0,-2),i.name+=")",!0):!!(this.user&&this.user.mod||s):!0),this.eventStyleList(),e?e(t):a&&this.eventFromStorage&&this.eventList.find(i=>i.date===this.eventFromStorage)?this.loadEventFull(this.eventFromStorage):this.eventLoading=!1}).catch(t=>{this.eventLoading=!1,console.log(t),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:t,type:"error"})})},loadEventFull(a,e){if(e&&e.shiftKey&&this.user&&this.user.canDelete&&this.user.mod){this.eventAskDelete(a);return}this.eventLoading=!0,this.eventSelectorDialog=!1,axios.post(Vue.preUrl+"/getEventById",{date:a}).then(t=>{let s=this.eventList.find(i=>i.date===a);s.date===t.data.date&&(Object.keys(t.data).forEach(i=>{Vue.set(s,i,t.data[i])}),this.loadEventScreen(a))}).catch(t=>{console.log(t),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:t,type:"error"})}).then(()=>{this.eventLoading=!1})},loadEventScreen(a,e){this.eventSelectorDialog=!1;let t;if(this.eventCurrentId="",e)t=e;else if(t=this.eventList.find(s=>s.date===a),!t)return;if(this.event=t,this.eventCurrentId=e&&!t.date?"_preview_":t.date,this.eventCurrentName=t.name,this.eventCurrentIsHidden=e?e.hidden:(this.eventList.find(s=>s.date===t.date)||{}).hidden,this.eventCheckFilterCodePre=null,this.eventCheckFilterCode=null,this.eventUseWhatFilter=0,this.eventKingTracks=[],this.eventFilterForKing={},this.eventLoadPicks(),this.eventBlockAddTrackset=this.event.trackset.length>1,this.event.icons||Vue.set(this.event,"icons",[]),this.event.trackset.length===0&&this.event.trackset.push([null,null,null,null,null]),this.event.comp.length===0&&Array.from(Array(5)).map((s,i)=>{this.event.comp.push({tyres:[],clearance:[],drives:[],meta:[]})}),this.eventForceAnalyze=!1,this.eventFilterToSave=null,Vue.set(t,"canViewEvent",!0),t.hidden&&(!this.whatTier||this.whatTier>3)){Vue.set(t,"noAccess",!0),Vue.set(t,"canViewEvent",!1);let s=[];Array.from(Array(5)).map((i,r)=>{s.push({tyres:[],clearance:[],drives:[],meta:[]})}),this.event.comp=s;return}Vue.set(t,"noAccess",!1),this.eventFilterString=JSON.stringify(this.event.filter),this.eventFilterString2=JSON.stringify(this.event.filter2),this.eventFilterString3=JSON.stringify(this.event.filter3),this.eventTracksetString=JSON.stringify(this.event.trackset),this.eventCompString=JSON.stringify(this.event.comp),this.eventRqEditString=JSON.stringify(this.event.rqLimit),this.eventIcons=JSON.stringify(this.event.icons),this.eventLoadTracksetLocal(),this.resetBestTeamsConfig(),this.eventResolveTrackset(),e||this.eventUpdateLocalStorage()},eventResolveTrackset(a){let e=JSON.parse(JSON.stringify(this.event.trackset));e=e.map(t=>t.map(s=>s===null?null:[this.resolveTrack({track:s},!1,!1)])),Vue.set(this.event,"resolvedTrackset",e),a&&this.eventSaveTracksetLocal()},eventSaveTracksetLocal(){window.localStorage.setItem(`tracksOrder_${this.eventCurrentName}_${this.event.realDate}`,JSON.stringify(this.event.trackset))},eventLoadTracksetLocal(){let a=window.localStorage.getItem(`tracksOrder_${this.eventCurrentName}_${this.event.realDate}`);if(!a)return;let e=!1;try{a=JSON.parse(a),e=this.eventCheckTracksetBeforeLocal(a)}catch(t){console.log(t)}e&&(Vue.set(this.event,"tracksetBkp",this.event.trackset),this.event.trackset=a)},eventCheckTracksetBeforeLocal(a){let e=!1;return a.map((t,s)=>{e=t.every(i=>this.event.trackset[s].some(r=>i===r))}),e},eventResetTracksetLocal(){localStorage.removeItem(`tracksOrder_${this.eventCurrentName}_${this.event.realDate}`),this.event.trackset=this.event.tracksetBkp,delete this.event.tracksetBkp,this.eventResolveTrackset()},eventAddTrackset(){this.event.trackset.push([null,null,null,null,null]),this.eventResolveTrackset()},eventUpdateLocalStorage(){window.localStorage.setItem("lastEvent",JSON.stringify({date:this.eventCurrentId})),this.eventFromStorage=this.eventCurrentId},eventGetLocalStorage(){let a=window.localStorage.getItem("lastEvent");a&&(a=JSON.parse(a),this.eventFromStorage=a.date)},eventStyleList(){let a=new Date().toISOString();this.eventList.sort((e,t)=>e.name.localeCompare(t.name,"en",{numeric:!0})),this.eventList.map(e=>{let t=e.name;Vue.set(e,"index",0),e.name.substr(0,13)==="Daily Event: "&&(e.name.includes("(")?Vue.set(e,"index",2):Vue.set(e,"index",3),t=`<span class="Event_Daily">Daily Event: </span>${e.name.substr(13)}`),e.hidden&&(Vue.set(e,"index",1),t=`<span class="Event_Hidden">${e.name}</span>`),Vue.set(e,"nameStyled",t)}),this.eventList.sort((e,t)=>{if(e.index===t.index&&e.endDateTime&&t.endDateTime){if(!e.endDateTime)return-1;if(!t.endDateTime)return 1;let s=e.endDateTime.localeCompare(a)<0,i=t.endDateTime.localeCompare(a)<0;return s&&!i?-1:i&&!s?1:t.endDateTime!==e.endDateTime?e.endDateTime.localeCompare(t.endDateTime):e.name.localeCompare(t.name,"en",{numeric:!0})}return e.index-t.index})},eventResolveCompilation(a){if(!this.trackTimes)return;this.isEvents?Vue.set(this.event,"compilation",[]):Vue.set(this,"clubCompilation",[]);let e=this.isEvents?"event":"clubTracksGroupModel";Array.from(Array(5)).map((t,s)=>{let i=[];Array.from(Array(this[e].trackset.length)).map((n,l)=>{if(a&&JSON.stringify(a[0])!==JSON.stringify(this[e].trackset[l]))return;let o=this[e].trackset[l][s];i=this.trackTimes[o],i.map(c=>{c.track=o})});let r=[];this[e].trackset.map(n=>r.push(n[s])),r=[...new Set(r)],r.length,i.map(n=>{this.frontCompleteCar(n)}),this.isEvents?Vue.set(this.event.compilation,s,i):Vue.set(this.clubCompilation,s,i)})},eventListKings(){let a=this.isEvents?"eventPointsReference":"clubPointsReference",e=JSON.parse(JSON.stringify(this.eventResponse));e.map((t,s)=>{let i,r;if(this[a][s].rid!==void 0){let n=t.findIndex(l=>l.rid===this[a][s].rid&&l.tune===this[a][s].tune);n>-1&&(this[a][s].icar=n,i=t[n].time,r=t[n].time)}t.map((n,l)=>{i===void 0||l===this[a][s].icar?(i=n.time,r=n.time,n.timeToPrint=Vue.options.filters.toTimeString(n.time,this.eventKingTracks[s])):(n.points=Vue.options.filters.userPoints(r,n.time,this.eventKingTracks[s]),n.time===0?n.timeToPrint="DNF":(this.eventKingTracks[s]||"").includes("testBowl")?n.timeToPrint=n.time:n.time<i?n.timeToPrint=`${(n.time-i).toFixed(2)}`:n.timeToPrint=`${n.isTimePredicted?"~":"+"}${(n.time-i).toFixed(2)}`),this.frontCompleteCar(n),l===0&&(this.isEvents&&this.eventShowOnlyPicks&&this.eventPicksList.length>0?Vue.set(this.eventBestPerTrack,[this.eventKingTracks[s]],n):this.eventShowOnlyPicks&&this.clubPicksList.length>0&&Vue.set(this.clubBestPerTrack,[this.eventKingTracks[s]],n))})}),this.eventKingTracks.map((t,s)=>{t===null&&e.splice(s,0,[])}),this.isEvents?Vue.set(this.event,"compilation",e):Vue.set(this,"clubCompilation",e)},eventAskDelete(a){let e=this,t=function(){e.confirmDelete.loading=!0,e.eventLoading=!0,axios.post(Vue.preUrl+"/deleteEvent",{date:a}).then(s=>{e.confirmDelete.dialog=!1,e.loadEvents(!1)}).catch(s=>{console.log(s),e.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:s,type:"error"})}).then(()=>{e.confirmDelete.loading=!1,e.eventLoading=!1})};this.confirmDelete={dialog:!0,msg:`Delete "${a}"?`,actionLabel:"Delete",action:t,loading:!1,classe:"D_ButtonRed"}},eventOpenRqEdit(a){if(a.shiftKey&&(a.ctrlKey||a.metaKey)){this.eventForceAnalyze=!this.eventForceAnalyze,this.eventBlockAddTrackset=!this.eventBlockAddTrackset;return}this.eventRqEditDialog=!0,this.eventRqEditModel=`${this.event.rqLimit}`,setTimeout(()=>{try{document.querySelector("#Event_EditRq").focus(),document.querySelector("#Event_EditRq").select()}catch{}},10)},eventCloseRqEdit(){this.eventRqEditDialog=!1,this.event.rqLimit=Number(this.eventRqEditModel)},eventOpenNewEvent(){this.eventClearSaveNewEvent(),this.eventSeletorDialog=!1,this.eventNewDialog=!0,setTimeout(()=>{try{document.querySelector("#Cg_NewEventName").focus()}catch{}},10)},eventClearSaveNewEvent(){this.eventNewName=null},eventCloseNewEvent(){this.eventSeletorDialog=!0,this.eventNewDialog=!1},saveNewEvent(a){this.eventNewLoading=!0;let e={name:this.eventNewName,hidden:this.eventNewIsHidden};a&&(e=a,this.eventFilterToSave&&(e.filter=this.eventFilterToSave),this.eventFilterToSave2&&(e.filter2=this.eventFilterToSave2),this.eventFilterToSave3&&(e.filter3=this.eventFilterToSave3)),axios.post(Vue.preUrl+"/newEvent",e).then(t=>{this.eventCloseNewEvent(),this.eventNewLoading=!1,a&&(this.eventParsedList=this.eventParsedList.filter(s=>s.name!==e.name)),this.loadEvents(!1,s=>{let i=e.name.trim().toLowerCase().replace(/  +/g," ").normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").replaceAll(" ","_").replace(/[^a-zA-Z0-9\-\_ ]/g,"");this.loadEventFull(i)})}).catch(t=>{this.eventNewError=!0,this.eventNewLoading=!1,setTimeout(()=>{this.eventNewError=!1},1500),console.log(t),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:t,type:"error"}),(t.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")})},eventSaveAll(a,e){this.saveLoading=!0;let t={date:this.eventCurrentId};this.eventFilterString!==JSON.stringify(this.event.filter)&&(t.filter=this.eventFilterToSave),this.eventFilterString2!==JSON.stringify(this.event.filter2)&&(t.filter2=this.eventFilterToSave2),this.eventFilterString3!==JSON.stringify(this.event.filter3)&&(t.filter3=this.eventFilterToSave3),(a||this.eventNeedSaveTrackset)&&(t.trackset=this.event.trackset),this.eventCompString!==JSON.stringify(this.event.comp)&&(t.comp=this.event.comp),this.eventRqEditString!==JSON.stringify(this.event.rqLimit)&&(t.rqLimit=this.event.rqLimit),this.eventIcons!==JSON.stringify(this.event.icons)&&(t.icons=this.event.icons),axios.post(Vue.preUrl+"/updateEvent",t).then(s=>{this.eventForceAnalyze=!1,this.eventResetStringsToSave(!0),this.saveLoading=!1,t.trackset&&Vue.set(this.event,"tracksetBkp",JSON.parse(JSON.stringify(this.event.trackset))),e&&e(s)}).catch(s=>{this.saveLoading=!1,console.log(s),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:s,type:"error"}),(s.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")})},eventConfirmSaveTrackset(){let a=this,e=function(){a.confirmDelete.loading=!0,a.eventSaveAll(!0,t=>{a.confirmDelete.loading=!1,a.confirmDelete.dialog=!1})};this.confirmDelete={dialog:!0,msg:"Save this trackset order for everyone?",actionLabel:"Save",action:e,loading:!1,classe:"D_ButtonRed"}},eventEditComp(a){this.user.username==="TiagoXavi"&&!this.eventCompTypes.metas.includes("Template")&&this.eventCompTypes.metas.push("Template"),this.eventCompIndex=a,this.eventCompDialog=!0},eventEditCompClose(){this.eventCompDialog=!1},eventUpdateRequirements(a,e=0){let t=this.isEvents?"event":"clubReqsGroupModel",s="filter";e&&(s=s+(e+1)),this[t][s]=a,this.eventRequirementsDialog=!1,this.clubRequirementsDialog=!1},eventClearFilterUpdate(a,e=0){let t=this.isEvents?"eventFilterToSave":"clubCurrentFilterToSave";e&&(t=t+(e+1)),this[t]=a},eventFilterAddDual(){let a=this.isEvents?"event":"clubReqsGroupModel";if(!this[a].filter2){Vue.set(this[a],"filter2",{});return}if(!this[a].filter3){Vue.set(this[a],"filter3",{});return}},eventSaveRoundHand(){let a=`hand_${this.eventCurrentId}`,e=[];window.localStorage.setItem(a,JSON.stringify(e))},eventResetSaveHand(){let a=`hand_${this.eventCurrentId}`;localStorage.removeItem(a),this.eventShowResetSavedHand=!1},eventMoveTrackRight(a,e){let t=this.isEvents?"event":"clubTracksGroupModel",s=this[t].trackset[a][e+1];Vue.set(this[t].trackset[a],[e+1],this[t].trackset[a][e]),Vue.set(this[t].trackset[a],[e],s),this.isEvents?this.eventResolveTrackset():this.clubsResolveTrackGroup()},eventTrackNewIndex(a){a.current,a.new;let e;for(this.isEvents?(e=this.event.trackset[a.itrackset],this.event.tracksetBkp||Vue.set(this.event,"tracksetBkp",JSON.parse(JSON.stringify(this.event.trackset)))):e=this.clubTracksGroupModel.trackset[a.itrackset];a.current<0;)a.current+=e.length;for(;a.new<0;)a.new=0;a.new>e.length&&(a.new=e.length),e.splice(a.new,0,e.splice(a.current,1)[0]),this.isEvents?this.eventResolveTrackset(!0):this.clubsResolveTrackGroup()},eventMove(a="up",e){let t=this.isEvents?"event":"clubTracksGroupModel";var s=0;if(a==="up"){if(e===0)return;s=e-1}if(a==="down"){if(e===this[t].trackset.length-1)return;s=e+1}var i=this[t].trackset[e];this[t].trackset.splice(e,1),this[t].trackset.splice(s,0,i),this.clubHasOriginalOrder&&t==="clubTracksGroupModel"&&(i=this[t].tracksetOriginal[e],this[t].tracksetOriginal.splice(e,1),this[t].tracksetOriginal.splice(s,0,i),this.clubBlockOriginalButton=!0,this.clubTrackNeedSave||(this.clubBlockOriginalButton=!1)),!this.clubHasOriginalOrder&&t==="clubTracksGroupModel"&&(this.clubBlockOriginalButton=!0),this.isEvents?this.eventResolveTrackset():this.clubsResolveTrackGroup()},eventDeleteTrackset(a){let e=this.isEvents?"event":"clubTracksGroupModel";this[e].trackset=this[e].trackset.filter((t,s)=>s!==a),this.isEvents?this.eventResolveTrackset():this.clubsResolveTrackGroup()},eventRefreshKingFilter(){this.eventFilterForKing={},this.eventCheckFilterCode&&this.$nextTick().then(()=>{this.mode==="events"&&this.$store.commit("EVENT_EXPORT_FILTER"),this.mode==="clubs"&&this.$store.commit("CLUBS_EXPORT_FILTER"),this.$nextTick().then(()=>{this.eventOpenKingFilter(Number(this.eventCheckFilterCode[0]),Number(this.eventCheckFilterCode[2]),{},!0)})})},eventOpenKingFilter(a,e,t,s=!1){let i=this.isEvents?"event":"clubReqsGroupModel",r="filter";i==="event"&&this.eventUseWhatFilter&&(r=r+(this.eventUseWhatFilter+1)),i==="clubReqsGroupModel"&&this.clubUseWhatFilter&&(r=r+(this.clubUseWhatFilter+1));let n=this.eventFilterForKingLast!==this[i].date;if(this.eventFilterForKingLast=this[i].date,this.eventAnalyseLoading)return!0;(!Object.keys(this.eventFilterForKing).length||s||n)&&(this.eventFilterForKing=JSON.parse(JSON.stringify(this[i][r]))),this.eventCheckFilterCodePre=`${a}_${e}`,this.eventCheckFilterCode=null,this.whatTier&&this.whatTier<=3&&(!t||!t.ctrlKey)&&!s?(this.eventKingDialogLoad=!0,this.$nextTick().then(()=>{this.eventKingDialog=!0})):this.eventEventKFilter(t.ctrlKey)},eventCloseKingFilter(){this.eventCheckFilterCode=null},eventEventKFilter(a){this.eventAnalyseKFilter(a)},eventAnalyseKFilter(a){if(this.eventMyGarage&&!this.user.hasGarage){this.noGarageUploaded();return}let e=this.isEvents?"event":"clubTracksGroupModel";this.eventCheckFilterCode=this.eventCheckFilterCodePre,this.eventKingTracks=this[e].trackset[this.eventCheckFilterCode[0]],this.eventKingDialog=!1,this.eventAnalyseLoading=!0,this.eventMyGarage&&this.$store.commit("START_LOGROCKET",{});let t={filter:this.eventFilterForKing,tracks:this.eventKingTracks,includeDownvotes:this.kingShowDownvoted,forceFree:a,onlyPicks:this.eventShowOnlyPicks,forcePicks:this.eventForcePicks,myGarage:this.eventMyGarage,picks:[]};t.picks=this.eventReducePicks(),t.picks.length===0&&(t.forcePicks=!1,t.onlyPicks=!1),this.mode==="clubs"&&this.whatTier&&this.whatTier<=3&&(t.isClubs=!0),axios.post(Vue.preUrl+"/eventKings",t).then(s=>{this.eventResponse=s.data,this.eventPointsReference.map(i=>{i.icar=void 0}),this.eventListKings()}).catch(s=>{console.log(s),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:s,type:"error"}),(s.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")}).then(()=>{this.eventAnalyseLoading=!1})},eventRenameFilter(a){let e=a.n;Vue.set(this.event[`filter${e+1>1?e+1:""}`],"name",a.newName);let t=this.eventRetrieveCurrentClearedFilter(e);Vue.set(t,"name",a.newName)},eventRetrieveCurrentClearedFilter(a){let e=this.isEvents?"eventFilterToSave":"clubCurrentFilterToSave";if(a&&(e=e+(a+1)),this[e]===null||this[e]===void 0){let t=this.isEvents?"event":"clubReqsGroupModel",s="filter";a&&(s=s+(a+1)),Vue.set(this,e,JSON.parse(JSON.stringify(this[t][s])))}return this[e]},eventFindRqSavers(){this.eventCheckFilterCode=this.eventCheckFilterCodePre;let a,e,t="filter";this.isEvents?(a=[this.event.trackset[this.eventCheckFilterCode[0]]],this.eventUseWhatFilter&&(t=t+(this.eventUseWhatFilter+1)),e=this.event[t]):(a=[this.clubTracksGroupModel.trackset[this.eventCheckFilterCode[0]]],this.clubUseWhatFilter&&(t=t+(this.clubUseWhatFilter+1)),e=this.clubReqsGroupModel[t]),this.eventKingDialog=!1,this.eventAnalyseLoading=!0,this.mode,axios.post(Vue.preUrl+"/analyseEvent",{trackset:a,filter:e,isClubs:this.mode==="clubs"}).then(s=>{Vue.set(this,"trackTimes",s.data),this.eventResolveCompilation(a)}).catch(s=>{console.log(s),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:s,type:"error"}),(s.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")}).then(()=>{this.eventAnalyseLoading=!1})},eventExportTracksToWorkspace(a="events"){let e="",t=[];a==="events"&&this.event.trackset.map(s=>{s.map(i=>{t.push(i)})}),a==="cg"&&this.cgRound.races.map(s=>{t.push(s.track)}),t=[...new Set(t)],a==="events"&&(t=this.orderTracksIds(t)),t.map(s=>{e+=`~K${s}`}),a==="events"&&(this.eventReducePicks().map(i=>{e+=`~C${i.rid}~T${i.tune}`}),this.$store.commit("CLASSIC_FILTER_IMPORT",{filter:this.event.filter})),a==="cg"&&(this.cgRound.races.map(s=>{s.tune&&!s.tune.includes("Other")&&s.tune!=="000"?e+=`~C${s.rid}~T${s.tune}`:e+=`~C${s.rid}`,typeof s.carIndex=="number"&&(e+=`~C${(s.cars[s.carIndex]||{}).rid}~T${(s.cars[s.carIndex]||{}).tune}`)}),this.$store.commit("CLASSIC_FILTER_IMPORT",{filter:this.cgRound.filter})),this.changeMode("compare",!0,!1),setTimeout(()=>{this.decodeTemplateString(e,!0)},150),a==="events"&&setTimeout(()=>{this.searchFilterDialog=!0},250)},eventExportCriteriaToPacks(){let a,e="filter";this.eventUseWhatFilter&&(e=e+(this.eventUseWhatFilter+1)),a=this.event[e],this.$router.push({name:"Packs",params:{filter:a}})},eventExportEventToTimeline(){this.$router.push({name:"Timeline",params:{event:this.event}})},eventSetVisible(){let a=this,e=function(){a.eventAnalyseLoading=!0,a.confirmDelete.loading=!0,axios.post(Vue.preUrl+"/setEventVisible",{date:a.eventCurrentId,name:a.event.name,hidden:!1}).then(t=>{a.confirmDelete.dialog=!1,a.loadEvents(!0)}).catch(t=>{console.log(t),a.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:t,type:"error"})}).then(()=>{a.confirmDelete.loading=!1,a.eventAnalyseLoading=!1})};this.confirmDelete={dialog:!0,msg:`Set '${a.eventCurrentId}' visible?`,actionLabel:"Set visible",action:e,loading:!1,classe:"D_ButtonRed"}},eventOpenShowCarDialog(a,e,t,s){if(e.altKey){this.eventToggleReference(a,t);return}if(e.shiftKey&&(e.ctrlKey||e.metaKey)){if(!this.user||!this.user.mod)return;this.askDeleteTimeGeneral(a.rid,a.tune,this.eventKingTracks[t]);return}if(e.ctrlKey||e.metaKey){let i=`https://www.topdrivesrecords.com?share=~K${this.eventKingTracks[t]}~C${a.rid}~T${a.tune}`;window.open(i,"_blank");return}this.tuneDialogCar=JSON.parse(JSON.stringify(a.car)),this.tuneDialogCar.selectedTune="000",this.tuneDialogCarIndex=-1,this.tuneDialogisOppo=!0,this.tuneDialogActive=!0},eventClearPicks(){this.eventPicksList=[],window.localStorage.setItem(`picks_${this.eventCurrentName}`,"[]"),this.eventPointsReference=[{},{},{},{},{}],window.localStorage.setItem(`reference_${this.eventCurrentName}`,"[{}, {}, {}, {}, {}]")},eventClearBoard(){this.$store.commit("CLEAR_PRIZEBOARD",{})},eventLoadPicks(){this.eventPicksList=[],this.eventPointsReference=[{},{},{},{},{}];let a=window.localStorage.getItem(`picks_${this.eventCurrentName}`);a&&(this.eventPicksList=JSON.parse(a));let e=window.localStorage.getItem(`reference_${this.eventCurrentName}`);e&&(this.eventPointsReference=JSON.parse(e))},eventToggleReference(a,e){this.eventPointsReference[e]&&this.eventPointsReference[e].rid===a.rid&&this.eventPointsReference[e].tune===a.tune?this.eventPointsReference[e]={}:this.eventPointsReference[e]={rid:a.rid,tune:a.tune},window.localStorage.setItem(`reference_${this.eventCurrentName}`,JSON.stringify(this.eventPointsReference)),this.eventListKings()},eventTogglePick(a,e){this.eventPicksList.find(s=>s.rid===a.rid&&s.tune===a.tune)?this.eventPicksList=this.eventPicksList.filter(s=>s.rid!==a.rid||s.tune!==a.tune):this.eventPicksList.push(JSON.parse(JSON.stringify(a))),e&&e.preventDefault(),window.localStorage.setItem(`picks_${this.eventCurrentName}`,JSON.stringify(this.eventPicksList)),this.eventEnablePicks=!0},eventRemovePick(a){this.eventPicksList=this.eventPicksList.filter(e=>e!==a),window.localStorage.setItem(`picks_${this.eventCurrentName}`,JSON.stringify(this.eventPicksList))},eventReducePicks(){let a=[];if(this.mode==="events"&&this.eventPicksList.length>0){let t=[];this.eventPicksList.map(s=>{t.push({rid:s.rid,tune:s.tune})}),this.eventPointsReference.map((s,i)=>{s.rid&&t.push({rid:s.rid,tune:s.tune})}),a=t}if(this.mode==="clubs"&&this.clubPicksList.length>0){let t=[];this.clubPicksList.map(s=>{t.push({rid:s.rid,tune:s.tune})}),this.clubPointsReference.map((s,i)=>{s.rid&&t.push({rid:s.rid,tune:s.tune})}),a=t}let e=[];return a.map(t=>{e.find(i=>t.rid===i.rid&&t.tune===i.tune)||e.push(t)}),e},eventResetStringsToSave(a=!1){a?(this.eventFilterToSave&&(this.eventFilterString=JSON.stringify(this.eventFilterToSave)),this.eventFilterToSave2&&(this.eventFilterString2=JSON.stringify(this.eventFilterToSave2)),this.eventFilterToSave3&&(this.eventFilterString3=JSON.stringify(this.eventFilterToSave3)),this.eventFilterString&&(this.event.filter=JSON.parse(this.eventFilterString)),this.eventFilterString2&&(this.event.filter2=JSON.parse(this.eventFilterString2)),this.eventFilterString3&&(this.event.filter3=JSON.parse(this.eventFilterString3)),this.eventFilterToSave=null,this.eventFilterToSave2=null,this.eventFilterToSave3=null):(this.eventFilterString=JSON.stringify(this.event.filter),this.eventFilterString2=JSON.stringify(this.event.filter2),this.eventFilterString3=JSON.stringify(this.event.filter3)),this.eventTracksetString=JSON.stringify(this.event.trackset),this.eventCompString=JSON.stringify(this.event.comp),this.eventRqEditString=JSON.stringify(this.event.rqLimit),this.eventIcons=JSON.stringify(this.event.icons)},eventNamePaste(a){if(a&&this.user.username==="TiagoXavi"){let e=a.clipboardData.getData("text"),t,s=!1;try{t=JSON.parse(e),s=!0}catch(i){console.log(i)}s&&typeof t=="object"&&t.events&&Array.isArray(t.events)&&(a.preventDefault(),this.eventNewLoading=!0,axios.post(Vue.preUrl+"/eventsParseList",t).then(i=>{this.eventNewDialog=!1,this.eventNewLoading=!1,this.eventParsedList=i.data;let r=new Date().toISOString();this.eventParsedList.sort((n,l)=>{let o=n.endDateTime.localeCompare(r)<0,c=l.endDateTime.localeCompare(r)<0;if(o&&!c)return-1;if(c&&!o)return 1;let u=n.startDateTime.localeCompare(r)>0,d=l.startDateTime.localeCompare(r)>0;return u&&!d?1:d&&!u?-1:l.endDateTime!==n.endDateTime?n.endDateTime.localeCompare(l.endDateTime):n.name.localeCompare(l.name)}),console.log(this.eventParsedList.map(n=>{let l=t.events.find(o=>o.name===n.name.toUpperCase()&&o.startDateTime===n.startDateTime&&o.filteringQueryStrings.toString()===n.filteringQueryStrings.toString());return l=l||{},[n.name,l.challengeSetIds]}))}).catch(i=>{this.eventNewError=!0,this.eventNewLoading=!1,setTimeout(()=>{this.eventNewError=!1},1500),console.log(i),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:i,type:"error"})}))}},eventPreviewParsed(a){console.log(a,a.filteringQueryStrings),this.loadEventScreen("",a)},askDeleteTimeGeneral(a,e,t){let s=this,i=function(){s.confirmDelete.loading=!0,axios.post(Vue.preUrl+"/deleteTime",{rid:a,tune:e,track:t}).then(r=>{s.confirmDelete.dialog=!1,s.$store.commit("DEFINE_SNACK",{active:!0,correct:!0,text:s.$t("m_deleteSuccess")})}).catch(r=>{console.log(r),s.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:r,type:"error"})}).then(()=>{s.confirmDelete.loading=!1})};this.confirmDelete={dialog:!0,msg:`Delete '${t}' time of ${a}?`,actionLabel:"Delete",action:i,loading:!1,classe:"D_ButtonRed"}},handleResize(){this.windowWidth=window.innerWidth;let a=document.documentElement.clientWidth;document.documentElement.style.setProperty("--vw",`${a}px`);let e=document.documentElement.clientHeight;document.documentElement.style.setProperty("--vh",`${e}px`)},handleKeyDown(a){if(a.altKey){if(this.showPoints)return;a.preventDefault(),this.pointsInit(a)}if(a.code==="ShiftRight"&&this.clubHasOriginalOrder&&this.mode==="clubs"){if(this.clubIsShowingOriginal)return;a.preventDefault(),this.clubsResolveTrackGroup(!0)}if((a.ctrlKey||a.metaKey)&&a.shiftKey&&a.code==="KeyP"&&(Vue.toggleIgnore50points(),this.$store.commit("DEFINE_SNACK",{active:!0,correct:!0,time:800,text:"Ignore 50 points"})),(a.ctrlKey||a.metaKey)&&a.shiftKey&&a.code==="KeyK"&&(this.$store.commit("CHANGE_UPCOMING_TAGS",!this.$store.state.showUpcomingTags),this.$store.commit("DEFINE_SNACK",{active:!0,correct:this.$store.state.showUpcomingTags,error:!this.$store.state.showUpcomingTags,time:800,text:"Show upcoming tags"})),(a.ctrlKey||a.metaKey)&&a.shiftKey&&a.code==="KeyL"){let e=document.querySelector(".Main_BodyPrint");e?e.classList.remove("Main_BodyPrint"):document.querySelector(".Main_Body").classList.add("Main_BodyPrint")}},handleKeyUp(a){a.altKey||this.showPoints&&this.pointsEnd(),a.code==="ShiftRight"&&this.mode==="clubs"&&this.clubIsShowingOriginal&&(a.preventDefault(),this.clubsResolveTrackGroup(!1))},carLongTouch(a){this.carHoverIndex===a?this.pointsToggle():(this.carHoverIndex=a,this.pointsInit())},pointsInit(a){this.showPoints=!0,console.log(a),this.mode==="compare"&&(this.needSave&&(this.showCarsFix=!1,this.$nextTick().then(()=>{this.showCarsFix=!0})),this.resolvePointsClassic())},pointsEnd(){this.showPoints=!1},pointsToggle(){this.showPoints?this.pointsEnd():this.pointsInit()},hoverCarJs(a){this.carHoverIndex=a,this.showPoints&&this.resolvePointsClassic()},resolvePointsClassic(){if(console.log(this.carHoverIndex),this.carHoverIndex===-1)if(this.isMobile||this.$store.state.homePointsToggle)this.carHoverIndex=0;else return;if(!this.carDetailsList[this.carHoverIndex]||!this.carDetailsList[this.carHoverIndex].selectedTune)return;let a=this,e=[];this.carDetailsList.map(s=>{e.push({})}),this.currentTracks.map((s,i)=>{e.map(r=>{r[`${s.id}_a${s.surface}${s.cond}`]=null})});let t;e.map((s,i)=>{Object.keys(s).forEach(function(r){if(a.carDetailsList[i].data&&a.carDetailsList[i].data[a.carDetailsList[i].selectedTune]&&a.carDetailsList[i].data[a.carDetailsList[i].selectedTune].times&&a.carDetailsList[i].data[a.carDetailsList[i].selectedTune].times[r]&&(t=(a.carDetailsList[i].data[a.carDetailsList[i].selectedTune].times[r]||{}).t,a.carHoverIndex>-1&&a.carHoverIndex!==i)){let n=(a.carDetailsList[a.carHoverIndex].data[a.carDetailsList[a.carHoverIndex].selectedTune].times[r]||{}).t;s[r]=Vue.options.filters.userPoints(n,t,r)}})}),this.pointsResolved=e},checkAnnouncement(){},lookForChangedCars(a){!this.user||!this.user.mod||T(()=>import("./BaseFilterDialog-b2RE-qND.js").then(e=>e.e),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(e=>{let t=e.default["27.0 changed cars"];a.rounds.map((s,i)=>{s.races.map((r,n)=>{t.includes(r.rid)&&console.log(`${a.name}, Round ${i+1}, Race ${n+1}, ${r.rid}`)})})}).catch(e=>{console.log("load custom_tags failed",e)})},openMemoryDialog(){this.memorySearchDialogLoad=!0,this.$nextTick().then(()=>{this.memorySearchDialog=!0})},openLibraryDialog(){this.librarySearchDialogLoad=!0,setTimeout(()=>{this.librarySearchDialog=!0},10)},openKingFilterDialog(){this.kingFilterDialogLoad=!0,this.$nextTick().then(()=>{this.kingFilterDialog=!0})},openEventRequirementsDialog(){this.eventRequirementsDialogLoad=!0,this.$nextTick().then(()=>{this.eventRequirementsDialog=!0})},openMainDialog(){this.memoryFirstTimeLoaded||(this.checkMemoryFromStorage(),this.memoryFirstTimeLoaded=!0),this.optionsDialogActive=!0},openKingOfDialog(){this.kingDialog=!0},closeKingOfDialog(a=!1){this.kingDialog=!1,this.kingFixed=!1,a&&(this.optionsDialogActive=!1)},updateKingFilter(a){this.kingFilter=a,this.kingFilterDialog=!1,this.kingFixed&&this.kingAnalyse()},kingAnalyse(){this.kingTrack.code&&this.kingAnalyseFinish()},kingAnalyseFinish(){if(this.eventMyGarage&&!this.user.hasGarage){this.noGarageUploaded();return}this.kingLoading=!0,this.kingFixed&&(this.downloadLoading=!0);let a=this.mode;this.eventMyGarage&&this.$store.commit("START_LOGROCKET",{}),axios.post(Vue.preUrl+"/king",{track:this.kingTrack.code,includeDownvotes:this.kingShowDownvoted,filter:this.kingClearFilter,myGarage:this.eventMyGarage}).then(e=>{this.clearAllTracks(),this.clearAllCars(),this.pushTrackSet([this.kingTrack.code]);let t=[];e.data.map(s=>{t.push(JSON.parse(JSON.stringify(Vue.all_carsObj[s.rid]))),t[t.length-1].selectedTune=s.tune,t[t.length-1].softId=this.nextId,this.nextId++}),Vue.set(this,"carDetailsList",t),this.applyNewData(e.data,this.mode==="challenges",a),this.eventMyGarage&&this.carDetailsList.map((s,i)=>{if(!e.data[i].isTimePredicted)return;let r=s.selectedTune,n=this.kingTrack.code;s.data||Vue.set(s,"data",{}),s.data[r]||Vue.set(s.data,r,{}),s.data[r].times||Vue.set(s.data[r],"times",{}),s.data[r].times[n]||Vue.set(s.data[r].times,n,{}),Vue.set(s.data[r].times[n],"t",e.data[i].time),Vue.set(s.data[r].times[n],"isTimePredicted",!0)}),this.updateOptions(),this.kingFixed||(this.kingDialog=!1),this.kingForceVerticalView&&(this.display("vertical",!1),this.colorsChange("full",!1)),t.length===0&&this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:"No times found",type:"error"})}).catch(e=>{console.log(e),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:e,type:"error"})}).then(()=>{this.kingLoading=!1,this.downloadLoading=!1})},isChamp(a){return a.startsWith("SN")||a.startsWith("YB")},frontCompleteCar(a){Vue.set(a,"photo",Vue.all_carsObj[a.rid].photo),Vue.set(a,"car",JSON.parse(JSON.stringify(Vue.all_carsObj[a.rid]))),Vue.set(a,"color",Vue.all_carsObj[a.rid].color)},chooseCustomTune(a){this.customTuneDialogCar=a,this.customTuneDialogActive=!0,this.customTuneDialogTune=null,setTimeout(()=>{try{document.querySelector("#Main_CustomTuneInput").focus()}catch{}},10)},closeCustomTuneDialog(){this.customTuneDialogActive=!1,this.customTuneDialogTune&&(Vue.set(this.customTuneDialogCar,"forceTune",this.customTuneDialogTune),this.customTuneDialogCar.selectedTune=this.customTuneDialogTune,this.updateCarLocalStorage())},sendMra(){if(console.log(this.mraEditInput),!this.mraEditInput)return;let a=this.tuneDialogCar.rid,e=Number(this.mraEditInput);this.mraLoading=!0,axios.post(Vue.preUrl+"/setMra",{rid:a,mra:this.mraEditInput}).then(t=>{this.mraEditing=!1,this.tuneDialogCar.mra=e,Vue.set(Vue.all_carsObj[a],"mra",e),this.carDetailsList.find(s=>{if(s.rid===a)return Vue.set(s,"mra",e),!0})}).catch(t=>{console.log(t),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:t,type:"error"})}).then(()=>{this.mraLoading=!1})},resolveCarReview(a){let e=[];this.tuneDialogCar.reviews&&this.tuneDialogCar.reviews.length>0&&(e=this.tuneDialogCar.reviews);let t=e.findIndex(s=>s.user===this.user.username);if(a.isDelete)e.splice(t,1);else if(t>-1)a.reviewText&&(e[t].text=a.reviewText),a.reviewLink&&(e[t].link=a.reviewLink),e[t].lastEdit=new Date().toISOString();else{let s={text:a.reviewText,link:a.reviewLink,user:this.user.username,date:new Date().toISOString()};e.push(s)}this.carDetailsList.find(s=>{if(s.rid===this.tuneDialogCar.rid)return Vue.set(s,"reviews",e),!0})},reviewLoadTemplate(a){this.closeTune(),this.decodeTemplateString(a,!0)},gestureResolve(a){},loadClubs(a=!0){window.localStorage.setItem("club_already",!0),this.clubLoading=!0,axios.get(Vue.preUrl+"/searchClubs").then(e=>{this.clubFirstLoading=!1,e.data.res&&(this.clubTracksGroups=e.data.res.find(t=>t.id==="clubsTracksets").value,this.clubReqGroups=e.data.res.find(t=>t.id==="clubsReqs").value,this.clubDays=e.data.res.find(t=>t.id==="clubsDaysObj").value,this.clubServerDate=e.data.date,this.clubServerDateISO=e.data.date.substring(0,10),a&&this.clubsResolveInitial())}).catch(e=>{this.clubLoading=!1,console.log(e),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:e,type:"error"})}).then(e=>{this.clubLoading=!1})},clubsResolveInitial(){this.clubsLoadDay(this.clubDaySelected),this.clubsTrackResetStringsToSave()},clubsLoadDay(a,e){if(e&&e.shiftKey&&this.user&&this.user.canDelete&&this.user.mod){this.clubAskDeleteDay(a);return}a||(a=this.clubServerDateISO),this.clubDaySelected=a;let t=Object.keys(this.clubDays);if(t.sort((i,r)=>i.localeCompare(r)),!this.user||!this.user.mod){let i=new Date(this.clubServerDateISO);i.setDate(i.getDate()-1),i=i.getTime();let r=t.length;t.map((n,l)=>{new Date(n).getTime()<i&&l<r-1&&delete this.clubDays[n]})}t=t[t.length-1],this.clubDays[a]?(this.clubDaySelectedObj=this.clubDays[a],this.clubDaySelected=a):(this.clubDaySelectedObj=this.clubDays[t],this.clubDaySelected=t);let s=new Date(t);s.setDate(s.getDate()+1),this.clubServerNextDateAvailableISO=s.toISOString().substring(0,10),this.clubDaySelectedObj.tracksetGroups.sort((i,r)=>i.localeCompare(r)),this.clubDaySelectedObj.criterias.sort((i,r)=>i.localeCompare(r)),this.clubFillTrackGroupsActive(),this.clubsDayResetStringsToSave(),this.resetBestTeamsConfig(),this.clubTracksGroupsActive.length>0?this.clubsChangeTrackGroup(0):this.clubsChangeTrackGroup(null),this.clubReqGroupsActive.length>0?this.clubsChangeReqsGroup(0):this.clubsChangeReqsGroup(null),this.clubDayConfigDialog=!1},clubsTrackResetStringsToSave(){this.clubCurrentTracksetString=JSON.stringify(this.clubTracksGroupModel.trackset),this.clubCurrentCompString=JSON.stringify(this.clubTracksGroupModel.comp),this.clubCurrentTracksetIcons=JSON.stringify(this.clubTracksGroupModel.icons),this.clubCurrentName=JSON.stringify(this.clubTracksGroupModel.name),this.clubBlockOriginalButton=!1},clubsReqResetStringsToSave(a=!1){a?(this.clubCurrentFilterToSave&&(this.clubCurrentFilterString=JSON.stringify(this.clubCurrentFilterToSave)),this.clubCurrentFilterToSave2&&(this.clubCurrentFilterString2=JSON.stringify(this.clubCurrentFilterToSave2)),this.clubCurrentFilterToSave3&&(this.clubCurrentFilterString3=JSON.stringify(this.clubCurrentFilterToSave3)),this.clubCurrentFilterString1&&(this.clubReqsGroupModel.filter=JSON.parse(this.clubCurrentFilterString)),this.clubCurrentFilterString2&&(this.clubReqsGroupModel.filter2=JSON.parse(this.clubCurrentFilterString2)),this.clubCurrentFilterString3&&(this.clubReqsGroupModel.filter3=JSON.parse(this.clubCurrentFilterString3)),this.clubCurrentFilterToSave=null,this.clubCurrentFilterToSave2=null,this.clubCurrentFilterToSave3=null):(this.clubCurrentFilterString=JSON.stringify(this.clubReqsGroupModel.filter),this.clubCurrentFilterString2=JSON.stringify(this.clubReqsGroupModel.filter2),this.clubCurrentFilterString3=JSON.stringify(this.clubReqsGroupModel.filter3)),this.clubCurrentCriteriaNameString=JSON.stringify(this.clubReqsGroupModel.name)},clubsDayResetStringsToSave(){this.clubDayCurrentTracksetStrig=JSON.stringify(this.clubDaySelectedObj.tracksetGroups),this.clubDayCurrentReqStrig=JSON.stringify(this.clubDaySelectedObj.criterias)},clubsChangeTrackGroup(a){if(a===null){this.clubTracksGroupModel={},this.clubsTrackResetStringsToSave();return}this.clubTracksGroupModel=this.clubTracksGroupsActive[a],this.clubTracksGroupModel.trackset.length===0&&this.clubTracksGroupModel.trackset.push([null,null,null,null,null]),this.clubTracksGroupModel.icons||Vue.set(this.clubTracksGroupModel,"icons",[]),this.clubTracksGroupModel.comp.length===0&&Array.from(Array(5)).map((e,t)=>{this.clubTracksGroupModel.comp.push({tyres:[],clearance:[],drives:[],meta:[]})}),this.clubsResolveTrackGroup(),this.clubsTrackResetStringsToSave(),this.clubLoadPicks(),this.resetBestTeamsConfig()},clubsResolveTrackGroup(a=null){a===null&&this.clubIsShowingOriginal&&this.clubHasOriginalOrder&&(a=!0);let e="trackset";this.clubIsShowingOriginal=!1,a&&(e="tracksetOriginal",this.clubIsShowingOriginal=!0);let t=JSON.parse(JSON.stringify(this.clubTracksGroupModel[e]));t=t.map(s=>s.map(i=>i===null?null:[this.resolveTrack({track:i},!1,!1)])),Vue.set(this.clubTracksGroupModel,"resolvedTrackset",t)},clubsResolveReqGroup(){this.eventCheckFilterCodePre=null,this.eventCheckFilterCode=null,this.eventFilterForKing={},this.eventLoadPicks(),this.clubCurrentFilterString=JSON.stringify(this.clubReqsGroupModel.filter),this.clubCurrentFilterString2=JSON.stringify(this.clubReqsGroupModel.filter2),this.clubCurrentFilterString3=JSON.stringify(this.clubReqsGroupModel.filter3)},clubsChangeReqsGroup(a){if(a===null){this.clubReqsGroupModel={},this.clubsReqResetStringsToSave();return}this.clubReqsGroupModel=this.clubReqGroupsActive[a],this.clubUseWhatFilter=0,this.clubsResolveReqGroup(),this.clubsReqResetStringsToSave(),this.clubLoadPicks(),this.resetBestTeamsConfig()},clubAddTrackset(){this.clubTracksGroupModel.trackset.push([null,null,null,null,null]),this.clubsResolveTrackGroup()},clubOpenNewTrackset(){this.clubClearSaveNewTrackset(),this.clubTracksetDialog=!1,this.clubNewTracksetDialog=!0,setTimeout(()=>{try{document.querySelector("#Club_NewTracksetName").focus()}catch{}},10)},clubClearSaveNewTrackset(){this.clubNewTracksetName=null},clubCloseNewTrackset(){this.clubTracksetDialog=!0,this.clubNewTracksetDialog=!1},clubSaveNewTrackset(){this.clubNewTracksetLoading=!0,axios.post(Vue.preUrl+"/updateClubsTracksets",{name:this.clubNewTracksetName}).then(a=>{setTimeout(()=>{this.clubCloseNewTrackset(),this.loadClubs(!1),this.clubNewTracksetLoading=!1},1e3)}).catch(a=>{this.clubNewTracksetError=!0,this.clubNewTracksetLoading=!1,setTimeout(()=>{this.clubNewTracksetError=!1},1500),console.log(a),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:a,type:"error"}),(a.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")})},clubTracksetSelectorClick(a,e){if(e&&e.shiftKey&&this.user&&this.user.canDelete&&this.user.mod){this.clubAskDeleteTrackset(a);return}let t=this.clubTracksGroupsActive.find(s=>s.date===a);t?(t.date===this.clubTracksGroupModel.date&&(this.clubTracksGroupModel={},this.clubsTrackResetStringsToSave()),this.clubTracksGroupsActive=this.clubTracksGroupsActive.filter(s=>s.date!==t.date)):this.clubTracksGroupsActive.push(this.clubTracksGroups.find(s=>s.date===a)),this.clubTracksGroupsActive.sort((s,i)=>s.name.localeCompare(i.name)),this.clubDaySelectedObj.tracksetGroups=this.clubTracksGroupsActive.map(s=>s.date)},clubAskDeleteTrackset(a){let e=this,t=function(){e.confirmDelete.loading=!0,e.clubLoading=!0,axios.post(Vue.preUrl+"/updateClubsTracksets",{date:a,isDelete:!0}).then(s=>{e.confirmDelete.dialog=!1,e.loadClubs(!1)}).catch(s=>{console.log(s),e.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:s,type:"error"})}).then(()=>{e.confirmDelete.loading=!1})};this.confirmDelete={dialog:!0,msg:`Delete "${a}"?`,actionLabel:"Delete",action:t,loading:!1,classe:"D_ButtonRed"}},clubOpenNewReqs(){this.clubClearSaveNewReqs(),this.clubReqsDialog=!1,this.clubNewReqsDialog=!0,setTimeout(()=>{try{document.querySelector("#Club_NewReqsName").focus()}catch{}},10)},clubClearSaveNewReqs(){this.clubNewReqsName=null},clubCloseNewReqs(){this.clubReqsDialog=!0,this.clubNewReqsDialog=!1},clubSaveNewReqs(){this.clubNewReqsLoading=!0,axios.post(Vue.preUrl+"/updateClubsReqs",{name:this.clubNewReqsName}).then(a=>{setTimeout(()=>{this.clubCloseNewReqs(),this.loadClubs(!1),this.clubNewReqsLoading=!1},1e3)}).catch(a=>{this.clubNewReqsError=!0,this.clubNewReqsLoading=!1,setTimeout(()=>{this.clubNewReqsError=!1},1500),console.log(a),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:a,type:"error"}),(a.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")})},clubReqsSelectorClick(a,e){if(console.log("clubReqsSelectorClick"),e&&e.shiftKey&&this.user&&this.user.canDelete&&this.user.mod){this.clubAskDeleteReqs(a);return}let t=this.clubReqGroupsActive.find(s=>s.date===a);t?(t.date===this.clubReqsGroupModel.date&&(this.clubReqsGroupModel={},this.clubsTrackResetStringsToSave()),this.clubReqGroupsActive=this.clubReqGroupsActive.filter(s=>s.date!==t.date)):this.clubReqGroupsActive.push(this.clubReqGroups.find(s=>s.date===a)),this.clubReqGroupsActive.sort((s,i)=>s.name.localeCompare(i.name)),this.clubDaySelectedObj.criterias=this.clubReqGroupsActive.map(s=>s.date)},clubAskDeleteReqs(a){let e=this,t=function(){e.confirmDelete.loading=!0,e.clubLoading=!0,axios.post(Vue.preUrl+"/updateClubsReqs",{date:a,isDelete:!0}).then(s=>{e.confirmDelete.dialog=!1,e.loadClubs(!1)}).catch(s=>{console.log(s),e.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:s,type:"error"})}).then(()=>{e.confirmDelete.loading=!1})};this.confirmDelete={dialog:!0,msg:`Delete "${a}"?`,actionLabel:"Delete",action:t,loading:!1,classe:"D_ButtonRed"}},clubSaveTrackset(a=!1){this.clubLoading=!0;let e={date:this.clubTracksGroupModel.date};this.clubCurrentTracksetString!==JSON.stringify(this.clubTracksGroupModel.trackset)&&(e.trackset=this.clubTracksGroupModel.trackset),this.clubCurrentCompString!==JSON.stringify(this.clubTracksGroupModel.comp)&&(e.comp=this.clubTracksGroupModel.comp),this.clubCurrentTracksetIcons!==JSON.stringify(this.clubTracksGroupModel.icons)&&(e.icons=this.clubTracksGroupModel.icons),this.clubCurrentName!==JSON.stringify(this.clubTracksGroupModel.name)&&(e.name=this.clubTracksGroupModel.name),(a||this.clubBlockOriginalButton)&&(e.tracksetOriginal=this.clubTracksGroupModel.tracksetOriginal),axios.post(Vue.preUrl+"/updateClubsTracksets",e).then(t=>{this.clubsTrackResetStringsToSave(),this.clubLoading=!1}).catch(t=>{this.clubLoading=!1,console.log(t),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:t,type:"error"}),(t.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")})},clubSaveReq(){this.clubLoading=!0;let a={date:this.clubReqsGroupModel.date};this.clubCurrentFilterString!==JSON.stringify(this.clubReqsGroupModel.filter)&&(a.filter=this.clubCurrentFilterToSave),this.clubCurrentFilterString2!==JSON.stringify(this.clubReqsGroupModel.filter2)&&(a.filter2=this.clubCurrentFilterToSave2),this.clubCurrentFilterString3!==JSON.stringify(this.clubReqsGroupModel.filter3)&&(a.filter3=this.clubCurrentFilterToSave3),this.clubCurrentCriteriaNameString!==JSON.stringify(this.clubReqsGroupModel.name)&&(a.name=this.clubReqsGroupModel.name),axios.post(Vue.preUrl+"/updateClubsReqs",a).then(e=>{this.clubsReqResetStringsToSave(!0),this.clubLoading=!1}).catch(e=>{this.clubLoading=!1,console.log(e),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:e,type:"error"}),(e.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")})},clubDaySaveAll(){this.clubLoading=!0;let a={date:this.clubDaySelected};this.clubDayCurrentTracksetStrig!==JSON.stringify(this.clubDaySelectedObj.tracksetGroups)&&(a.tracksetGroups=this.clubDaySelectedObj.tracksetGroups),this.clubDayCurrentReqStrig!==JSON.stringify(this.clubDaySelectedObj.criterias)&&(a.criterias=this.clubDaySelectedObj.criterias),axios.post(Vue.preUrl+"/updateClubsDayConfigs",a).then(e=>{this.clubsDayResetStringsToSave(),this.clubLoading=!1}).catch(e=>{this.clubLoading=!1,console.log(e),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:e,type:"error"}),(e.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")})},clubNewDayConfig(a){this.clubLoading=!0,axios.post(Vue.preUrl+"/updateClubsDayConfigs",{date:a}).then(e=>{setTimeout(()=>{this.loadClubs(!1),this.clubLoading=!1},1e3)}).catch(e=>{this.clubLoading=!1,console.log(e),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:e,type:"error"}),(e.response||{}).status===401&&this.$store.commit("OPEN_LOGIN")})},clubAskDeleteDay(a){let e=this,t=function(){e.confirmDelete.loading=!0,e.clubLoading=!0,axios.post(Vue.preUrl+"/updateClubsDayConfigs",{date:a,isDelete:!0}).then(s=>{e.confirmDelete.dialog=!1,e.loadClubs(!1)}).catch(s=>{console.log(s),e.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:s,type:"error"})}).then(()=>{e.confirmDelete.loading=!1})};this.confirmDelete={dialog:!0,msg:`Delete "${a}"?`,actionLabel:"Delete",action:t,loading:!1,classe:"D_ButtonRed"}},clubFillTrackGroupsActive(){this.clubTracksGroupsActive=[],this.clubReqGroupsActive=[],this.clubDaySelectedObj.tracksetGroups.map(a=>{let e=this.clubTracksGroups.find(t=>t.date===a);e&&this.clubTracksGroupsActive.push(e)}),this.clubDaySelectedObj.criterias.map(a=>{let e=this.clubReqGroups.find(t=>t.date===a);e&&this.clubReqGroupsActive.push(e)})},clubExportTracksToWorkspace(){let a="",e=[];this.clubTracksGroupModel.trackset.map(s=>{s.map(i=>{e.push(i)})}),e=[...new Set(e)],e=this.orderTracksIds(e),e.map(s=>{a+=`~K${s}`}),this.eventReducePicks().map(s=>{a+=`~C${s.rid}~T${s.tune}`}),this.$store.commit("CLASSIC_FILTER_IMPORT",{filter:this.clubReqsGroupModel.filter}),this.changeMode("compare",!0,!1),setTimeout(()=>{this.decodeTemplateString(a,!0)},150),setTimeout(()=>{this.searchFilterDialog=!0},250)},clubClearPicks(){this.clubPicksList=[],window.localStorage.setItem(`picks_${this.clubTracksGroupModel.date}_${this.clubReqsGroupModel.date}`,"[]"),this.clubPointsReference=[{},{},{},{},{}],window.localStorage.setItem(`reference_${this.clubTracksGroupModel.date}_${this.clubReqsGroupModel.date}`,"[{}, {}, {}, {}, {}]")},clubLoadPicks(){this.clubPicksList=[],this.clubPointsReference=[{},{},{},{},{}],this.clubCompilation=[],this.eventCheckFilterCodePre=null,this.eventCheckFilterCode=null;let a=window.localStorage.getItem(`picks_${this.clubTracksGroupModel.date}_${this.clubReqsGroupModel.date}`);a&&(this.clubPicksList=JSON.parse(a));let e=window.localStorage.getItem(`reference_${this.clubTracksGroupModel.date}_${this.clubReqsGroupModel.date}`);e&&(this.clubPointsReference=JSON.parse(e))},clubToggleReference(a,e){this.clubPointsReference[e]&&this.clubPointsReference[e].rid===a.rid&&this.clubPointsReference[e].tune===a.tune?this.clubPointsReference[e]={}:this.clubPointsReference[e]={rid:a.rid,tune:a.tune},window.localStorage.setItem(`reference_${this.clubTracksGroupModel.date}_${this.clubReqsGroupModel.date}`,JSON.stringify(this.clubPointsReference)),this.eventListKings()},clubTogglePick(a,e){this.clubPicksList.find(s=>s.rid===a.rid&&s.tune===a.tune)?this.clubPicksList=this.clubPicksList.filter(s=>s.rid!==a.rid||s.tune!==a.tune):this.clubPicksList.push(JSON.parse(JSON.stringify(a))),e&&e.preventDefault(),window.localStorage.setItem(`picks_${this.clubTracksGroupModel.date}_${this.clubReqsGroupModel.date}`,JSON.stringify(this.clubPicksList)),this.eventEnablePicks=!0},clubRemovePick(a){this.clubPicksList=this.clubPicksList.filter(e=>e!==a),window.localStorage.setItem(`picks_${this.clubTracksGroupModel.date}_${this.clubReqsGroupModel.date}`,JSON.stringify(this.clubPicksList))},clubShowRequirementsDialog(a){if(a.shiftKey&&(a.ctrlKey||a.metaKey)&&this.user&&this.user.mod){this.clubForceAnalyze=!this.clubForceAnalyze;return}this.clubRequirementsDialogLoad=!0,this.$nextTick().then(()=>{this.clubRequirementsDialog=!0})},clubRenameFilter(a){let e=a.n;Vue.set(this.clubReqsGroupModel[`filter${e+1>1?e+1:""}`],"name",a.newName);let t=this.eventRetrieveCurrentClearedFilter(e);Vue.set(t,"name",a.newName)},clubSaveOriginalOrder(){this.clubTracksGroupModel.tracksetOriginal=JSON.parse(JSON.stringify(this.clubTracksGroupModel.trackset)),Vue.set(this.clubTracksGroupModel,"trackset",JSON.parse(this.clubCurrentTracksetString)),this.clubsResolveTrackGroup(),this.clubSaveTrackset(!0)},clubViewToggle(){this.clubIsShowingOriginal?this.clubsResolveTrackGroup(!1):this.clubsResolveTrackGroup(!0)},clubSubmitCompleteJson(){let a,e=!1;try{a=JSON.parse(this.clubJson),e=!0}catch(t){console.log(t)}if(!e){console.log(error),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:"Parse error",type:"error"});return}this.clubLoading=!0,axios.post(Vue.preUrl+"/clubObjFinalize",a).then(t=>{this.clubJson="",this.loadClubs()}).catch(t=>{this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:t,type:"error"})}).then(()=>{this.clubLoading=!1})},afterTogglePermanents(a){let e=document.querySelector(a);if(!e)return;const t=new ResizeObserver(s=>{for(const i of s)i.target.scrollTo(0,1e4);e?t.unobserve(e):t.disconnect()});t.observe(e)},resolveStat(a,e,t=null){return Vue.resolveStat(a,e,t)},resolvePaste(a){if(a){a.preventDefault();let e=a.clipboardData.getData("text"),t=!1;try{JSON.parse(e),t=!0}catch{}if(!t)return;if(e.includes("resultData")&&e.includes("roundData")){if(e.includes("ladderPlayerData")&&this.mode==="challenges"&&this.cgRound&&this.cgRound.date&&this.cgRound.races[0].track!==null&&!this.cgIsApproving){this.cgRoundResultJson=e,this.cgSubmitRoundResultJson();return}e.includes("campaignProgress"),e.includes("leaderboardEntries")}if(e.includes("zoneEligibility")&&e.includes("zoneSize")&&this.mode==="challenges"&&this.cgRound&&this.cgRound.date&&!this.cgIsApproving){this.cgCompleteJson=e,this.cgSubmitCompleteJson();return}}},openHandRankingDialog(){let a,e="filter";this.isEvents&&(this.eventUseWhatFilter&&(e=e+(this.eventUseWhatFilter+1)),a=this.event[e],this.eventBestTeamsTarget={trackset:this.event.trackset,rqLimit:this.event.rqLimit,filter:a,filteringQueryStrings:this.event.filteringQueryStrings,flexibleCriteriaRequired:this.event.flexibleCriteriaRequired,flexConfig:this.event.flexConfig,name:this.event.name,resolvedTrackset:this.event.resolvedTrackset}),this.isClubs&&(this.clubUseWhatFilter&&(e=e+(this.clubUseWhatFilter+1)),a=this.clubReqsGroupModel[e],this.eventBestTeamsTarget={trackset:this.clubTracksGroupModel.trackset,rqLimit:250,filter:a,filteringQueryStrings:[],flexibleCriteriaRequired:[],flexConfig:[],clubReqsGroupModel:this.clubReqsGroupModel,name:`${this.clubTracksGroupModel.name}/${this.clubReqsGroupModel.name}`,resolvedTrackset:this.clubTracksGroupModel.resolvedTrackset}),this.eventBestTeamsDialog=!0},async getHandRanking(a){if(this.eventBestTeamsConfig.myGarage&&!this.user.hasGarage){this.noGarageUploaded();return}this.eventBestTeamsLoading=!0;let e={trackset:this.eventBestTeamsTarget.trackset,rqLimit:this.eventBestTeamsTarget.rqLimit,filteringQueryStrings:this.eventBestTeamsTarget.filteringQueryStrings,flexibleCriteriaRequired:this.eventBestTeamsTarget.flexibleCriteriaRequired,flexConfig:this.eventBestTeamsTarget.flexConfig,sendStats:this.$store.state.showUpcomingTags,myGarage:this.eventBestTeamsConfig.myGarage,repeatCars:this.eventBestTeamsConfig.repeatCars||this.eventBestTeamsConfig.myGarage,uniqueHands:this.eventBestTeamsConfig.uniqueHands,prizeCars:this.eventBestTeamsConfig.prizeCars,neverAwardedCars:this.eventBestTeamsConfig.neverAwardedCars,predictedTimes:this.eventBestTeamsConfig.predictedTimes||this.eventBestTeamsConfig.myGarage,shiftKey:a&&a.shiftKey};this.eventBestTeamsConfig.forceCarsBool&&this.eventBestTeamsConfig.forceCars.some(t=>t.rid)&&(e.forceCars=this.eventBestTeamsConfig.forceCars.map(t=>t.rid)),this.eventBestTeamsConfig.blackListBool&&this.eventBestTeamsConfig.blackList.length>0&&(e.blackList=this.eventBestTeamsConfig.blackList),this.eventBestTeamsTarget.clubReqsGroupModel&&(e.clubReqsGroupModel=this.eventBestTeamsTarget.clubReqsGroupModel,e.rqLimit=this.eventBestTeamsTarget.rqLimit),this.$store.commit("START_LOGROCKET",{});try{const t=await fetch(Vue.preUrl+"/handRaking",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw this.eventBestTeamsLoading=!1,this.eventBestLastLoadingMsg=null,new Error(`HTTP error! Status: ${t.status}`);const s=t.body.getReader(),i=new TextDecoder;for(;;){const{done:r,value:n}=await s.read();if(r)break;const l=i.decode(n,{stream:!0});let o;try{o=JSON.parse(l)}catch(c){console.error("Error parsing chunk:",c)}if(o&&o.message)throw new Error(o.message);o&&o.temp?o.queue!==void 0?(this.eventBestLastLoadingMsg="Resolving...",o.queue>0&&(this.eventBestLastLoadingMsg=`Queue: ${o.queue}`)):o.partial&&(this.eventBestLastLoadingMsg=o.partial):o&&o.arr&&(console.log("getHandRanking",o.stats),this.eventBestTeamsBigArray=o.arr,this.eventBestTeamsDialog=!0,this.eventBestTeamsLastCache=JSON.stringify({...this.eventBestTeamsTarget,...this.eventBestTeamsConfig}))}this.eventBestTeamsLoading=!1,this.eventBestLastLoadingMsg=null}catch(t){console.error("Error fetching stream:",t),this.eventBestTeamsLoading=!1,this.eventBestLastLoadingMsg=null}},resetBestTeamsConfig(){this.eventBestTeamsConfig.forceCarsBool=!1,this.eventBestTeamsConfig.forceCars=[{},{},{},{},{}],this.eventBestTeamsConfig.blackListBool=!1,this.eventBestTeamsConfig.blackList=[],this.eventBestTeamsBigArray=[],this.eventBestTeamsLastCache=null,console.log("resetBestTeamsConfig")},testBestOf(){this.kingLoading=!0,axios.get(Vue.preUrl+"/kingTest").then(a=>{this.clearAllTracks(),this.clearAllCars(),this.pushTrackSet(["tCircuit_a00"]);let e=[];a.data.map(t=>{e.push(JSON.parse(JSON.stringify(Vue.all_carsObj[t.rid]))),e[e.length-1].selectedTune=t.tune,e[e.length-1].softId=this.nextId,this.nextId++}),Vue.set(this,"carDetailsList",e),this.applyNewData(a.data,this.mode==="challenges",this.mode),this.updateOptions(),this.kingDialog=!1,this.kingForceVerticalView&&(this.display("vertical",!1),this.colorsChange("full",!1)),e.length===0&&this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:"No times found",type:"error"})}).catch(a=>{console.log(a),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:a,type:"error"})}).then(()=>{this.kingLoading=!1,this.downloadLoading=!1})},noGarageUploaded(){let a=this,e=function(){a.$router.push({name:"BaseMyGarage"}),a.$store.commit("DEFINE_DIALOG",{active:!1})};a.$store.commit("DEFINE_DIALOG",{active:!0,title:a.$t("p_youNeedGarage"),actionLabel:a.$t("m_uploadMyGarage"),cancelLabel:a.$t("m_cancel"),actionColor:"green",maxWidth:"250px",minWidth:"240px",error:!1,disabled:!1,action:e,loading:!1,maxWidth:"420px"})},refreshLocalTimesByFilter(){let a=this.isEvents?"event":"clubReqsGroupModel",e="filter";a==="event"&&this.eventUseWhatFilter&&(e=e+(this.eventUseWhatFilter+1)),a==="clubReqsGroupModel"&&this.clubUseWhatFilter&&(e=e+(this.clubUseWhatFilter+1));let t=this.eventFilterForKingLast!==this[a].date;this.eventFilterForKingLast=this[a].date,(!Object.keys(this.eventFilterForKing).length||t)&&(this.eventFilterForKing=JSON.parse(JSON.stringify(this[a][e])));let s={filter:this.eventFilterForKing};this.eventAnalyseLoading=!0,axios.post(Vue.preUrl+"/refreshLocalTimesByFilter",s).then(i=>{console.log(i.data)}).catch(i=>{console.log(i)}).then(()=>{this.eventAnalyseLoading=!1})}}};var We=function(){var e=this,t=e._self._c;return t("div",{staticClass:"Main_Layout",class:{Main_Normal:!e.inverted,Main_2:e.inverted&&e.mode==="compare",Main_Compact:e.compact&&e.mode==="compare"||(e.mode==="challenges"||e.mode==="events"||e.mode==="clubs")&&e.windowWidth<1200,Main_ColorsFull:e.fullColors,Main_ColorsMedal:!e.fullColors,Main_ShowPoints:e.showPoints},on:{gestureend:function(s){return e.gestureResolve(s)},click:function(s){return s.stopPropagation(),e.outsideClick()}}},[e.mode==="compare"?t("div",{staticClass:"Main_Body",class:{Main_BodyEmpty:e.carDetailsList.length===0},on:{click:function(s){return s.stopPropagation(),e.outsideClick()}}},[t("div",{staticClass:"Main_LeftPlusTop"},[t("div",{staticClass:"Main_Corner"},[t("BaseCorner",{staticStyle:{display:"contents"},attrs:{gameVersion:e.gameVersion},on:{menu:function(s){return e.openMainDialog()},camera:function(s){e.shareDialog=!0,e.generateUrl(),e.generateCarsList()}}},[t("template",{slot:"by"},[e.user&&e.inverted?t("div",{staticClass:"Main_PrintBy"},[t("div",{staticClass:"Main_PrintByLabel"},[e._v(e._s(e.$t("m_printBy")))]),t("div",{staticClass:"Main_PrintByUser",class:`Main_UserT${e.highlightsUsers[e.user.username]}`},[e._v(e._s(e.user.username))])]):e._e()]),t("template",{slot:"more"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonMenu Main_BestOfOutside",staticStyle:{"font-size":"18px",padding:"9px 9px"},on:{click:function(s){return e.openKingOfDialog()}}},[t("i",{staticClass:"ticon-crown D_ButtonIcon D_ButtonIcon24",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_bestOf")))])])])],2),t("div",{staticClass:"Main_RowCornerBox"},[e.carDetailsList.length>0&&e.currentTracks.length>0?t("div",{staticClass:"Main_RowCorner"},[e.user?e.user&&e.isImport?[t("div",{staticClass:"Main_SaveAllBox"},[t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.saveLoading},on:{click:function(s){return e.saveImport()}}},[e._v("Import")])])]:e.user&&e.needSave?[t("div",{staticClass:"Main_SaveAllBox"},[t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.saveLoading},on:{click:function(s){return e.saveAll()}}},[e._v(e._s(e.$t("m_save")))])])]:e.isMobile||e.$store.state.homePointsToggle?[t("div",{staticClass:"Main_SaveAllBox",on:{click:function(s){s.stopPropagation()}}},[t("BaseSwitch",{attrs:{label:e.$t("m_points"),horizontal:!0},on:{click:function(s){return e.pointsToggle()}},model:{value:e.showPoints,callback:function(s){e.showPoints=s},expression:"showPoints"}})],1)]:e._e():[t("div",{staticClass:"Main_SaveAllBox"},[t("button",{staticClass:"D_Button Main_LoginToEdit",on:{click:function(s){return e.$store.commit("OPEN_LOGIN")}}},[e._v(e._s(e.$t("m_login")))])])],e.user&&!e.inverted?t("div",{staticClass:"Main_PrintBy"},[t("div",{staticClass:"Main_PrintByLabel"},[e._v(e._s(e.$t("m_printBy")))]),t("div",{staticClass:"Main_PrintByUser",class:`Main_UserT${e.highlightsUsers[e.user.username]}`},[e._v(e._s(e.user.username))])]):e._e()],2):e._e()])],1),t("div",{staticClass:"Main_Left"},[t("div",{staticClass:"Main_TrackList"},[t("Row",{attrs:{list:e.currentTracks,hoverIndex:e.hoverIndex,loggedin:!!e.user,user:e.user,needSave:e.needSave,saveLoading:e.saveLoading,voteLoading:e.voteLoading,invertedView:e.inverted,type:"tracks"},on:{newindex:function(s){return e.newIndex(s,!1,!0)}}}),t("div",{staticClass:"Row_ShowMoreTracks Main_AddTrackBox"},[t("button",{staticClass:"D_Button Main_AddTrackDirect Main_AddTrackDirectLarger",on:{click:function(s){return e.openDialogTrackSearch(!1)}}},[t("i",{staticClass:"ticon-plus_2",attrs:{"aria-hidden":"true"}})]),e.smartCampaign.length>0?t("button",{staticClass:"D_Button D_ButtonLink Row_ShowMoreButton",staticStyle:{opacity:"1"},on:{click:function(s){e.campaignDialog=!0}}},[e._v(e._s(e.$t("m_campaign")))]):e._e()])],1)])]),t("div",{staticClass:"Main_Mid"},[e._m(0),e.showCarsFix?t("div",{staticClass:"Main_CarList",on:{click:function(s){s.stopPropagation()},mouseleave:function(s){e.hoverIndex=-1}}},[e._l(e.carDetailsList,function(s,i){return[t("Car",{key:i,attrs:{car:s,index:i,lastIndex:e.carDetailsList.length-1,countPerTrack:e.countTimesPerTrack,trackList:e.currentTracks,highlights:e.highlights[i],points:e.pointsResolved[i],showPoints:e.showPoints&&e.carHoverIndex!==i,isReferencePoints:e.showPoints&&e.carHoverIndex===i,hoverIndex:e.hoverIndex,maxCarNumber:e.maxCarNumber,loggedin:!!e.user,user:e.user,downloadLoading:e.downloadLoading||e.lastestLoading,voteLoading:e.voteLoading,needSave:e.needSave,invertedView:e.inverted,compact:e.compact},on:{longTouch:function(r){return e.carLongTouch(i)},delete:function(r){return e.deleteCar(i)},moreTracks:function(r){return e.moreTracksCar(r)},newindex:function(r){return e.newIndex(r)},enter:function(r){return e.hoverCarJs(i)}}})]}),e.carDetailsList.length<e.maxCarNumber?[t("div",{staticClass:"Car_Layout Car_LayoutAddCar",class:{Car_WithMidEmpty:e.carDetailsList.length===0},on:{mouseenter:function(s){return e.$store.commit("HOVER_INDEX",-1)}}},[t("div",{staticClass:"Car_Header Car_AddHeader"},[t("button",{staticClass:"D_Button Car_AddButton add",on:{click:function(s){e.searchFilterDialog=!0}}},[t("i",{staticClass:"ticon-plus_2 Car_AddIcon",attrs:{"aria-hidden":"true"}}),t("div",{staticClass:"Car_LayoutAddCarLabel"},[e._v(e._s(e.$t("m_searchCar")))])])])])]:e._e(),e.carDetailsList.length===0?[t("div",{staticClass:"Car_Layout Car_LayoutAddCar Car_WithMidEmpty",on:{mouseenter:function(s){return e.$store.commit("HOVER_INDEX",-1)}}},[t("div",{staticClass:"Car_Header Car_AddHeader"},[t("button",{staticClass:"D_Button Car_AddButton add",on:{click:function(s){return e.openLibraryDialog()}}},[t("i",{staticClass:"ticon-dash Car_AddIcon",attrs:{"aria-hidden":"true"}}),t("div",{staticClass:"Car_LayoutAddCarLabel"},[e._v(e._s(e.$t("m_library")))])])])])]:e._e()],2):e._e(),t("div",{staticClass:"Main_PrintCreditsBottom",style:`--number-cars: ${e.carDetailsList.length}; --number-tracks: ${e.currentTracks.length}`},[t("span",{staticStyle:{color:"#7c7c7c","margin-right":"3px"}},[e._v(e._s(e.$t("m_contributors"))+": ")]),e._l(e.contributorsList,function(s,i){return[i>0?[e._v(", ")]:e._e(),t("span",{class:`Main_UserT${e.highlightsUsers[s]}`},[e._v(e._s(s))])]})],2)])]):e.mode==="challenges"?t("div",{staticClass:"Cg_Layout",on:{click:function(s){return s.stopPropagation(),e.outsideClick()}}},[t("div",{staticClass:"Cg_Header"},[t("div",{staticClass:"Cg_HeaderLeft"},[t("BaseCorner",{attrs:{gameVersion:e.gameVersion},on:{menu:function(s){return e.openMainDialog()},longCamera:function(s){e.showPoints=!e.showPoints},camera:function(s){e.shareDialog=!0,e.generateUrl()}}},[t("template",{slot:"more"},[e.user&&e.user.username==="TiagoXavi"?t("BaseText",{staticClass:"BaseText_InternalMicro",attrs:{type:"normal",placeholder:"paste here"},on:{paste:function(s){return e.resolvePaste(s)}},model:{value:e.pasteInputModel,callback:function(s){e.pasteInputModel=s},expression:"pasteInputModel"}}):e._e()],1)],2),t("div",{staticClass:"Cg_RowCornerBox"},[e.cg.rounds?t("div",{staticClass:"Cg_SelectorLayout"},[t("div",{staticClass:"Cg_SelectorLeft"},[t("button",{staticClass:"D_Button Row_DialogButtonTune",attrs:{disabled:e.cgCurrentRound===0||e.cgLoadingAny||e.cgNeedSave},on:{click:function(s){return e.loadPrevRound()}}},[t("i",{staticClass:"ticon-arrow_left_3",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"Cg_SelectorCenter"},[t("div",{staticClass:"Cg_SelectorEvent"},[t("button",{staticClass:"D_Button Main_ArrowDownSelect",attrs:{disabled:e.cgLoadingAny||e.cgNeedSave},on:{click:function(s){e.cgSeletorDialog=!0}}},[t("span",{staticClass:"Cg_SelectorEventSpan"},[e._v(e._s(e.cg.name))]),t("i",{staticClass:"ticon-keyboard_arrow_down",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"Cg_SelectorRound"},[t("button",{staticClass:"D_Button Main_ArrowDownSelect",attrs:{disabled:e.cgLoadingAny||e.cgNeedSave},on:{click:function(s){e.cgRoundSelectorDialog=!0}}},[t("span",[e._v(e._s(e.$tc("m_round",1))+" "+e._s(e.cgCurrentRound+1+e.cgCurrentRoundSum))]),t("i",{staticClass:"ticon-keyboard_arrow_down",attrs:{"aria-hidden":"true"}})])]),e.cgRound&&!e.cgIsApproving&&!e.isRoundEmptyForUser&&!e.cgNewSubmitByMod?t("div",[e.cgRound.creator?[t("span",{staticClass:"Main_SearchResultUserBy Cg_Creator"},[e._v(e._s(e.$t("m_by"))+" ")]),t("span",{staticClass:"Main_SearchResultUser Cg_Creator",class:`Main_UserT${e.highlightsUsers[e.cgRound.creator]}`},[e._v(e._s(e.cgRound.creator))])]:e._e(),t("span",{staticClass:"Cg_ViewsCount Main_ViewsBox"},[t("span",{staticClass:"Main_ViewsCount"},[e._v(e._s((e.statistics[`cg_${e.cgCurrentId}_${e.cgCurrentRound}`]||{}).c||0)+" views")])])],2):e._e(),t("div",{staticClass:"Cg_CenterBottom"},[t("div",{staticClass:"Cg_RqText",style:`color: ${e.cgRound.rqFill>e.cgRound.rqLimit?"#a90000":""}`},[e._m(1),t("span",[e._v(e._s(e.cgRound.rqFill))]),t("span",[e._v("/")]),t("span",{style:`color: ${e.cgRound.rqLimit===500?"#a90000":""}`},[e._v(e._s(e.cgRound.rqLimit))]),e.user&&(e.user.mod||e.isRoundEmptyForUser)&&(!e.cgIsApproving||e.user.mod)&&!e.cgIsApproving?t("BaseButtonTouch",{staticClass:"D_Button Main_AddTrackDirect",attrs:{disabled:e.cgLoadingAny},on:{click:function(s){return e.cgOpenRqEdit(s)},longTouch:function(s){return e.cgOpenRqEdit({shiftKey:!0,ctrlKey:!0})}}},[t("i",{staticClass:"ticon-pencil",attrs:{"aria-hidden":"true"}})]):e._e(),e.cgRound.showPoints&&e.cgRound.lastAnalyze?t("div",{staticClass:"Cg_PointsSum",class:{Cg_PointsSum_Red:e.cgRound.sumPoints<250,Cg_PointsSum_Green:e.cgRound.sumPoints>=250}},[t("span",{staticClass:"Cg_Pts"},[e._v("pts")]),t("span",{staticClass:"Cg_PointsSumText"},[e._v(e._s(e.cgRound.sumPoints))])]):e._e()],1),t("div",{staticClass:"Cg_SaveButtonBox"},[e.user?e.user&&!e.user.mod&&e.isRoundEmptyForUser&&e.cgNeedSave&&e.isRoundReadyForSaveUser?[t("div",{staticClass:"Main_SaveAllBox"},[t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.cgSaveLoading||e.cgAnalyseLoading||e.cgBankToSaveLoading||e.saveLoading},on:{click:function(s){return e.cgSaveAll()}}},[e._v(e._s(e.$t("m_submitReview")))])])]:e.user&&e.cgNeedSave&&!e.isRoundEmptyForUser?[t("div",{staticClass:"Main_SaveAllBox"},[t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.cgSaveLoading||e.cgAnalyseLoading||e.cgBankToSaveLoading||e.saveLoading},on:{click:function(s){return e.cgSaveAll()}}},[e._v(e._s(e.$t("m_save")))])])]:e._e():[t("div",{staticClass:"Main_SaveAllBox"},[t("button",{staticClass:"D_Button Main_LoginToEdit",on:{click:function(s){return e.$store.commit("OPEN_LOGIN")}}},[e._v(e._s(e.$t("m_login")))])])],e.showAnalyse&&!e.cgIsApproving?[t("div",{staticClass:"Main_SaveAllBox"},[t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.cgSaveLoading||e.cgAnalyseLoading||e.cgBankToSaveLoading||e.saveLoading},on:{click:function(s){return e.cgAnalyseRound()}}},[e._v(e._s(e.$t("m_analyze")))])])]:e._e(),e.user?t("div",{staticClass:"Main_PrintBy"},[t("div",{staticClass:"Main_PrintByLabel"},[e._v(e._s(e.$t("m_printBy")))]),t("div",{staticClass:"Main_PrintByUser",class:`Main_UserT${e.highlightsUsers[e.user.username]}`},[e._v(e._s(e.user.username))])]):e._e()],2)])]),t("div",{staticClass:"Cg_SelectorRight"},[t("button",{staticClass:"D_Button Row_DialogButtonTune",attrs:{disabled:e.cgCurrentRound===e.cgRoundsNumber-1||e.cgLoadingAny||e.cgNeedSave},on:{click:function(s){return e.loadNextRound()}}},[t("i",{staticClass:"ticon-arrow_right_3",attrs:{"aria-hidden":"true"}})])])]):e._e()]),t("BaseFilterDescription",{staticClass:"Cg_Right",attrs:{filter:e.cgRound.filter,loading:e.cgLoadingAny,user:e.user,ready:e.cgRound.date&&e.user&&(e.user.mod||e.isRoundEmptyForUser)&&!e.cgIsApproving},on:{changeClick:function(s){return e.cgOpenRequirementDialog()}}}),t("div",{staticClass:"Cg_RqCount"},[t("div",{staticClass:"Cg_RqFill",style:`width: ${e.cgRound.rqFill*100/e.cgRound.rqLimit}%; background-color: ${e.cgRound.rqFill>e.cgRound.rqLimit?"#a90000":""}`})])],1)]),e.cgRound.date&&e.cgRound.notThisTime?t("div",{staticClass:"Cg_Mid"},[t("div",{staticClass:"Cg_NotThisTime_Icon"},[t("svg",{staticClass:"Cg_NotThisTime_IconSvg",staticStyle:{"enable-background":"new 0 0 512 360"},attrs:{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",viewBox:"0 0 512 360"}},[t("path",{attrs:{d:"M31.4 8.2C37.4 5.5 44 4 50.6 4.1h407.7c7.6-.2 15.4.8 22.2 4.2-70.9 71-141.7 142.1-212.5 213.2-4.7 5.1-12.7 5.9-18.9 3.6-3.2-1.1-5.4-3.8-7.7-6.1-70-70.3-140-140.5-210-210.8zM5.7 44.2c.9-5.3 2.3-10.6 4.7-15.5C60.7 79.1 111 129.6 161.2 180.1 111 230.5 60.7 280.9 10.4 331.3c-2.3-4.8-3.8-10-4.7-15.3V44.2zM350.8 180.1C401 129.6 451.3 79.2 501.6 28.7c2.3 4.8 3.7 10 4.7 15.3v270.6c-.5 5.8-2.2 11.5-4.7 16.7-50.3-50.4-100.5-100.8-150.8-151.2z"}}),t("path",{attrs:{d:"M31.4 351.9c50.2-50.3 100.4-100.7 150.5-151 14.3 14.2 28.4 28.6 42.7 42.7 14.5 14 38.4 16 55.4 5.6 5.3-3.1 9.4-7.6 13.7-11.9 12.1-12.1 24.2-24.3 36.3-36.4 50.2 50.4 100.4 100.7 150.6 151.1-6.1 2.6-12.6 4.2-19.3 4.1H50.6c-6.6 0-13.2-1.5-19.2-4.2z"}})])]),t("div",{staticClass:"Cg_NotThisTime_P"},[e._v(e._s(e.$t("p_cgNotThisTime1")))]),t("div",{staticClass:"Cg_NotThisTime_P"},[e._v(e._s(e.$t("p_cgNotThisTime2")))]),t("div",{staticClass:"Cg_NotThisTime_P"},[e._v(e._s(e.$t("p_cgNotThisTime3"))+" "),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonDarkYellow Cg_NotThisTime_Button",on:{click:function(s){return e.$router.push({name:"Community"})}}},[e._v("Community")])]),t("div",{staticClass:"Cg_NotThisTime_P"},[e._v(e._s(e.$t("p_cgNotThisTime4")))]),t("div",{staticClass:"Cg_NotThisTime_P"},[e._v(e._s(e.$t("p_cgNotThisTime5")))]),e.cgRound.date&&e.user&&e.user.username?t("div",{staticClass:"Cg_BottomModTools"},[t("button",{staticClass:"D_Button Row_VoteButton Row_VoteButtonDown",class:{Row_VotedAgainst:e.cgRound.upList&&e.cgRound.upList.includes(e.user.username),D_Button_Loading:e.cgSaveLoading||e.cgAnalyseLoading||e.cgBankToSaveLoading||e.saveLoading},attrs:{title:(e.cgRound.downList||[]).join(", ")},on:{click:function(s){return e.cgVote("down")}}},[t("i",{staticClass:"Row_VoteIcon",class:`ticon-thumbs_down${e.cgRound.downList&&e.cgRound.downList.includes(e.user.username)?"_fill":""}`,attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"Row_DownCount"},[e._v(e._s((e.cgRound.downList||[]).length))])]),t("button",{staticClass:"D_Button Row_VoteButton Row_VoteButtonUp",class:{Row_VotedAgainst:e.cgRound.downList&&e.cgRound.downList.includes(e.user.username),D_Button_Loading:e.cgSaveLoading||e.cgAnalyseLoading||e.cgBankToSaveLoading||e.saveLoading},attrs:{title:(e.cgRound.upList||[]).join(", ")},on:{click:function(s){return e.cgVote("up")}}},[t("i",{staticClass:"Row_VoteIcon",class:`ticon-thumbs_up${e.cgRound.upList&&e.cgRound.upList.includes(e.user.username)?"_fill":""}`,attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"Row_UpCount"},[e._v(e._s((e.cgRound.upList||[]).length))])])]):e._e()]):e.cgLoading&&(!e.cgRound||!e.cgRound.date)||e.downloadLoading&&!e.user&&e.cgLoading?t("div",{staticClass:"Cg_Mid"},[t("div",{staticClass:"Cg_MidLoading"},[t("BaseContentLoader",{staticStyle:{padding:"10px 10px 10px 20px",width:"100%"},attrs:{contents:!0,itemWidth:e.windowWidth<1200?"111px":"216px",itemHeight:144,type:"block",count:"5"}})],1)]):e.cgRound.date?t("div",{staticClass:"Cg_Mid"},[e.cgIsApproving?[t("div",{staticClass:"Cg_RoundSubmitsControl"},[e.cgApprovingLength>1?t("div",{staticClass:"Cg_SelectorLeft"},[t("button",{staticClass:"D_Button Row_DialogButtonTune",attrs:{disabled:e.cgApprovingIndex===0||e.cgLoadingAny||e.cgNeedSave},on:{click:function(s){return e.cgChangeSubmit(-1)}}},[t("i",{staticClass:"ticon-arrow_left_3",attrs:{"aria-hidden":"true"}})])]):e._e(),t("div",{staticClass:"Cg_RoundSubmitsControlCenter"},[!e.cgRound.downList||!e.user||!e.user.username||!e.cgRound.downList.includes(e.user.username)?t("div",{staticClass:"Cg_RoundEmptyBody",staticStyle:{"margin-bottom":"10px"}},[e._v(e._s(e.$t("p_emptyRoundVoteForUser")))]):t("div",{staticClass:"Cg_BottomModTools",staticStyle:{"margin-top":"-10px","margin-bottom":"6px"}},e._l(2,function(s,i){return t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.cgSaveLoading||e.cgAnalyseLoading||e.cgBankToSaveLoading||e.saveLoading},on:{click:function(r){return e.cgUserNewSubmit(i===1)}}},[t("i",{staticClass:"ticon-refresh_3 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(i===0?e.$t("m_new"):e.$t("m_newByCopy")))])])}),0),e.cgRound&&e.cgRound.creator?t("div",{staticStyle:{"margin-bottom":"10px"}},[t("span",{staticClass:"Main_SearchResultUserBy Cg_Creator"},[e._v(e._s(e.$t("m_by"))+" ")]),t("span",{staticClass:"Main_SearchResultUser Cg_Creator",class:`Main_UserT${e.highlightsUsers[e.cgRound.creator]}`},[e._v(e._s(e.cgRound.creator))])]):e._e(),e.user&&e.user.mod?[t("div",{staticClass:"Cg_IsApprovingBox"},[(e.cgRound.downList||[]).includes(e.user.username)?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonRed",class:{D_Button_Loading:e.cgSaveLoading},staticStyle:{right:"unset",left:"0"},on:{click:function(s){return e.cgReviewRound(!1)}}},[t("span",[e._v(e._s(e.$t("m_delete")))])]):t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonGreen",class:{D_Button_Loading:e.cgSaveLoading},staticStyle:{right:"unset",left:"0"},on:{click:function(s){return e.cgReviewRound(!0)}}},[t("span",[e._v(e._s(e.$t("m_approve")))])])])]:e._e()],2),e.cgApprovingLength>1?t("div",{staticClass:"Cg_SelectorRight"},[t("button",{staticClass:"D_Button Row_DialogButtonTune",attrs:{disabled:e.cgApprovingIndex===e.cgApprovingLength-1||e.cgLoadingAny||e.cgNeedSave},on:{click:function(s){return e.cgChangeSubmit(1)}}},[t("i",{staticClass:"ticon-arrow_right_3",attrs:{"aria-hidden":"true"}})])]):e._e()]),e.user&&e.user.username?t("div",{staticClass:"Cg_BottomModTools"},[t("button",{staticClass:"D_Button Row_VoteButton Row_VoteButtonDown",class:{Row_VotedAgainst:e.cgRound.upList&&e.cgRound.upList.includes(e.user.username),D_Button_Loading:e.cgSaveLoading||e.cgAnalyseLoading||e.cgBankToSaveLoading||e.saveLoading},attrs:{title:(e.cgRound.downList||[]).join(", ")},on:{click:function(s){return e.cgVote("down")}}},[t("i",{staticClass:"Row_VoteIcon",class:`ticon-thumbs_down${e.cgRound.downList&&e.cgRound.downList.includes(e.user.username)?"_fill":""}`,attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"Row_DownCount"},[e._v(e._s((e.cgRound.downList||[]).length))])]),t("button",{staticClass:"D_Button Row_VoteButton Row_VoteButtonUp",class:{Row_VotedAgainst:e.cgRound.downList&&e.cgRound.downList.includes(e.user.username),D_Button_Loading:e.cgSaveLoading||e.cgAnalyseLoading||e.cgBankToSaveLoading||e.saveLoading},attrs:{title:(e.cgRound.upList||[]).join(", ")},on:{click:function(s){return e.cgVote("up")}}},[t("i",{staticClass:"Row_VoteIcon",class:`ticon-thumbs_up${e.cgRound.upList&&e.cgRound.upList.includes(e.user.username)?"_fill":""}`,attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"Row_UpCount"},[e._v(e._s((e.cgRound.upList||[]).length))])])]):e._e()]:!e.isRoundComplete||e.user&&!e.user.mod&&e.isRoundComplete&&e.isRoundReadyForSaveUser?[e.cgRound.reservedTo&&e.cgRound.reservedTo!==(e.user||{}).username?[e.cgSentForReview?e._e():t("div",{staticClass:"Cg_RoundEmptyBox"},[t("div",{staticClass:"Cg_RoundEmptyBody"},[e._v(e._s(e.$t("p_modDoingRound",{mod:e.cgRound.reservedTo})))])])]:[!e.isRoundEmptyForUser&&!e.user&&!e.isRoundComplete&&!e.cgLoading?t("div",{staticClass:"Cg_RoundEmptyBox"},[t("div",{staticClass:"Cg_RoundEmptyTitle"},[e._v(e._s(e.$t("m_emptyRound")))]),t("div",{staticClass:"Cg_RoundEmptyBody"},[e._v(e._s(e.$t("p_emptyRound2")))]),t("div",{staticClass:"Cg_RoundEmptyBody"},[e._v(e._s(e.$t("p_emptyRoundLogin")))]),t("BaseDiscordButton",{staticStyle:{"margin-top":"20px"}})],1):e._e(),e.isRoundEmptyForUser&&e.cgRound.date&&!e.cgIsApproving&&!e.cgRound.reservedTo?t("div",{staticClass:"Cg_RoundEmptyBox"},[e.cgSentForReview?t("div",{staticClass:"Cg_RoundEmptyBody Cg_RoundEmptyThanks",staticStyle:{"margin-bottom":"10px"}},[e._v(e._s(e.$t("p_userSentCgForAnalyse")))]):t("div",{staticClass:"Cg_RoundEmptyBody",staticStyle:{"margin-bottom":"10px"}},[e._v(e._s(e.$t("p_emptyRoundForUser")))])]):e._e(),e.isRoundEmptyForModders&&!e.isRoundComplete&&!e.cgRound.reservedTo?[t("div",{staticClass:"Cg_RoundEmptyBox Cg_RoundEmptyBoxMods"},[t("div",{staticClass:"Cg_RoundEmptyTitle"},[e._v(e._s(e.$t("m_emptyRound")))]),t("div",{staticClass:"Cg_RoundEmptyBody"},[e._v(e._s(e.$t("p_lockRoundPhrase")))]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.cgSaveLoading},staticStyle:{"margin-top":"20px"},on:{click:function(s){return e.cgReserveRound()}}},[t("span",{},[e._v(e._s(e.$t("m_lockRound")))])])])]:e._e()]]:e._e(),t("div",{staticClass:"Cg_RoundEmptyBox",staticStyle:{"margin-bottom":"10px"}},[e.cgRound.reservedTo&&(e.isRoundModAllowedEdit||e.user&&e.user.username==="TiagoXavi")?[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.cgSaveLoading},on:{click:function(s){return e.cgReserveRound()}}},[t("span",{},[e._v(e._s(e.$t("m_unlockRound")))])])]:e._e()],2),!e.cgNewSubmitByMod&&(e.isRoundComplete||e.user)&&(!e.cgRound.reservedTo||e.user&&e.cgRound.reservedTo===e.user.username)?[e.showCarsFix?t("div",{staticClass:"Cg_Box",staticStyle:{"margin-bottom":"25px"}},e._l(e.cgRound.races,function(s,i){return t("div",{staticClass:"Cg_Race",on:{click:function(r){r.stopPropagation()}}},[t("div",{staticClass:"Cg_Opponent"},[s.car?t("BaseCard",{attrs:{car:s.car,customData:e.Vue.all_cacheObj[s.car.rid],"fix-back":!0,downloadLoading:e.cgLoadingAny,needSave:e.needSave,draggable:!1,cgOppo:!0,options:!e.cgIsApproving,hideClose:!e.user||!e.user.mod||!e.isRoundModAllowedEdit,showResetTune:e.user&&e.user.mod&&e.isRoundModAllowedEdit||e.isRoundEmptyForUser},on:{cog:function(r){return e.cgShowTuneDialog(s.car,s,!0)},longTouch:function(r){return e.cgShowTuneDialog(s.car,s,!0)},delete:function(r){s.car=void 0,s.rid=null,e.calcRaceResult(s)},refreshTune:function(r){return e.cgChangeTuneOppo(s.car,void 0,s)}}}):t("div",{staticClass:"Cg_CarPlaceHolder"},[t("button",{staticClass:"D_Button Car_AddButton add",attrs:{disabled:e.cgLoadingAny||!e.user||!e.user.mod&&!e.isRoundEmptyForUser||e.isRoundEmptyForModders&&!e.isRoundComplete&&!e.cgRound.reservedTo},on:{click:function(r){return e.cgOpenAddOppoCar(i)}}},[t("i",{staticClass:"ticon-plus_2 Car_AddIcon",attrs:{"aria-hidden":"true"}})])]),s.car&&!s.car.selectedTune?t("div",{staticClass:"Cg_OppoTuneBox"},[t("button",{staticClass:"D_Button Cg_OppoTuneButton",on:{click:function(r){return e.cgChangeTuneOppo(s.car,"332",s)}}},[e._v("332")]),t("button",{staticClass:"D_Button Cg_OppoTuneButton",on:{click:function(r){return e.cgChangeTuneOppo(s.car,"323",s)}}},[e._v("323")]),t("button",{staticClass:"D_Button Cg_OppoTuneButton",on:{click:function(r){return e.cgChangeTuneOppo(s.car,"233",s)}}},[e._v("233")]),s.car&&(s.car.class==="S"||s.car.class==="A")?t("button",{staticClass:"D_Button Cg_OppoTuneButton",on:{click:function(r){return e.cgChangeTuneOppo(s.car,"111",s)}}},[e._v("111")]):e._e(),t("button",{staticClass:"D_Button Cg_OppoTuneButton",on:{click:function(r){return e.cgChangeTuneOppo(s.car,"000",s)}}},[e._v("000")]),t("button",{staticClass:"D_Button Cg_OppoTuneButton",on:{click:function(r){return e.cgChangeTuneOppo(s.car,"Other",s)}}},[e._v(e._s(e.$t("m_other")))])]):e._e()],1),t("div",{staticClass:"Cg_Track"},[s.track?t("Row",{staticClass:"Cg_TrackBox",attrs:{list:s.resolvedTracks,loggedin:!!e.user,user:e.user,cg:!0,type:"tracks"}}):e._e(),e.user&&(e.isRoundModAllowedEdit||e.isRoundEmptyForUser)&&!e.cgIsApproving?t("button",{staticClass:"D_Button Car_AddButton Cg_SelectTrackButton",class:{Cg_SelectTrackButtonEdit:s.track},attrs:{disabled:e.cgLoadingAny||!e.user||!e.user.mod&&!e.isRoundEmptyForUser},on:{click:function(r){e.cgRaceSelected=i,e.openDialogTrackSearch(!1)}}},[s.track?t("i",{staticClass:"ticon-pencil Cg_SelectTrackButtonIcon",attrs:{"aria-hidden":"true"}}):t("span",[e._v(e._s(e.$t("m_selectTrack")))])]):e._e()],1),s.car&&s.car.selectedTune&&s.track?t("div",{staticClass:"Cg_ThemTime"},[t("Row",{attrs:{car:s.car,list:s.resolvedTracks,loggedin:!!e.user,user:e.user,voteLoading:e.voteLoading,cg:!0,cgOppo:!0,cgTime:s.time,customData:e.Vue.all_cacheObj[s.car.rid],forceDisabled:!e.user||!e.user.mod&&!e.isRoundEmptyForUser||e.cgIsApproving||e.user.mod&&!e.isRoundModAllowedEdit,placeholder:e.$t("m_timeToBeat"),forceCustomAuthor:e.isRoundEmptyForUser,type:"times"},on:{deleteTime:function(r){return e.cgDeleteTime(s,r,!0)},changeTime:function(r){return e.cgChangeTimeOppo(s,r,i)}}})],1):t("div",{staticClass:"Cg_ThemTime"},[t("div",{staticClass:"Row_Cell Row_DisabledCell"})]),s.track&&s.car&&(e.cgRound.lastAnalyze||e.user&&e.user.mod||e.cgRound.isPreview)&&(!e.cgIsApproving||e.cgRound.isPreview)?[e.cgRound.isPreview?e._e():[t("div",{staticClass:"Cg_Divider",class:{Cg_PointsRed:(s.cars[s.carIndex]||{}).points<0&&s.track&&s.car,Cg_PointsGreen:(s.cars[s.carIndex]||{}).points>0&&s.track&&s.car,Cg_PointsGrey:(s.cars[s.carIndex]||{}).points===0&&s.track&&s.car},on:{click:function(r){return e.cgOpenPointsEdit(s)},mousedown:function(r){e.showPoints=!0},mouseup:function(r){e.showPoints=!1},mouseleave:function(r){e.showPoints=!1}}},[t("div",{staticClass:"Cg_DividerBackLight"}),!s.track||!s.car||(s.cars[s.carIndex]||{}).points===void 0?t("div",{staticClass:"Cg_Points"},[e._v(e._s(e.$t("m_select")))]):e.showPointsCg?[t("div",{staticClass:"Cg_Points"},[e._v(e._s((s.cars[s.carIndex]||{}).points))])]:[(s.cars[s.carIndex]||{}).points===0?t("div",{staticClass:"Cg_Points"},[e._v(e._s(e.$t("m_draw")))]):(s.cars[s.carIndex]||{}).points>0?t("div",{staticClass:"Cg_Points"},[e._v(e._s(e.$t("m_win")))]):(s.cars[s.carIndex]||{}).points<0?t("div",{staticClass:"Cg_Points"},[e._v(e._s(e.$t("m_lose")))]):t("div",{staticClass:"Cg_Points"},[e._v(e._s((s.cars[s.carIndex]||{}).points))])]],2),t("div",{staticClass:"CgYouCar"},[(s.cars[s.carIndex]||{}).car?t("BaseCard",{attrs:{car:(s.cars[s.carIndex]||{}).car,customData:e.Vue.all_cacheObj[(s.cars[s.carIndex]||{}).rid],"fix-back":!0,downloadLoading:e.cgLoadingAny,draggable:!1},on:{delete:function(r){s.carIndex=void 0,e.calcRaceResult(s)}}}):t("div",{staticClass:"Cg_CarPlaceHolder"},[t("button",{staticClass:"D_Button Car_AddButton add",attrs:{disabled:e.cgLoadingAny},on:{click:function(r){return e.cgOpenAddYouCar(i)}}},[t("i",{staticClass:"ticon-plus_2 Car_AddIcon",attrs:{"aria-hidden":"true"}})])])],1),(s.cars[s.carIndex]||{}).car&&s.track?t("div",{staticClass:"Cg_YouTime"},[t("Row",{attrs:{car:(s.cars[s.carIndex]||{}).car,list:s.resolvedTracks,loggedin:!!e.user,user:e.user,voteLoading:e.voteLoading,cg:!0,cgYou:!0,oppoTime:s.time,forceHideCompactSelect:e.windowWidth<1200,customData:e.Vue.all_cacheObj[(s.cars[s.carIndex]||{}).rid],type:"times"},on:{changeTime:function(r){return e.cgChangeTimeYou(s,r)},changeTune:function(r){return e.cgChangeTuneYou(s,r)},deleteTime:function(r){return e.cgDeleteTime(s,r)},showTuneDialog:function(r){return e.cgShowTuneDialog(s.cars[s.carIndex].car,s)}}})],1):t("div",{staticClass:"Cg_YouTime"},[t("div",{staticClass:"Row_Cell Row_DisabledCell"})])],t("div",{staticClass:"Cg_YouBank"},[t("div",{staticClass:"Cg_YouBankBox",class:{Cg_YouBankBoxPreview:e.cgRound.isPreview}},[e.cgRound.isPreview?e._e():t("button",{staticClass:"D_Button Main_AddTrackDirect Cg_YouBankManualAdd Main_AddTrackDirectLarger",attrs:{disabled:e.cgLoadingAny},on:{click:function(r){s.carIndex=void 0,e.calcRaceResult(s),e.cgOpenAddYouCar(i)}}},[t("i",{staticClass:"ticon-plus_2",attrs:{"aria-hidden":"true"}})]),e._l(s.cars,function(r,n){return[r.points!==e.$t("m_notime")&&r.tune?t("button",{key:n,staticClass:"D_Button D_ButtonDark D_ButtonDark2 Cg_BankButton",class:{Cg_BankButtonLose:r.points<=0&&s.track&&s.car,Cg_PointsRed:r.points<0&&s.track&&s.car,Cg_PointsGreen:r.points>0&&s.track&&s.car,Cg_PointsGrey:r.points===0&&s.track&&s.car},attrs:{disabled:e.cgLoadingAny},on:{click:function(l){!e.cgRound.isPreview&&e.cgBankCarClick(s,n,l,i,r)}}},[t("div",{staticClass:"Cg_BankPhoto"},[t("img",{staticClass:"Cg_BankPhotoImg",attrs:{src:r.photo,loading:"lazy",alt:""}})]),t("div",{staticClass:"Cg_BankClass",style:`color: ${r.color}`},[e._v(e._s((r.car||{}).class)+e._s((r.car||{}).rq))]),t("div",{staticClass:"Cg_BankTune"},[e._v(e._s(r.tune))]),t("div",{staticClass:"Cg_BankResult"},[e.showPointsCg?[t("span",{staticClass:"Cg_BankPoints"},[e._v(e._s(r.points))])]:[r.points===0?t("span",{staticClass:"Cg_BankPoints"},[t("i",{staticClass:"ticon-minus_2 Cg_BankPointsIcon",attrs:{"aria-hidden":"true"}})]):r.points>0?t("span",{staticClass:"Cg_BankPoints"},[t("i",{staticClass:"ticon-correct_1 Cg_BankPointsIcon",attrs:{"aria-hidden":"true"}})]):r.points<0?t("span",{staticClass:"Cg_BankPoints"},[t("i",{staticClass:"ticon-close_3 Cg_BankPointsIcon",attrs:{"aria-hidden":"true"}})]):e._e()]],2)]):e._e()]})],2)])]:e._e()],2)}),0):e._e(),e.isRoundReadyForPreview?t("div",{staticClass:"Cg_BottomModTools"},[e.whatTier&&e.whatTier<=3?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonTier3",class:{D_Button_Loading:e.cgSaveLoading||e.cgAnalyseLoading||e.cgBankToSaveLoading||e.saveLoading},on:{click:function(s){return e.cgPreviewSolutions()}}},[t("i",{staticClass:"ticon-crown D_ButtonIcon D_ButtonIcon24",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("m_previewSolutions")))]):t("div",{staticClass:"Main_SaveGalleryGuide",staticStyle:{"margin-bottom":"15px"}},[e._v(e._s(e.$t("p_patronsPreviewCg")))])]):e._e(),e.cgRound.date&&!e.isRoundEmptyForUser&&!e.isRoundEmptyForModders&&!e.cgNewSubmitByMod&&!e.cgRound.reservedTo?t("div",{staticClass:"Cg_BottomModTools"},[e.cgShowResetSavedHand?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.cgSaveLoading||e.cgAnalyseLoading||e.cgBankToSaveLoading||e.saveLoading},on:{click:function(s){return e.cgResetSaveHand()}}},[e._v(e._s(e.$t("m_resetSavedHand")))]):e._e(),e.isRoundComplete?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.cgSaveLoading||e.cgAnalyseLoading||e.cgBankToSaveLoading||e.saveLoading},on:{click:function(s){return e.eventExportTracksToWorkspace("cg")}}},[e._v(e._s(e.$t("m_useTrackList")))]):e._e(),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.cgSaveLoading||e.cgAnalyseLoading||e.cgBankToSaveLoading||e.saveLoading},on:{click:function(s){return e.cgExportSolutionsToPacks()}}},[e._v(e._s(e.$t("m_solutionsInPacks")))])]):e._e(),e.forceShowAnalyse?t("div",{staticClass:"Cg_BottomModTools"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonRed",class:{D_Button_Loading:e.cgSaveLoading||e.cgAnalyseLoading||e.cgBankToSaveLoading||e.saveLoading},on:{click:function(s){return e.cgResetSolutions()}}},[e._v(e._s(e.$t("m_resetSolutions")))]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonRed",class:{D_Button_Loading:e.cgSaveLoading||e.cgAnalyseLoading||e.cgBankToSaveLoading||e.saveLoading},on:{click:function(s){return e.cgResetRound()}}},[e._v(e._s(e.$t("m_resetRound")))])]):e._e()]:e._e()],2):e.cgList.length>0?t("div",{staticClass:"Cg_Mid"},[t("div",{staticClass:"Cg_ListSelect"},[t("div",{staticClass:"Cg_ListSelectBox"},[t("div",{staticClass:"Cg_SelectorDialogTitle Main_DialogTitle",staticStyle:{"margin-left":"15px","margin-bottom":"15px"}},[e._v(e._s(e.$t("m_challenges")))]),e._l(e.cgList,function(s){return[e.cgPermanentToggle&&s.index>90||e.cgLongToggle&&s.index>40&&s.index<90||s.index<30?t("BaseEventName",{staticStyle:{"min-height":"38px"},attrs:{item:s,maxLength:42},on:{click:function(i){return e.loadChallengeFull(s.date,void 0,i)},longTouch:function(i){return e.loadChallengeFull(s.date,void 0,{shiftKey:!0,ctrlKey:!0})}}}):e._e()]}),t("div",{staticClass:"Main_CgListDividerLayout"},[t("BaseSwitch",{attrs:{name:"cgPermanentToggle",label:e.$t("m_permanents"),horizontal:!0},model:{value:e.cgPermanentToggle,callback:function(s){e.cgPermanentToggle=s},expression:"cgPermanentToggle"}})],1)],2)])]):t("div",{staticClass:"Cg_Mid"},[e._m(2)])]):e.mode==="events"?t("div",{staticClass:"Cg_Layout",on:{click:function(s){return s.stopPropagation(),e.outsideClick()}}},[t("div",{staticClass:"Cg_Header"},[t("div",{staticClass:"Cg_HeaderLeft"},[t("BaseCorner",{attrs:{gameVersion:e.gameVersion},on:{menu:function(s){return e.openMainDialog()},longCamera:function(s){e.showPoints=!e.showPoints},camera:function(s){e.shareDialog=!0,e.generateUrl()}}}),t("div",{staticClass:"Cg_RowCornerBox"},[e.eventCurrentId?t("div",{staticClass:"Cg_SelectorLayout"},[t("div",{staticClass:"Cg_SelectorCenter"},[t("div",{staticClass:"Cg_SelectorEvent"},[t("button",{staticClass:"D_Button Main_ArrowDownSelect",attrs:{disabled:e.eventLoading||e.eventNeedSave},on:{click:function(s){e.eventSelectorDialog=!0}}},[t("span",[e._v(e._s(e.event.name))]),t("i",{staticClass:"ticon-keyboard_arrow_down",attrs:{"aria-hidden":"true"}})])]),e.event&&e.event.user?t("div",[t("span",{staticClass:"Main_SearchResultUserBy Cg_Creator"},[e._v(e._s(e.$t("m_by"))+" ")]),t("span",{staticClass:"Main_SearchResultUser Cg_Creator",class:`Main_UserT${e.highlightsUsers[e.event.user]}`},[e._v(e._s(e.event.user))]),t("span",{staticClass:"Cg_ViewsCount Main_ViewsBox"},[t("span",{staticClass:"Main_ViewsCount"},[e._v(e._s((e.statistics[`events_${e.eventCurrentId}`]||{}).c||0)+" views")])])]):e._e(),t("div",{staticClass:"Cg_CenterBottom"},[t("div",{staticClass:"Cg_RqText"},[e._m(3),t("span",[e._v(e._s(e.event.rqLimit))]),e.user&&e.user.mod&&e.event.canViewEvent?t("BaseButtonTouch",{staticClass:"D_Button Main_AddTrackDirect",attrs:{disabled:e.eventLoading},on:{click:function(s){return e.eventOpenRqEdit(s)},longTouch:function(s){return e.eventOpenRqEdit({shiftKey:!0,ctrlKey:!0})}}},[t("i",{staticClass:"ticon-pencil",attrs:{"aria-hidden":"true"}})]):e._e()],1),t("div",{staticClass:"Cg_SaveButtonBox"},[e.user?e.eventNeedSave&&e.user&&e.user.mod&&e.event.canViewEvent?[t("div",{staticClass:"Main_SaveAllBox"},[t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.eventLoadingAny},on:{click:function(s){return e.eventSaveAll()}}},[e._v(e._s(e.$t("m_save")))])])]:e.eventCurrentId==="_preview_"?[t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.eventLoadingAny},staticStyle:{"--back-color":"200,0,0"},on:{click:function(s){return e.saveNewEvent(e.event)}}},[e._v(e._s(e.$t("m_createNewEvent")))])]:e.event.compilation&&e.event.compilation.length>0?[t("BaseSwitch",{attrs:{label:e.$t("m_points")},model:{value:e.showPoints,callback:function(s){e.showPoints=s},expression:"showPoints"}})]:e._e():[t("div",{staticClass:"Main_SaveAllBox"},[t("button",{staticClass:"D_Button Main_LoginToEdit",on:{click:function(s){return e.$store.commit("OPEN_LOGIN")}}},[e._v(e._s(e.$t("m_login")))])])],e.user?t("div",{staticClass:"Main_PrintBy"},[t("div",{staticClass:"Main_PrintByLabel"},[e._v(e._s(e.$t("m_printBy")))]),t("div",{staticClass:"Main_PrintByUser",class:`Main_UserT${e.highlightsUsers[e.user.username]}`},[e._v(e._s(e.user.username))])]):e._e()],2)]),t("div",{staticStyle:{display:"flex","justify-content":"center"}},[e.user&&e.user.mod&&!e.eventNeedSave&&e.event.tracksetBkp&&JSON.stringify(e.event.tracksetBkp)!==JSON.stringify(e.event.trackset)&&e.event.canViewEvent?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.eventLoadingAny},staticStyle:{"white-space":"pre","font-size":"0.8em","min-height":"27px"},on:{click:function(s){return e.eventConfirmSaveTrackset()}}},[e._v("Save trackset as default")]):e._e()])])]):e._e()]),t("BaseFilterDescription",{staticClass:"Cg_Right",attrs:{filter:e.event.filter,filter2:e.event.filter2,filter3:e.event.filter3,loading:e.eventLoadingAny,user:e.event.canViewEvent?e.user:{},ready:e.eventCurrentId,useWhatFilter:e.eventUseWhatFilter},on:{changeClick:function(s){return e.openEventRequirementsDialog()},useFilter:function(s){e.eventUseWhatFilter=s,e.eventRefreshKingFilter()},newNameFilter:function(s){return e.eventRenameFilter(s)}}}),t("div",{staticClass:"Cg_RqCount"},[t("div",{staticClass:"Cg_RqFill",style:`width: ${e.event.rqFill*100/e.event.rqLimit}%; background-color: ${e.event.rqFill>e.event.rqLimit?"#a90000":""}`})])],1)]),t("div",{staticClass:"Cg_Mid"},[e.eventCurrentId?[e.event.noAccess?e._l(4,function(s){return t("div",{staticClass:"Cg_Box"},e._l(5,function(i){return t("div",{staticClass:"Event_CompItem Event_CompItemPlaceholder"},[s===1?t("div",{staticClass:"Event_CompPlaceholderQuestion"},[e._v("?")]):e._e()])}),0)}):t("div",{staticClass:"Cg_Box"},e._l(e.event.comp,function(s,i){return t("div",{staticClass:"Event_CompItem"},[t("BaseCompItem",{attrs:{isMod:e.user&&e.user.mod,comp:s},on:{edit:function(r){return e.eventEditComp(i)}}})],1)}),0),t("BaseEventTrackbox",{attrs:{event:e.event,eventLoadingAny:e.eventLoadingAny,user:e.user,check:e.eventCheckFilterCode,eventForceAnalyze:e.eventForceAnalyze,eventBestPerTrack:e.eventBestPerTrack,showBestPerTrack:e.showPoints,compact:e.compact&&e.mode==="compare"||(e.mode==="challenges"||e.mode==="events")&&e.windowWidth<1200},on:{newindex:function(s){return e.eventTrackNewIndex(s)},openDialogTrackSearch:function(s){e.eventTracksetSelected=s.itrackset,e.eventRaceSelected=s.itrackMonoArray,e.openDialogTrackSearch(!1)},eventMoveTrackRight:function(s){return e.eventMoveTrackRight(s.itrackset,s.itrackMonoArray)},openKingFilter:function(s){return e.eventOpenKingFilter(s.itrackset,s.itrackMonoArray,s.e)},up:function(s){return e.eventMove("up",s.itrackset)},down:function(s){return e.eventMove("down",s.itrackset)},delete:function(s){return e.eventDeleteTrackset(s.itrackset)}}}),e.event.canViewEvent&&!e.eventBlockAddTrackset&&(e.event.resolvedTrackset||[]).length<6&&e.user&&e.user.mod?t("div",{staticClass:"Event_NewTracksetBox"},[t("button",{staticClass:"D_Button D_Button D_ButtonDark D_ButtonDark2",on:{click:function(s){return e.eventAddTrackset()}}},[t("i",{staticClass:"ticon-plus_2 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_trackset")))])])]):e._e(),t("div",{staticClass:"Cg_Box",staticStyle:{"margin-top":"15px"}},e._l(e.event.compilation,function(s,i){return t("div",{staticClass:"Cg_YouBank Event_CompilationBox"},[t("div",{staticClass:"Cg_YouBankBox",class:{Event_HasPickList:e.eventPicksList.length>0&&e.eventEnablePicks}},[e._l(s,function(r,n){return[t("BaseButtonTouch",{key:`${r.rid}${r.tune}${n}`,staticClass:"D_Button D_ButtonDark D_ButtonDark2 Cg_BankButton Event_BankButton",class:{Event_BankReference:e.eventPointsReference[i].icar===n,Event_BankSemiReference:e.eventPointsReference[i].icar===void 0&&n===0,Event_BankPick:e.eventPicksList.find(l=>l.rid===r.rid&&l.tune===r.tune)||Object.keys(e.eventPointsReference).find(l=>e.eventPointsReference[l].rid===r.rid&&e.eventPointsReference[l].tune===r.tune),Event_PredictTime:r.isTimePredicted},staticStyle:{"will-change":"opacity, transform"},style:`--cor: ${r.color}`,attrs:{disabled:e.eventLoadingAny},on:{longTouch:function(l){return e.eventTogglePick(r,l)},shortTouch:function(l){return e.eventOpenShowCarDialog(r,l,i,n)},contextmenu:function(l){e.isMobile?l.preventDefault():e.eventTogglePick(r,l)},click:function(l){e.isMobile?l.preventDefault():e.eventOpenShowCarDialog(r,l,i,n)}}},[t("div",{staticClass:"Cg_BankPhoto Event_BankPhoto"},[t("img",{staticClass:"Cg_BankPhotoImg",attrs:{src:r.photo,loading:"lazy",alt:""}})]),t("div",{staticClass:"Event_BankClass",style:`color: ${r.color}`},[e._v(e._s((r.car||{}).class)+e._s((r.car||{}).rq))]),t("div",{staticClass:"Cg_BankTune"},[e._v(e._s(r.tune))]),r[e.eventScoreType]===void 0?[!e.showPoints||n===0&&e.eventPointsReference[i].icar===void 0||e.eventPointsReference[i].icar===n?t("div",{staticClass:"Cg_BankResult Event_BankTime Event_BankTimeToPrint"},[t("span",{},[e._v(e._s(r.timeToPrint))])]):r.points!==void 0&&r.points!==null?t("div",{staticClass:"Cg_BankResult Event_BankTime",class:{Cg_PointsRed:r.points.v<0,Cg_PointsGreen:r.points.v>0,Cg_PointsGrey:r.points.v===0}},[t("span",{staticClass:"Cg_BankPoints"},[e._v(e._s(r.points.v))])]):e._e()]:t("div",{staticClass:"Cg_BankResult Event_BankTime Cg_PointsGreen"},[t("span",{staticClass:"Cg_BankPoints"},[e._v(e._s(r.track&&r.track.includes("testBowl")?r.time:r[e.eventScoreType]))])])],2)]})],2)])}),0),e.event.compilation&&e.event.compilation.length&&(!e.whatTier||e.whatTier>3)?t("div",{staticClass:"Event_CompilationIncomplete Main_SaveGalleryGuide",staticStyle:{margin:"20px auto","max-width":"500px"}},[t("span",[e._v(e._s(e.$t("p_patronsOnly",{tier:3}))),t("br"),e._v(e._s(e.$t("p_eventsKingDescription"))+" "),t("a",{staticClass:"D_Link D_LinkUnder",attrs:{target:"_blank",href:"https://youtu.be/voeIpyglb0w"}},[e._v("Youtube")])])]):e._e(),e.event.hidden?t("div",{staticClass:"Event_CompilationIncomplete Main_SaveGalleryGuide",staticStyle:{margin:"20px auto","max-width":"500px"}},[t("span",[e._v(e._s(e.$t("p_eventHiddenForPatreons")))])]):e._e(),!e.user&&!e.event.hidden?t("div",{staticClass:"Event_CompilationIncomplete Main_SaveGalleryGuide",staticStyle:{margin:"20px auto","max-width":"500px"}},[t("span",[e._v(e._s(e.$t("p_eventsKingLogin")))])]):e._e(),e.$store.state.showPrizeBoard&&e.event.canViewEvent?t("BasePrizeBoard",{attrs:{id:e.eventCurrentId},on:{hasLocal:function(s){e.eventHasPrizeBoard=s}}}):e._e(),!e.eventNeedSave&&e.event.canViewEvent&&e.eventCurrentId!=="_preview_"?t("div",{staticClass:"Cg_BottomModTools",staticStyle:{"margin-top":"30px"}},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonTier2",class:{D_Button_Loading:e.eventLoadingAny},attrs:{disabled:!e.event.filteringQueryStrings},on:{click:function(s){return e.openHandRankingDialog()}}},[t("i",{staticClass:"ticon-crown D_ButtonIcon D_ButtonIcon24",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("m_handRanking")))]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.eventLoadingAny},on:{click:function(s){return e.eventExportTracksToWorkspace()}}},[e._v(e._s(e.$t("m_useTrackList")))]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.eventLoadingAny},on:{click:function(s){return e.eventExportCriteriaToPacks()}}},[e._v(e._s(e.$t("m_eventPack")))]),e.event.tracksetBkp&&JSON.stringify(e.event.tracksetBkp)!==JSON.stringify(e.event.trackset)?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.eventLoadingAny},on:{click:function(s){return e.eventResetTracksetLocal()}}},[e._v(e._s(e.$t("m_resetTrackset")))]):e._e(),e.user&&e.user.mod&&!e.eventBlockAddTrackset?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.eventLoadingAny},on:{click:function(s){return e.eventExportEventToTimeline()}}},[e._v(e._s(e.$t("m_exportToTimeline")))]):e._e(),e.user&&e.user.mod&&!e.eventBlockAddTrackset&&e.Vue.preUrl&&!e.Vue.preUrl.includes("topdrives")&&e.user.username==="TiagoXavi"?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.eventLoadingAny},on:{click:function(s){return e.refreshLocalTimesByFilter()}}},[e._v("Refresh local times")]):e._e(),e.eventPicksList.length>0?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.eventLoadingAny},on:{click:function(s){return e.eventClearPicks()}}},[e._v(e._s(e.$t("m_clearPicks")))]):e._e(),e.eventHasPrizeBoard?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.eventLoadingAny},on:{click:function(s){return e.eventClearBoard()}}},[e._v(e._s(e.$t("m_clearBoard")))]):e._e(),e.user&&e.user.mod&&e.eventCurrentIsHidden?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonRed",class:{D_Button_Loading:e.eventLoadingAny},on:{click:function(s){return e.eventSetVisible()}}},[e._v("Set visible")]):e._e(),e.eventPicksList.length>0?t("BaseSwitch",{attrs:{label:e.$t("m_enablePicks"),horizontal:!0},model:{value:e.eventEnablePicks,callback:function(s){e.eventEnablePicks=s},expression:"eventEnablePicks"}}):e._e()],1):e._e(),e.user&&e.user.mod&&e.event.canViewEvent&&!e.eventBlockAddTrackset?t("div",{staticClass:"Cg_BottomModTools",staticStyle:{"margin-top":"30px"}},[e._l(e.clubsIconsList,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseChip_Small",attrs:{value:s},model:{value:e.event.icons,callback:function(r){e.$set(e.event,"icons",r)},expression:"event.icons"}},[t("i",{staticClass:"TdIconCond",class:`tdicon-${s}`,attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"path1"}),t("span",{staticClass:"path2"}),t("span",{staticClass:"path3"}),t("span",{staticClass:"path4"})])])]})],2):e._e(),e.user&&e.user.mod&&e.eventCurrentId==="_preview_"?t("div",{staticClass:"Cg_BottomModTools D_Center2",staticStyle:{"margin-top":"30px"}},[t("BaseText",{staticClass:"BaseText_Big",attrs:{instantModel:!0,type:"normal",label:e.$t("m_eventName")},model:{value:e.event.name,callback:function(s){e.$set(e.event,"name",s)},expression:"event.name"}})],1):e._e()]:e.eventLoading?t("div",{staticClass:"Cg_MidLoading"},[t("BaseContentLoader",{staticStyle:{padding:"10px 10px 10px 20px",width:"100%"},attrs:{contents:!0,itemWidth:e.windowWidth<1200?"111px":"216px",itemHeight:144,type:"block",count:"5"}})],1):e.eventList.length>0?t("div",{staticClass:"Cg_ListSelect"},[t("div",{staticClass:"Cg_ListSelectBox"},[t("div",{staticClass:"Cg_SelectorDialogTitle Main_DialogTitle",staticStyle:{"margin-left":"15px","margin-bottom":"15px"}},[e._v(e._s(e.$t("m_events")))]),e._l(e.eventList,function(s){return[t("BaseEventName",{attrs:{item:s,contentClass:"BaseEventName_Events"},on:{click:function(i){return e.loadEventFull(s.date,i)},longTouch:function(i){return e.loadEventFull(s.date,{shiftKey:!0,ctrlKey:!0})}}})]})],2)]):t("div",{staticClass:"Cg_Offline"},[t("i",{staticClass:"ticon-line Main_SearchEmptyAddIcon",attrs:{"aria-hidden":"true"}})])],2)]):e.mode==="clubs"?t("div",{staticClass:"Cg_Layout",on:{click:function(s){return s.stopPropagation(),e.outsideClick()}}},[t("div",{staticClass:"Cg_Header"},[t("div",{staticClass:"Cg_HeaderLeft"},[t("BaseCorner",{attrs:{gameVersion:e.gameVersion},on:{menu:function(s){return e.openMainDialog()},longCamera:function(s){e.showPoints=!e.showPoints},camera:function(s){e.shareDialog=!0,e.generateUrl()}}}),t("div",{staticClass:"Cg_RowCornerBox"},[t("div",{staticClass:"Cg_SelectorLayout"},[t("div",{staticClass:"Cg_SelectorCenter"},[t("div",{staticClass:"Clubs_DayBox"},[t("button",{staticClass:"D_Button Main_ArrowDownSelect",attrs:{disabled:e.clubLoading||e.clubTrackNeedSave||e.clubReqNeedSave||e.clubDayNeedSave},on:{click:function(s){e.clubDayConfigDialog=!0}}},[t("span",[e._v(e._s(e.clubDaySelected||"-"))]),t("i",{staticClass:"ticon-keyboard_arrow_down",attrs:{"aria-hidden":"true"}})]),e.clubDayNeedSave&&e.user&&e.user.mod?t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.clubLoadingAny},on:{click:function(s){return e.clubDaySaveAll()}}},[e._v(e._s(e.$t("m_saveDay")))]):e._e()]),!e.clubLoading&&e.clubDaySelected!==e.clubServerDateISO?t("div",{staticClass:"Clubs_DayNotCurrent"},[e._v("("+e._s(e.$t("m_notCurrent"))+")")]):e._e(),e.user&&e.user.mod?t("div",{staticClass:"Clubs_TrackReqSelectBox"},[t("button",{staticClass:"D_Button Main_ArrowDownSelect",attrs:{disabled:e.clubLoading||e.clubTrackNeedSave||e.clubReqNeedSave},on:{click:function(s){e.clubTracksetDialog=!0}}},[t("span",[e._v(e._s(e.$t("m_tracksets"))+" "+e._s(`(${e.clubTracksGroupsActive.length})`))]),t("i",{staticClass:"ticon-keyboard_arrow_down",attrs:{"aria-hidden":"true"}})]),t("button",{staticClass:"D_Button Main_ArrowDownSelect",attrs:{disabled:e.clubLoading||e.clubTrackNeedSave||e.clubReqNeedSave},on:{click:function(s){e.clubReqsDialog=!0}}},[t("span",[e._v(e._s(e.$t("m_reqs"))+" "+e._s(`(${e.clubReqGroupsActive.length})`))]),t("i",{staticClass:"ticon-keyboard_arrow_down",attrs:{"aria-hidden":"true"}})])]):e._e(),e.clubDaySelectedObj&&e.clubDaySelectedObj.user?t("div",[t("span",{staticClass:"Main_SearchResultUserBy Cg_Creator"},[e._v(e._s(e.$t("m_by"))+" ")]),t("span",{staticClass:"Main_SearchResultUser Cg_Creator",class:`Main_UserT${e.highlightsUsers[e.clubDaySelectedObj.user]}`},[e._v(e._s(e.clubDaySelectedObj.user))]),t("span",{staticClass:"Cg_ViewsCount Main_ViewsBox"},[t("span",{staticClass:"Main_ViewsCount"},[e._v(e._s((e.statistics[`clubs_${e.clubDaySelected}`]||{}).c||0)+" views")])])]):e._e(),t("div",{staticClass:"Cg_CenterBottom",staticStyle:{"min-height":"unset"}},[t("div",{staticClass:"Cg_SaveButtonBox"},[e.user?e.clubTrackNeedSave&&e.user&&e.user.mod?[t("div",{staticClass:"Main_SaveAllBox"},[t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.clubLoadingAny},on:{click:function(s){return e.clubSaveTrackset()}}},[e._v(e._s(e.$t("m_saveTrackset")))])])]:e.clubReqNeedSave&&e.user&&e.user.mod?[t("div",{staticClass:"Main_SaveAllBox"},[t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.clubLoadingAny},on:{click:function(s){return e.clubSaveReq()}}},[e._v(e._s(e.$t("m_saveReqs")))])])]:e.isMobile&&e.clubCompilation&&e.clubCompilation.length>0?[t("BaseSwitch",{attrs:{label:e.$t("m_points")},model:{value:e.showPoints,callback:function(s){e.showPoints=s},expression:"showPoints"}})]:e._e():[t("div",{staticClass:"Main_SaveAllBox"},[t("button",{staticClass:"D_Button Main_LoginToEdit",on:{click:function(s){return e.$store.commit("OPEN_LOGIN")}}},[e._v(e._s(e.$t("m_login")))])])],e.clubShowAnalyse?[t("div",{staticClass:"Main_SaveAllBox"},[t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.clubLoadingAny},on:{click:function(s){return e.clubAnalyse()}}},[e._v(e._s(e.$t("m_analyze")))])])]:e._e(),e.user?t("div",{staticClass:"Main_PrintBy",staticStyle:{"margin-top":"5px"}},[t("div",{staticClass:"Main_PrintByLabel"},[e._v(e._s(e.$t("m_printBy")))]),t("div",{staticClass:"Main_PrintByUser",class:`Main_UserT${e.highlightsUsers[e.user.username]}`},[e._v(e._s(e.user.username))])]):e._e()],2)])])])]),t("BaseFilterDescription",{staticClass:"Cg_Right",attrs:{filter:e.clubReqsGroupModel.filter,filter2:e.clubReqsGroupModel.filter2,filter3:e.clubReqsGroupModel.filter3,loading:e.clubLoadingAny,user:e.user,ready:e.clubReqsGroupModel.date,useWhatFilter:e.clubUseWhatFilter},on:{changeClick:function(s){return e.clubShowRequirementsDialog(s)},useFilter:function(s){e.clubUseWhatFilter=s,e.eventRefreshKingFilter()},newNameFilter:function(s){return e.clubRenameFilter(s)}}})],1)]),t("div",{staticClass:"Clubs_Mid"},[t("div",{staticClass:"Clubs_SemiBox"},[t("div",{staticClass:"Clubs_Box"},[t("div",{staticClass:"Clubs_SelectorBox"},[e._l(e.clubTracksGroupsActive,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseChip_Small",attrs:{disabled:e.clubLoading||e.clubTrackNeedSave||e.clubReqNeedSave,required:"true",value:s,label:s.name},on:{click:function(r){return e.clubsChangeTrackGroup(i)}},model:{value:e.clubTracksGroupModel,callback:function(r){e.clubTracksGroupModel=r},expression:"clubTracksGroupModel"}})]})],2),t("div",{staticClass:"Clubs_SelectorBox"},[e._l(e.clubReqGroupsActive,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseChip_Small",attrs:{disabled:e.clubLoading||e.clubTrackNeedSave||e.clubReqNeedSave,required:"true",value:s,label:s.name},on:{click:function(r){return e.clubsChangeReqsGroup(i)}},model:{value:e.clubReqsGroupModel,callback:function(r){e.clubReqsGroupModel=r},expression:"clubReqsGroupModel"}})]})],2)])]),e.clubTracksGroupModel.comp?[[t("div",{staticClass:"Cg_Box"},e._l(e.clubTracksGroupModel.comp,function(s,i){return t("div",{staticClass:"Event_CompItem"},[t("BaseCompItem",{attrs:{isMod:e.user&&e.user.mod,comp:s},on:{edit:function(r){return e.eventEditComp(i)}}})],1)}),0),t("BaseEventTrackbox",{attrs:{event:e.clubTracksGroupModel,eventLoadingAny:e.clubLoadingAny,user:e.user,check:e.eventCheckFilterCode,eventForceAnalyze:e.clubForceAnalyze,readonly:e.clubIsShowingOriginal,useWhatFilter:e.clubUseWhatFilter,eventBestPerTrack:e.clubBestPerTrack,showBestPerTrack:e.showPoints,compact:e.compact&&e.mode==="compare"||(e.mode==="challenges"||e.mode==="events")&&e.windowWidth<1200},on:{newindex:function(s){return e.eventTrackNewIndex(s)},openDialogTrackSearch:function(s){e.eventTracksetSelected=s.itrackset,e.eventRaceSelected=s.itrackMonoArray,e.openDialogTrackSearch(!1)},eventMoveTrackRight:function(s){return e.eventMoveTrackRight(s.itrackset,s.itrackMonoArray)},openKingFilter:function(s){return e.eventOpenKingFilter(s.itrackset,s.itrackMonoArray,s.e)},up:function(s){return e.eventMove("up",s.itrackset)},down:function(s){return e.eventMove("down",s.itrackset)},delete:function(s){return e.eventDeleteTrackset(s.itrackset)}}}),!e.clubBlockAddTrackset&&e.clubTracksGroupModel.resolvedTrackset.length<4&&e.user&&e.user.mod?t("div",{staticClass:"Event_NewTracksetBox"},[t("button",{staticClass:"D_Button D_Button D_ButtonDark D_ButtonDark2",on:{click:function(s){return e.clubAddTrackset()}}},[t("i",{staticClass:"ticon-plus_2 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_trackset")))])])]):e._e(),t("div",{staticClass:"Cg_Box",staticStyle:{"margin-top":"15px"}},e._l(e.clubCompilation,function(s,i){return t("div",{staticClass:"Cg_YouBank Event_CompilationBox"},[t("div",{staticClass:"Cg_YouBankBox",class:{Event_HasPickList:e.clubPicksList.length>0&&e.clubEnablePicks}},[e._l(s,function(r,n){return[t("BaseButtonTouch",{key:`${r.rid}${r.tune}`,staticClass:"D_Button D_ButtonDark D_ButtonDark2 Cg_BankButton Event_BankButton",class:{Event_BankReference:e.clubPointsReference[i].icar===n,Event_BankSemiReference:e.clubPointsReference[i].icar===void 0&&n===0,Event_BankPick:e.clubPicksList.find(l=>l.rid===r.rid&&l.tune===r.tune)||Object.keys(e.clubPointsReference).find(l=>e.clubPointsReference[l].rid===r.rid&&e.clubPointsReference[l].tune===r.tune),Event_PredictTime:r.isTimePredicted},staticStyle:{"will-change":"opacity, transform"},style:`--cor: ${r.color}`,attrs:{disabled:e.clubLoadingAny},on:{longTouch:function(l){return e.clubTogglePick(r,l)},shortTouch:function(l){return e.eventOpenShowCarDialog(r,l,i,n)},contextmenu:function(l){e.isMobile?l.preventDefault():e.clubTogglePick(r,l)},click:function(l){e.isMobile?l.preventDefault():e.eventOpenShowCarDialog(r,l,i,n)}}},[t("div",{staticClass:"Cg_BankPhoto Event_BankPhoto"},[t("img",{staticClass:"Cg_BankPhotoImg",attrs:{src:r.photo,loading:"lazy",alt:""}})]),t("div",{staticClass:"Event_BankClass",style:`color: ${r.color}`},[e._v(e._s((r.car||{}).class)+e._s((r.car||{}).rq))]),t("div",{staticClass:"Cg_BankTune"},[e._v(e._s(r.tune))]),r[e.clubScoreType]===void 0?[!e.showPoints||n===0&&e.clubPointsReference[i].icar===void 0||e.clubPointsReference[i].icar===n?t("div",{staticClass:"Cg_BankResult Event_BankTime Event_BankTimeToPrint"},[t("span",{},[e._v(e._s(r.timeToPrint))])]):r.points!==void 0&&r.points!==null?t("div",{staticClass:"Cg_BankResult Event_BankTime",class:{Cg_PointsRed:r.points.v<0,Cg_PointsGreen:r.points.v>0,Cg_PointsGrey:r.points.v===0}},[t("span",{staticClass:"Cg_BankPoints"},[e._v(e._s(r.points.v))])]):e._e()]:t("div",{staticClass:"Cg_BankResult Event_BankTime Cg_PointsGreen"},[t("span",{staticClass:"Cg_BankPoints"},[e._v(e._s(r.track&&r.track.includes("testBowl")?r.time:r[e.clubScoreType]))])])],2)]})],2)])}),0),e.clubCompilation&&e.clubCompilation.length&&(!e.whatTier||e.whatTier>3)?t("div",{staticClass:"Event_CompilationIncomplete Main_SaveGalleryGuide",staticStyle:{margin:"20px auto","max-width":"500px"}},[t("span",[e._v(e._s(e.$t("p_patronsOnly",{tier:3}))),t("br"),e._v(e._s(e.$t("p_eventsKingDescription"))+" "),t("a",{staticClass:"D_Link D_LinkUnder",attrs:{target:"_blank",href:"https://youtu.be/voeIpyglb0w"}},[e._v("Youtube")])])]):e._e(),e.user?e._e():t("div",{staticClass:"Event_CompilationIncomplete Main_SaveGalleryGuide",staticStyle:{margin:"20px auto","max-width":"500px"}},[t("span",[e._v(e._s(e.$t("p_eventsKingLogin")))])]),!e.clubDayNeedSave&&!e.clubReqNeedSave&&!e.clubTrackNeedSave?t("div",{staticClass:"Cg_BottomModTools",staticStyle:{"margin-top":"30px"}},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonTier2",class:{D_Button_Loading:e.clubLoadingAny},on:{click:function(s){return e.openHandRankingDialog()}}},[t("i",{staticClass:"ticon-crown D_ButtonIcon D_ButtonIcon24",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("m_handRanking")))]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.clubLoadingAny},on:{click:function(s){return e.clubExportTracksToWorkspace()}}},[e._v(e._s(e.$t("m_useTrackList")))]),e.clubPicksList.length>0?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.clubLoadingAny},on:{click:function(s){return e.clubClearPicks()}}},[e._v(e._s(e.$t("m_clearPicks")))]):e._e(),e.clubPicksList.length>0?t("BaseSwitch",{attrs:{label:e.$t("m_enablePicks"),horizontal:!0},model:{value:e.clubEnablePicks,callback:function(s){e.clubEnablePicks=s},expression:"clubEnablePicks"}}):e._e()],1):e._e(),e.user&&e.user.mod?t("div",{staticClass:"Cg_BottomModTools",staticStyle:{"margin-top":"30px"}},[t("BaseSwitch",{attrs:{label:e.$t("m_admin"),horizontal:!0},model:{value:e.clubForceAnalyze,callback:function(s){e.clubForceAnalyze=s},expression:"clubForceAnalyze"}})],1):e._e(),e.clubForceAnalyze&&e.clubHasOriginalOrder&&e.user&&e.user.mod?t("div",{staticClass:"Cg_BottomModTools",staticStyle:{"margin-top":"30px"}},[t("BaseSwitch",{attrs:{value:e.clubIsShowingOriginal,label:e.$t("m_showOriginalOrder"),horizontal:!0},on:{click:function(s){return e.clubViewToggle()}}})],1):e._e(),e.clubForceAnalyze&&e.user&&e.user.mod?t("div",{staticClass:"Cg_BottomModTools",staticStyle:{"margin-top":"30px"}},[e._l(e.clubsIconsList,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseChip_Small",attrs:{value:s},model:{value:e.clubTracksGroupModel.icons,callback:function(r){e.$set(e.clubTracksGroupModel,"icons",r)},expression:"clubTracksGroupModel.icons"}},[t("i",{staticClass:"TdIconCond",class:`tdicon-${s}`,attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"path1"}),t("span",{staticClass:"path2"}),t("span",{staticClass:"path3"}),t("span",{staticClass:"path4"})])])]})],2):e._e(),e.clubForceAnalyze&&e.user&&e.user.username==="TiagoXavi"?t("div",{staticClass:"Cg_BottomModTools Main_AdminLayoutBox",staticStyle:{"margin-top":"30px"}},[e.clubShowSaveOriginalOrder&&!e.clubBlockOriginalButton?t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.clubLoadingAny},on:{click:function(s){return e.clubSaveOriginalOrder()}}},[e._v(e._s(e.$t("m_saveOriginalOrder")))]):e._e(),t("div",{staticClass:"Main_AdminFields Main_AdminLayout Main_AdminTracksetUuidLayout"},[t("div",{staticClass:"Main_AdminFields Main_AdminLayout"},[t("div",{staticClass:"BaseText_Label"},[e._v("Clubs json")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.clubJson,expression:"clubJson"}],staticClass:"Main_TextArea data-hj-allow",attrs:{rows:"3",placeholder:"Clubs json"},domProps:{value:e.clubJson},on:{input:function(s){s.target.composing||(e.clubJson=s.target.value)}}}),e._v(" "),t("div",{staticStyle:{"text-align":"center"}},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonGreen",class:{D_Button_Loading:e.clubLoadingAny},on:{click:function(s){return e.clubSubmitCompleteJson()}}},[e._v(e._s(e.$t("m_send")))])])])])]):e._e()]]:e.clubLoading?t("div",{staticClass:"Cg_MidLoading"},[t("BaseContentLoader",{staticStyle:{padding:"10px 10px 10px 20px",width:"100%"},attrs:{contents:!0,itemWidth:e.windowWidth<1200?"111px":"216px",itemHeight:144,type:"block",count:"5"}})],1):t("div",{staticClass:"Cg_Offline"},[t("i",{staticClass:"ticon-line Main_SearchEmptyAddIcon",attrs:{"aria-hidden":"true"}})])],2)]):e._e(),t("BaseDialog",{attrs:{active:e.kingDialog,transparent:!1,disableScroll:!0,fixed:e.kingFixed,"max-width":e.kingFixed?"200px":"360px","min-width":"150px"},on:{close:function(s){return e.closeKingOfDialog()}}},[t("div",{staticClass:"Main_AdvancedDialogBox Main_KingDialogBox",class:{Main_KingFixed:e.kingFixed}},[t("div",{staticClass:"Main_DialogTitleDual"},[t("div",{staticClass:"Main_DialogTitle"},[e._v(e._s(e.$t("m_bestOf")))]),e.whatTier&&e.whatTier<=4?t("div",[t("button",{staticClass:"D_Button Main_KingPinButton",on:{click:function(s){e.kingFixed=!e.kingFixed,e.kingFixed&&e.kingAnalyse()}}},[t("i",{staticClass:"ticon-internal Main_KingPinIcon",attrs:{"aria-hidden":"true"}})]),e.kingFixed?t("button",{staticClass:"D_Button Main_KingPinButton",on:{click:function(s){return e.closeKingOfDialog(!0)}}},[t("i",{staticClass:"ticon-close_3 Main_KingPinIcon",attrs:{"aria-hidden":"true"}})]):e._e()]):e._e()]),t("div",{staticClass:"Main_KingTrackBox",class:{Main_KingTrackBoxSelected:e.kingTrack}},[t("div",{staticClass:"Cg_Track"},[e.kingTrack?t("Row",{staticClass:"Cg_TrackBox",attrs:{list:[e.kingTrack],loggedin:!!e.user,user:e.user,cg:!0,normalSize:!0,type:"tracks"}}):e._e(),t("button",{staticClass:"D_Button Car_AddButton Cg_SelectTrackButton",class:{Cg_SelectTrackButtonEdit:e.kingTrack},on:{click:function(s){return e.openDialogTrackSearch(!1,"king")}}},[e.kingTrack?t("i",{staticClass:"ticon-pencil Cg_SelectTrackButtonIcon",attrs:{"aria-hidden":"true"}}):t("span",[e._v(e._s(e.$t("m_selectTrack")))])])],1)]),t("BaseFilterDescription",{staticClass:"Main_KingFilter",attrs:{filter:e.kingFilter,loading:e.kingLoading,user:e.user,ready:!0,isKing:!0,asFilterLabel:!0},on:{changeClick:function(s){return e.openKingFilterDialog()}}}),!e.whatTier||e.whatTier>4?t("div",{staticClass:"Main_SaveGalleryGuide",staticStyle:{"margin-top":"20px"}},[t("span",[e._v(e._s(e.$t("p_patronsOnly",{tier:4}))),t("br"),e._v(e._s(e.$t("p_bestOfDescription"))+" "),t("a",{staticClass:"D_Link D_LinkUnder D_LinkButton",on:{click:function(s){return e.testBestOf()}}},[e._v(e._s(e.$t("m_here")))])])]):e._e(),e.kingFixed?e._e():t("BaseConfigCheckBox",{staticClass:"Main_KingTrackBox",staticStyle:{"margin-top":"3px"},attrs:{name:"kingShowDownvoted",label:e.$t("m_includeDownvote")},model:{value:e.kingShowDownvoted,callback:function(s){e.kingShowDownvoted=s},expression:"kingShowDownvoted"}}),e.inverted?e._e():t("BaseConfigCheckBox",{staticClass:"Main_KingTrackBox",attrs:{name:"kingForceVerticalView",label:e.$t("m_kingForceVertical")},model:{value:e.kingForceVerticalView,callback:function(s){e.kingForceVerticalView=s},expression:"kingForceVerticalView"}}),t("BaseSwitch",{staticStyle:{margin:"8px auto 0 auto"},attrs:{label:`${e.$t("m_myGarage")}`,horizontal:!0,name:"eventMyGarage"},model:{value:e.eventMyGarage,callback:function(s){e.eventMyGarage=s},expression:"eventMyGarage"}}),e.whatTier&&e.whatTier<=4&&!e.kingFixed?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonTier4 Main_KingAnalyzeButton",class:{D_Button_Loading:e.kingLoading},attrs:{disabled:e.kingLoading||!e.kingTrack},on:{click:function(s){return e.kingAnalyse()}}},[t("i",{staticClass:"ticon-crown D_ButtonIcon D_ButtonIcon24",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("m_findBest")))]):e._e()],1)]),t("BaseDialog",{attrs:{active:e.eventBestTeamsDialog,transparent:!1,lazy:!0,"max-width":"820px","min-width":"240px"},on:{close:function(s){e.eventBestTeamsDialog=!1}}},[e.eventBestTeamsDialog?t("div",{staticClass:"Main_TeamsLayout"},[t("div",{staticClass:"Main_TeamsHeader"},[t("div",{staticClass:"Main_DialogTitle",staticStyle:{"margin-bottom":"0px"}},[e._v(e._s(e.eventBestTeamsTarget.name))]),t("div",{staticClass:"Main_TeamsEngineLabel"},[e._v("Engine v1.10")])]),t("div",{staticClass:"Main_TeamsNeck D_Center2"},[t("div",{staticClass:"Main_TeamsControlsLayout"},[t("BaseSwitch",{attrs:{name:"hand_MyGarage",label:`${e.$t("m_myGarage")}`,horizontal:!0},model:{value:e.eventBestTeamsConfig.myGarage,callback:function(s){e.$set(e.eventBestTeamsConfig,"myGarage",s)},expression:"eventBestTeamsConfig.myGarage"}}),t("BaseSwitch",{attrs:{name:"hand_ForceCars",label:e.$t("m_forceCars"),horizontal:!0},model:{value:e.eventBestTeamsConfig.forceCarsBool,callback:function(s){e.$set(e.eventBestTeamsConfig,"forceCarsBool",s)},expression:"eventBestTeamsConfig.forceCarsBool"}}),t("BaseSwitch",{attrs:{name:"hand_black",label:e.$t("m_blackList"),horizontal:!0},model:{value:e.eventBestTeamsConfig.blackListBool,callback:function(s){e.$set(e.eventBestTeamsConfig,"blackListBool",s)},expression:"eventBestTeamsConfig.blackListBool"}}),t("BaseSwitch",{attrs:{value:e.eventBestTeamsConfig.repeatCars||e.eventBestTeamsConfig.myGarage,label:e.$t("m_duplicates"),horizontal:!0,disabled:e.eventBestTeamsConfig.myGarage,name:"hand_repeat"},on:{change:function(s){e.eventBestTeamsConfig.repeatCars=s}}}),t("BaseSwitch",{attrs:{name:"hand_farming",label:e.$t("m_farmingHands"),horizontal:!0},model:{value:e.eventBestTeamsConfig.uniqueHands,callback:function(s){e.$set(e.eventBestTeamsConfig,"uniqueHands",s)},expression:"eventBestTeamsConfig.uniqueHands"}}),t("BaseSwitch",{attrs:{name:"hand_prizes",label:e.$t("m_prizeCars"),horizontal:!0},model:{value:e.eventBestTeamsConfig.prizeCars,callback:function(s){e.$set(e.eventBestTeamsConfig,"prizeCars",s)},expression:"eventBestTeamsConfig.prizeCars"}}),t("BaseSwitch",{attrs:{value:e.eventBestTeamsConfig.prizeCars&&e.eventBestTeamsConfig.neverAwardedCars,label:e.$t("m_neverAwardedCars"),horizontal:!0,disabled:!e.eventBestTeamsConfig.prizeCars||!0,name:"hand_neverAwarded"},on:{change:function(s){e.eventBestTeamsConfig.neverAwardedCars=s}}}),t("BaseSwitch",{attrs:{value:e.eventBestTeamsConfig.predictedTimes||e.eventBestTeamsConfig.myGarage,label:e.$t("m_predictedTimes"),horizontal:!0,disabled:e.eventBestTeamsConfig.myGarage,name:"hand_predicted"},on:{change:function(s){e.eventBestTeamsConfig.predictedTimes=s}}})],1),t("BaseExpandDiv",{staticClass:"Main_TeamsForceCarsExpand",attrs:{active:e.eventBestTeamsConfig.blackListBool}},[t("BaseCarList",{staticClass:"Main_TeamsCarsList",attrs:{list:e.eventBestTeamsConfig.blackList,filterToImport:e.eventBestTeamsTarget.filter,size:"small"}})],1),e.eventBestTeamsTarget.resolvedTrackset?t("div",{staticClass:"Main_TeamsTrackset",class:{Main_TeamsTracksetWithBottom:e.eventBestTeamsConfig.forceCarsBool}},[t("BaseEventTrackbox",{attrs:{event:{resolvedTrackset:e.eventBestTeamsTarget.resolvedTrackset},eventLoadingAny:!1,user:{mod:!1},check:null,eventForceAnalyze:!1,eventBestPerTrack:{},showBestPerTrack:!1,hideCheckBox:!0,disableCampaignTip:!0,mini:!0,miniHeight:!0,size:e.windowWidth<1200?119:154,readonly:!0}})],1):e._e(),t("BaseExpandDiv",{staticClass:"Main_TeamsForceCarsExpand",attrs:{active:e.eventBestTeamsConfig.forceCarsBool}},[t("div",{staticClass:"Main_TeamsCanEnterEventMid"},[t("BaseCarsTeam",{attrs:{cars:e.eventBestTeamsConfig.forceCars,filterToImport:e.eventBestTeamsTarget.filter,mini:e.windowWidth<1200}})],1)]),e.eventBestTeamsTarget.clubReqsGroupModel?t("div",{staticClass:"Main_TeamsRQSliderBox"},[t("BaseMonoSlider",{staticClass:"Main_TeamsRQSlider",attrs:{min:60,max:500,step:5,label:"RQ Limit"},model:{value:e.eventBestTeamsTarget.rqLimit,callback:function(s){e.$set(e.eventBestTeamsTarget,"rqLimit",s)},expression:"eventBestTeamsTarget.rqLimit"}})],1):e._e(),t("div",{staticClass:"Main_TeamsFooter D_Center2"},[!e.whatTier||e.whatTier>2?t("div",{staticClass:"Main_SaveGalleryGuide"},[t("span",[e._v(e._s(e.$t("p_patronsOnly",{tier:2}))),t("br"),e._v(e._s(e.$t("p_bestHandDescription"))+" "),t("a",{staticClass:"D_Link D_LinkUnder",attrs:{target:"_blank",href:"https://youtu.be/PU6QnGUSGJA"}},[e._v("Youtube")])])]):e._e(),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonTier2",class:{D_Button_Loading:e.eventBestTeamsLoading},attrs:{disabled:!e.whatTier||e.whatTier>2||!e.eventBestTeamsTarget.filteringQueryStrings||e.eventBestTeamSameAsBefore},on:{click:function(s){return e.getHandRanking(s)}}},[e.eventBestLastLoadingMsg?[t("span",[e._v(e._s(e.eventBestLastLoadingMsg))])]:[t("i",{staticClass:"ticon-crown D_ButtonIcon D_ButtonIcon24",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_loadRanking")))]),t("i",{staticClass:"ticon-arrow_down_3",staticStyle:{"margin-left":"5px"},attrs:{"aria-hidden":"true"}})]],2)])],1),e.eventBestTeamsBigArray.length?t("div",{staticClass:"Main_Teams_Body Space_TopPlus"},[t("RecycleScroller",{staticClass:"Main_DarkScroll",attrs:{items:e.eventBestTeamsBigArray,"item-size":e.windowWidth<1200?170:122,buffer:800,"key-field":"3",listClass:"Main_Teams_CardsWrapper",itemClass:"Main_Teams_ScrollerItem","page-mode":""},scopedSlots:e._u([{key:"default",fn:function({item:s,index:i,active:r}){return[t("div",{staticClass:"Main_Teams_Index"},[t("div",{staticClass:"Main_Teams_IndexValue"},[e._v("#"+e._s(i+1))]),t("div",{staticClass:"Main_Teams_IndexRQ"},[e._v("RQ"+e._s(s[1]))]),t("div",{staticClass:"Main_Teams_IndexPts"},[e._v(e._s(Number(s[2]).toFixed(0))+" / "+e._s(Number(s[7]).toFixed(0)))])]),t("div",{staticClass:"Main_Teams_ListLayout"},e._l(s[6],function(n,l){return t("div",{staticClass:"Main_Teams_VerticalCardBox BaseCard_AsGalleryBox"},[t("BaseCard",{attrs:{car:e.Vue.all_carsObj[n],"fix-back":!1,tuneText:s[5][l],options:!1,hideClose:!0,showResetTune:!1,showCompactOverlay:!1,asGallery:!0}})],1)}),0)]}}],null,!1,833215962)})],1):e.eventBestTeamsLastCache?t("div",{staticClass:"Main_Teams_NoResponse"},[t("div",{staticClass:"Cg_Offline"},[t("i",{staticClass:"ticon-line Main_SearchEmptyAddIcon",attrs:{"aria-hidden":"true"}})])]):e._e()]):e._e()]),t("BaseFilterDialog",{ref:"mainFilterDialog",attrs:{lastestList:e.lastestList,highlightsUsers:e.highlightsUsers,sortEnabled:!0,enableCounters:!0,importFilterName:"CLASSIC_FILTER_IMPORT",refName:"MAIN_FILTER_REF"},on:{addCar:function(s){return e.addCar(s)}},model:{value:e.searchFilterDialog,callback:function(s){e.searchFilterDialog=s},expression:"searchFilterDialog"}}),e.librarySearchDialogLoad?t("BaseFilterDialog",{attrs:{config:{topSpeed:!1,acel:!1,hand:!1,weight:!1},libraryApprove:e.libraryApprove,type:"library"},on:{addCar:function(s){return e.addCar(s)},mutateTemplate:function(s){return e.mutateTemplate(s.config,s.isDelete)},templateClick:function(s){return e.decodeTemplateString(s,!0)}},model:{value:e.librarySearchDialog,callback:function(s){e.librarySearchDialog=s},expression:"librarySearchDialog"}}):e._e(),e.memorySearchDialogLoad?t("BaseMemoryDialog",{attrs:{memory:e.memory},on:{addNext:function(s){return e.memoryAddNext()},rename:function(s){return e.renameMemoryDialogOpen(s.index)},delete:function(s){return e.askDeleteMemory(s.index)},replace:function(s){return e.askReplaceMemory(s.index)},templateClick:function(s){return e.decodeTemplateString(s,!0)},import:function(s){return e.importMemory(s)}},model:{value:e.memorySearchDialog,callback:function(s){e.memorySearchDialog=s},expression:"memorySearchDialog"}}):e._e(),e.kingFilterDialogLoad?t("BaseFilterDialog",{attrs:{filterOnly:!0,config:{tunes:!0}},on:{filterUpdate:function(s){return e.updateKingFilter(s)},clearFilterUpdate:function(s){e.kingClearFilter=s}},model:{value:e.kingFilterDialog,callback:function(s){e.kingFilterDialog=s},expression:"kingFilterDialog"}}):e._e(),e.cgRequirementsDialogLoad?t("BaseFilterDialog",{attrs:{filterOnly:!0,raceFilter:e.cgRound.filter,config:{topSpeed:!1,acel:!1,hand:!1,weight:!1,brake:!1,tcs:!0,abs:!0},initialFilterString:e.cgRoundFilterString,type:"cg"},on:{filterUpdate:function(s){return e.cgUpdateRequirements(s)},clearFilterUpdate:function(s){e.cgRoundFilterToSave=s}},model:{value:e.cgRequirementsDialog,callback:function(s){e.cgRequirementsDialog=s},expression:"cgRequirementsDialog"}}):e._e(),e.cgFilterDialogLoad?t("BaseFilterDialog",{attrs:{cgAddingOppoCar:e.cgAddingOppoCar,cgAddingYouCar:e.cgAddingYouCar,raceFilter:e.cgRound.filter,config:{topSpeed:!1,acel:!1,hand:!1,weight:!1,brake:!1,tcs:!1,abs:!1},type:"cg"},on:{addCar:function(s){return e.addCarCg(s)},listRids:function(s){return e.cgAnalyseRoundFinish(s)},clearFilterUpdate:function(s){e.cgFilterForAnalyse=s}},model:{value:e.cgFilterDialog,callback:function(s){e.cgFilterDialog=s},expression:"cgFilterDialog"}}):e._e(),e.eventRequirementsDialogLoad?t("BaseFilterDialog",{attrs:{filterOnly:!0,requirementFilter:!0,raceFilter:e.event.filter,raceFilter2:e.event.filter2,raceFilter3:e.event.filter3,config:{topSpeed:!1,acel:!1,hand:!1,weight:!1,brake:!1,tcs:!1,abs:!1},initialFilterString:e.eventFilterString,initialFilterString2:e.eventFilterString2,initialFilterString3:e.eventFilterString3,useWhatFilter:e.eventUseWhatFilter,ridsMutationName:"EVENT_EXPORT_FILTER",type:"event"},on:{filterUpdate:function(s){return e.eventUpdateRequirements(s,e.eventUseWhatFilter)},clearFilterUpdate:function(s){return e.eventClearFilterUpdate(s,e.eventUseWhatFilter)},dual:function(s){return e.eventFilterAddDual()},useFilter:function(s){e.eventUseWhatFilter=s}},model:{value:e.eventRequirementsDialog,callback:function(s){e.eventRequirementsDialog=s},expression:"eventRequirementsDialog"}}):e._e(),e.clubRequirementsDialogLoad?t("BaseFilterDialog",{attrs:{filterOnly:!0,requirementFilter:!0,raceFilter:e.clubReqsGroupModel.filter,raceFilter2:e.clubReqsGroupModel.filter2,raceFilter3:e.clubReqsGroupModel.filter3,config:{topSpeed:!1,acel:!1,hand:!1,weight:!1,brake:!1,tcs:!1,abs:!1},initialFilterString:e.clubCurrentFilterString,initialFilterString2:e.clubCurrentFilterString2,initialFilterString3:e.clubCurrentFilterString3,useWhatFilter:e.clubUseWhatFilter,ridsMutationName:"CLUBS_EXPORT_FILTER",type:"event"},on:{filterUpdate:function(s){return e.eventUpdateRequirements(s,e.clubUseWhatFilter)},clearFilterUpdate:function(s){return e.eventClearFilterUpdate(s,e.clubUseWhatFilter)},dual:function(s){return e.eventFilterAddDual()},useFilter:function(s){e.clubUseWhatFilter=s}},model:{value:e.clubRequirementsDialog,callback:function(s){e.clubRequirementsDialog=s},expression:"clubRequirementsDialog"}}):e._e(),e.eventKingDialogLoad?t("BaseFilterDialog",{attrs:{filterOnly:!0,raceFilter:e.eventFilterForKing,config:e.eventFilterConfig,cgAddingYouCar:!1,type:"event"},on:{close:function(s){return e.eventCloseKingFilter()},filterUpdate:function(s){return e.eventEventKFilter()},clearFilterUpdate:function(s){e.eventFilterForKing=s},listRids:function(s){return e.eventAnalyseKFilter()}},model:{value:e.eventKingDialog,callback:function(s){e.eventKingDialog=s},expression:"eventKingDialog"}},[e.whatTier&&e.whatTier<=3?t("template",{slot:"header"},[t("div",{staticClass:"Main_FilterHeaderLeft"},[t("div",{staticClass:"Main_FilterHeaderLeftBox"},[t("BaseSwitch",{attrs:{name:"eventMyGarage",label:`${e.$t("m_myGarage")}`,horizontal:!0},model:{value:e.eventMyGarage,callback:function(s){e.eventMyGarage=s},expression:"eventMyGarage"}}),e.eventPicksList.length>0?[t("BaseConfigCheckBox",{attrs:{name:"eventShowOnlyPicks",label:e.$t("m_eventShowOnlyPicks")},model:{value:e.eventShowOnlyPicks,callback:function(s){e.eventShowOnlyPicks=s},expression:"eventShowOnlyPicks"}}),t("BaseConfigCheckBox",{attrs:{name:"eventForcePicks",label:e.$t("m_eventForcePicks")},model:{value:e.eventForcePicks,callback:function(s){e.eventForcePicks=s},expression:"eventForcePicks"}})]:e._e()],2),t("div",{staticClass:"Main_FilterHeaderLeftRight"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonBig",on:{click:function(s){return e.eventFindRqSavers()}}},[e._v(e._s(e.$t("m_findRqSavers")))])])])]):e._e()],2):e._e(),t("BaseSearchTrackDialog",{attrs:{active:e.customTrackDialog,mode:e.mode},on:{close:function(s){return e.closeDialogTrackSearch()},toggleTrack:function(s){return e.toggleTrack(s.track,s.e)},pushCpSuggest:function(s){return e.pushCpSuggest(s)}}}),t("BaseDialog",{attrs:{active:e.tuneDialogActive,transparent:!1,"max-width":"420px","min-width":"240px"},on:{close:function(s){return e.closeTune()}}},[t("div",{staticClass:"Main_TuneDialog"},[e.tuneDialogActive?t("div",{staticClass:"Row_DialogLayout"},[e.mode!=="events"&&e.mode!=="clubs"?t("div",{staticClass:"Row_OrderBox"},[t("div",{staticClass:"Row_OrderBoxLayout"},[e.tuneDialogCarIndex>-1?t("button",{staticClass:"D_Button Row_DialogButtonTune",attrs:{disabled:e.tuneDialogCarIndex===0},on:{click:function(s){return e.newIndex({current:e.tuneDialogCarIndex,new:e.tuneDialogCarIndex-1},!0)}}},[t("i",{staticClass:"ticon-arrow_left_3 Row_ConfigIcon Row_OrderIcon",attrs:{"aria-hidden":"true"}})]):e._e(),e.tuneDialogCarIndex>-1?t("button",{staticClass:"D_Button Row_DialogButtonTune",attrs:{disabled:e.tuneDialogCarIndex>=e.carDetailsList.length-1},on:{click:function(s){return e.newIndex({current:e.tuneDialogCarIndex,new:e.tuneDialogCarIndex+1},!0)}}},[t("i",{staticClass:"ticon-arrow_right_3 Row_ConfigIcon Row_OrderIcon",attrs:{"aria-hidden":"true"}})]):e._e(),t("button",{staticClass:"D_Button Row_DialogButtonTune Row_DialogButtonClose",attrs:{disabled:e.needSave&&!e.isRoundEmptyForUser&&(!e.tuneDialogisOppo||!e.user||!e.user.mod)||e.tuneDialogisOppo&&(!e.user||e.user&&!e.user.mod&&!e.isRoundEmptyForUser||e.user.mod&&!e.isRoundModAllowedEdit)},on:{click:function(s){return e.deleteCar(e.tuneDialogCarIndex)}}},[t("i",{staticClass:"ticon-trash Row_ConfigIconTrash",attrs:{"aria-hidden":"true"}})])])]):e._e(),this.tuneDialogisOppo?e._e():t("div",{staticClass:"Row_DialogHeader"},[e._l(e.tuneDialogTunes,function(s){return t("button",{staticClass:"D_Button Row_DialogButtonTune Row_DialogButtonTuneRelative",class:{Row_DialogButtonTuneActive:e.tuneDialogCar.selectedTune===s},attrs:{title:((((e.tuneDialogCar.data||{})[s]||{}).info||{}).tuneCreator||{}).t},on:{click:function(i){return e.changeTuneCar(e.tuneDialogCar,s)}}},[e._v(" "+e._s(s)+" "),e.tunesCount[s]?t("div",{staticClass:"D_ButtonNote"},[e._v(e._s(e.tunesCount[s]))]):e._e()])}),e.whatTier&&e.whatTier<=2&&e.$store.state.showCustomTunes?t("button",{staticClass:"D_Button Row_DialogButtonTune",on:{click:function(s){return e.chooseCustomTune(e.tuneDialogCar)}}},[t("i",{staticClass:"ticon-plus_1",staticStyle:{"font-size":"18px"},attrs:{"aria-hidden":"true"}})]):e._e()],2),t("div",{staticClass:"Row_DialogBody Space_TopPlus"},[t("div",{staticClass:"Row_DialogCard"},[t("div",{staticClass:"Row_DialogCardLeft"},[t("BaseCard",{attrs:{car:e.tuneDialogCar,isDialogBox:!0,options:!1}})],1),e.tuneDialogCar.selectedTune&&!e.tuneDialogCar.selectedTune.includes("Other")&&e.tuneDialogCar.selectedTune!=="000"?t("div",{staticClass:"Row_DialogCardRight"},[t("BaseText",{staticClass:"Space_Bottom Row_FieldStat",attrs:{value:((((e.tuneDialogCar.data||{})[e.tuneDialogCar.selectedTune]||{}).info||{}).topSpeed||{}).t,disabled:!e.tuneDialogCar.selectedTune||!e.user||(((((e.tuneDialogCar.data||{})[e.tuneDialogCar.selectedTune]||{}).info||{}).topSpeed||{}).t&&((((e.tuneDialogCar.data||{})[e.tuneDialogCar.selectedTune]||{}).info||{}).topSpeed||{}).u!==e.user.username?!e.user.mod:!1),type:"topSpeed",label:e.$t("c_topSpeed"),placeholder:"-"},on:{change:function(s){return e.changeStatCar(e.tuneDialogCar,"topSpeed",s)}}}),t("BaseText",{staticClass:"Space_Bottom Row_FieldStat",attrs:{value:((((e.tuneDialogCar.data||{})[e.tuneDialogCar.selectedTune]||{}).info||{}).acel||{}).t,disabled:!e.tuneDialogCar.selectedTune||!e.user||(((((e.tuneDialogCar.data||{})[e.tuneDialogCar.selectedTune]||{}).info||{}).acel||{}).t&&((((e.tuneDialogCar.data||{})[e.tuneDialogCar.selectedTune]||{}).info||{}).acel||{}).u!==e.user.username?!e.user.mod:!1),type:"acel",label:"0-60mph",placeholder:"-"},on:{change:function(s){return e.changeStatCar(e.tuneDialogCar,"acel",s)}}}),t("BaseText",{staticClass:"Row_FieldStat",attrs:{value:((((e.tuneDialogCar.data||{})[e.tuneDialogCar.selectedTune]||{}).info||{}).hand||{}).t,disabled:!e.tuneDialogCar.selectedTune||!e.user||(((((e.tuneDialogCar.data||{})[e.tuneDialogCar.selectedTune]||{}).info||{}).hand||{}).t&&((((e.tuneDialogCar.data||{})[e.tuneDialogCar.selectedTune]||{}).info||{}).hand||{}).u!==e.user.username?!e.user.mod:!1),type:"hand",label:e.$t("c_handling"),placeholder:"-"},on:{change:function(s){return e.changeStatCar(e.tuneDialogCar,"hand",s)}}})],1):t("div",{staticClass:"Row_DialogCardRight"},[t("BaseText",{staticClass:"Space_Bottom Row_FieldStat",attrs:{value:e.resolveStat(e.tuneDialogCar,"topSpeed"),label:e.$t("c_topSpeed"),disabled:!0}}),t("BaseText",{staticClass:"Space_Bottom Row_FieldStat",attrs:{value:e.resolveStat(e.tuneDialogCar,"acel"),label:"0-60mph",disabled:!0}}),t("BaseText",{staticClass:"Row_FieldStat",attrs:{value:e.resolveStat(e.tuneDialogCar,"hand"),label:e.$t("c_handling"),disabled:!0}})],1)]),e.mode==="compare"&&e.statistics[`car_${e.tuneDialogCar.rid}`]?t("div",{staticClass:"Main_ViewsBox"},[t("div",{staticClass:"Main_ViewsCountDialog"},[e._v(e._s(e.statistics[`car_${e.tuneDialogCar.rid}`].c)+" views")])]):e._e()]),e.tuneDialogCar.tags&&e.tuneDialogCar.tags.length>0?t("div",{staticClass:"Row_DialogCardTags",staticStyle:{"margin-top":"12px"}},e._l(e.tuneDialogCar.tags,function(s){return t("BaseGameTag",{key:s,attrs:{tag:s}})}),1):e._e(),t("div",{staticClass:"Row_DialogCardDual Space_TopPlus"},[t("div",{staticClass:"Row_DialogCardBottom"},[t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v("ABS")]),t("div",{staticClass:"Row_DialogCardStatValue Row_DialogCardStatRed",class:{Row_DialogCardStatCorrect:e.tuneDialogCar.abs}},[e._v(e._s(e.tuneDialogCar.abs?"Yes":"No"))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v("TCS")]),t("div",{staticClass:"Row_DialogCardStatValue Row_DialogCardStatRed",class:{Row_DialogCardStatCorrect:e.tuneDialogCar.tcs}},[e._v(e._s(e.tuneDialogCar.tcs?"Yes":"No"))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$tc("c_clearance",1)))]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._v(e._s(e.$t(`c_${e.tuneDialogCar.clearance.toLowerCase()}`)))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v("MRA ("+e._s(e.$t("c_stock").toLowerCase())+")")]),t("div",{staticClass:"Row_DialogCardStatValue"},[e.mraEditing?[t("BaseText",{staticClass:"Row_FieldStat Main_EditMraField",attrs:{acel:e.tuneDialogCar.acel,type:"mra",placeholder:"type..."},on:{change:function(s){return e.sendMra()}},model:{value:e.mraEditInput,callback:function(s){e.mraEditInput=s},expression:"mraEditInput"}})]:[e.tuneDialogCar.mra?t("span",{staticStyle:{"margin-right":"7px"}},[e._v(e._s(e.tuneDialogCar.mra))]):e._e(),e.user&&e.user.mod?t("button",{staticClass:"D_Button D_ButtonDark Main_EditMraButton",class:{D_Button_Loading:e.mraLoading},attrs:{disabled:e.mraLoading},on:{click:function(s){e.mraEditing=!0}}},[t("i",{staticClass:"ticon-pencil",attrs:{"aria-hidden":"true"}})]):e._e()]],2)]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_weight"))+" ("+e._s(e.$t("c_stock").toLowerCase())+")")]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._v(e._s(e.tuneDialogCar.weight))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_fuel")))]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._v(e._s(e.$t(`c_${e.tuneDialogCar.fuel.toLowerCase()}`)))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_seats")))]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._v(e._s(e.tuneDialogCar.seats))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_enginePos")))]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._v(e._s(e.$t(`c_${e.tuneDialogCar.engine.toLowerCase()}Engine`)))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_bodyStyle")))]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._l(e.tuneDialogCar.bodyTypes,function(s,i){return[i!==0?[e._v(", ")]:e._e(),[e._v(e._s(e.$t(`c_${s.toLowerCase()}`)))]]})],2)]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_brake")))]),t("div",{staticClass:"Row_DialogCardStatValue",class:{Row_DialogCardStatRed:e.tuneDialogCar.brake==="C",Row_DialogCardStatCorrect:e.tuneDialogCar.brake==="A"}},[e._v(e._s(e.tuneDialogCar.brake||"?")),t("BaseBrakeDialog")],1)])])]),e.tuneDialogCar.reviews&&e.tuneDialogCar.reviews.length>0||e.user&&e.user.canReview?t("div",{staticClass:"Row_DialogCardUsers Space_TopPlus"},[t("div",{staticClass:"Row_DialogCardStat"},[e.isReviewing?e._e():t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$tc("m_review",2)))]),t("BaseReviewList",{attrs:{car:e.tuneDialogCar,user:e.user||{},highlightsUsers:e.highlightsUsers,reviewUrl:e.reviewUrl},on:{isReviewing:function(s){e.isReviewing=s},submited:function(s){return e.resolveCarReview(s)},getUrl:function(s){e.reviewUrl={url:e.generateUrl(!0)}},loadTemplate:function(s){return e.reviewLoadTemplate(s)}}})],1)]):e._e(),e.tuneDialogCar.users&&!e.isReviewing&&(!e.tuneDialogCar.reviews||e.tuneDialogCar.reviews.length===0||e.showReviews)?t("div",{staticClass:"Row_DialogReviewsBox Space_TopPlus"},[t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("m_contributors")))]),t("div",{staticClass:"Row_DialogCardStatValue",staticStyle:{"font-size":"0.9em"}},[e._l(e.tuneDialogCar.users,function(s,i){return[i>0?[e._v(", ")]:e._e(),t("span",{class:`Main_UserT${e.highlightsUsers[s]}`},[e._v(e._s(s))])]})],2)])]):e.tuneDialogCar.users&&!e.isReviewing&&!e.showReviews?t("div",{staticStyle:{"margin-top":"20px","margin-bottom":"-10px",opacity:"0.6"}},[t("button",{staticClass:"D_Button D_ButtonDarkTransparent",staticStyle:{width:"100%"},on:{click:function(s){e.showReviews=!0}}},[e._v(e._s(e.$t("m_showContributors"))+" ("+e._s(e.tuneDialogCar.users.length)+")")])]):e._e()]):e._e()])]),t("BaseDialog",{attrs:{active:e.customTuneDialogActive,transparent:!1,"max-width":"420px","min-width":"240px"},on:{close:function(s){return e.closeCustomTuneDialog()}}},[t("div",{staticClass:"Main_TuneDialog"},[t("BaseText",{staticClass:"BaseText_Big",attrs:{iid:"Main_CustomTuneInput",type:"tune",label:e.$t("c_tune"),placeholder:"e.g. 798 or 112"},model:{value:e.customTuneDialogTune,callback:function(s){e.customTuneDialogTune=s},expression:"customTuneDialogTune"}})],1)]),t("BaseDialog",{attrs:{active:e.shareDialog,transparent:!1,"max-width":"420px","min-width":"240px"},on:{close:function(s){e.shareDialog=!1}}},[t("div",{staticClass:"Main_ShareDialog"},[t("div",{staticClass:"Main_OptionsDual",staticStyle:{"margin-top":"0"}},[t("div",{staticClass:"Main_"},[t("div",{staticClass:"Main_DialogTitle"},[e._v(e._s(e.$t("m_image")))]),t("div",{staticClass:"Main_ShareDownloadBox"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",staticStyle:{"font-size":"16px"},attrs:{disabled:e.pngLoading},on:{click:function(s){return e.sharePrint()}}},[t("i",{staticClass:"ticon-download D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.pngLabel))])])])]),e.user&&e.currentTracks.length>0&&e.carDetailsList.length>1&&e.mode==="compare"?t("div",{staticClass:"Main_"},[t("div",{staticClass:"Main_DialogTitle"},[e._v(e._s(e.$t("m_library")))]),t("div",{staticClass:"Main_ShareDownloadBox"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",staticStyle:{"font-size":"16px"},on:{click:function(s){return e.openSaveToGalleryDialog()}}},[t("i",{staticClass:"ticon-dash D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_addLibrary")))])])])]):e._e()]),t("div",{staticClass:"Main_DialogTitle"},[e._v(e._s(e.$t("m_sharableLink")))]),t("div",{staticClass:"Main_ShareLinkBox"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.shareUrl,expression:"shareUrl"}],staticClass:"Main_ShareLinkInput data-hj-allow",attrs:{id:"shareLinkField",rows:"6",readonly:"readonly"},domProps:{value:e.shareUrl},on:{input:function(s){s.target.composing||(e.shareUrl=s.target.value)}}}),e._v(" "),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Correct:e.copyUrlSucess},staticStyle:{"font-size":"16px"},attrs:{disabled:e.copyUrlSucess},on:{click:function(s){return e.copyUrl()}}},[e._v(e._s(e.$t("m_copy")))])]),e.mode==="compare"?[t("div",{staticClass:"Main_DialogTitle"},[e._v(e._s(e.$t("m_listCars")))]),t("div",{staticClass:"Main_ShareLinkBox"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.shareListCars,expression:"shareListCars"}],staticClass:"Main_ShareLinkInput data-hj-allow",attrs:{id:"shareListField",rows:"6",readonly:"readonly"},domProps:{value:e.shareListCars},on:{input:function(s){s.target.composing||(e.shareListCars=s.target.value)}}}),e._v(" "),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Correct:e.copyListSucess},staticStyle:{"font-size":"16px"},attrs:{disabled:e.copyListSucess},on:{click:function(s){return e.copyList()}}},[e._v(e._s(e.$t("m_copy")))])])]:e._e()],2)]),t("BaseDialog",{attrs:{active:e.saveToGalleryDialog,transparent:!1,"max-width":"340px","min-width":"240px"},on:{close:function(s){return e.closeSaveToGalleryDialog()}}},[t("div",{staticClass:"Main_SaveGalleryDialog"},[t("div",{staticClass:"Main_SaveGalleryBox"},[t("BaseText",{staticClass:"BaseText_Big",attrs:{iid:"Main_SaveGalleryName",type:"normal",label:e.$t("m_title"),placeholder:""},model:{value:e.saveToGalleryModel.name,callback:function(s){e.$set(e.saveToGalleryModel,"name",s)},expression:"saveToGalleryModel.name"}})],1),t("div",{staticClass:"Main_SaveGalleryBox"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v(e._s(e.$t("m_type")))]),t("div",{staticClass:"Main_FilterChipsFlex",staticStyle:{"justify-content":"flex-start"}},[e._l(e.saveToGalleryModel.types,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseChip_Small",attrs:{required:"true",value:s},model:{value:e.saveToGalleryModel.type,callback:function(r){e.$set(e.saveToGalleryModel,"type",r)},expression:"saveToGalleryModel.type"}})]})],2)]),e.saveToGalleryModel.class.length<4?t("div",{staticClass:"Main_SaveGalleryBoxCheck"},[t("div",{staticClass:"Main_SaveGalleryCheckLeft"},[t("BaseCheckBox",{model:{value:e.saveToGalleryModel.save_class,callback:function(s){e.$set(e.saveToGalleryModel,"save_class",s)},expression:"saveToGalleryModel.save_class"}})],1),t("div",{staticClass:"Main_SaveGalleryCheckRight"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v(e._s(e.$tc("c_class",2)))]),t("div",{staticClass:"Main_SaveGalleryCheckRightValue"},[e._v(e._s(e.saveToGalleryModel.class.join(", ")))])])]):e._e(),t("div",{staticClass:"Main_SaveGalleryBoxCheck"},[t("div",{staticClass:"Main_SaveGalleryCheckLeft"},[t("BaseCheckBox",{model:{value:e.saveToGalleryModel.save_rq,callback:function(s){e.$set(e.saveToGalleryModel,"save_rq",s)},expression:"saveToGalleryModel.save_rq"}})],1),t("div",{staticClass:"Main_SaveGalleryCheckRight"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v("RQ")]),t("div",{staticClass:"Main_SaveGalleryCheckRightValue"},[e._v(e._s(e.saveToGalleryModel.minrq)+" ~ "+e._s(e.saveToGalleryModel.maxrq))])])]),t("div",{staticClass:"Main_SaveGalleryBoxCheck"},[t("div",{staticClass:"Main_SaveGalleryCheckLeft"},[t("BaseCheckBox",{model:{value:e.saveToGalleryModel.save_year,callback:function(s){e.$set(e.saveToGalleryModel,"save_year",s)},expression:"saveToGalleryModel.save_year"}})],1),t("div",{staticClass:"Main_SaveGalleryCheckRight"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v(e._s(e.$tc("c_year",2)))]),t("div",{staticClass:"Main_SaveGalleryCheckRightValue"},[e._v(e._s(e.saveToGalleryModel.minyear)+" ~ "+e._s(e.saveToGalleryModel.maxyear))])])]),e.saveToGalleryModel.tyre.length<4?t("div",{staticClass:"Main_SaveGalleryBoxCheck"},[t("div",{staticClass:"Main_SaveGalleryCheckLeft"},[t("BaseCheckBox",{model:{value:e.saveToGalleryModel.save_tyre,callback:function(s){e.$set(e.saveToGalleryModel,"save_tyre",s)},expression:"saveToGalleryModel.save_tyre"}})],1),t("div",{staticClass:"Main_SaveGalleryCheckRight"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v(e._s(e.$tc("c_tyre",2)))]),t("div",{staticClass:"Main_SaveGalleryCheckRightValue"},[e._v(e._s(e.saveToGalleryModel.tyre.join(", ")))])])]):e._e(),e.saveToGalleryModel.drive.length<3?t("div",{staticClass:"Main_SaveGalleryBoxCheck"},[t("div",{staticClass:"Main_SaveGalleryCheckLeft"},[t("BaseCheckBox",{model:{value:e.saveToGalleryModel.save_drive,callback:function(s){e.$set(e.saveToGalleryModel,"save_drive",s)},expression:"saveToGalleryModel.save_drive"}})],1),t("div",{staticClass:"Main_SaveGalleryCheckRight"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v(e._s(e.$tc("c_drive",2)))]),t("div",{staticClass:"Main_SaveGalleryCheckRightValue"},[e._v(e._s(e.saveToGalleryModel.drive.join(", ")))])])]):e._e(),e.saveToGalleryModel.clearance.length<3?t("div",{staticClass:"Main_SaveGalleryBoxCheck"},[t("div",{staticClass:"Main_SaveGalleryCheckLeft"},[t("BaseCheckBox",{model:{value:e.saveToGalleryModel.save_clearance,callback:function(s){e.$set(e.saveToGalleryModel,"save_clearance",s)},expression:"saveToGalleryModel.save_clearance"}})],1),t("div",{staticClass:"Main_SaveGalleryCheckRight"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v(e._s(e.$tc("c_clearance",2)))]),t("div",{staticClass:"Main_SaveGalleryCheckRightValue"},[e._v(e._s(e.saveToGalleryModel.clearance.join(", ")))])])]):e._e(),e.saveToGalleryModel.country.length<4?t("div",{staticClass:"Main_SaveGalleryBoxCheck"},[t("div",{staticClass:"Main_SaveGalleryCheckLeft"},[t("BaseCheckBox",{model:{value:e.saveToGalleryModel.save_country,callback:function(s){e.$set(e.saveToGalleryModel,"save_country",s)},expression:"saveToGalleryModel.save_country"}})],1),t("div",{staticClass:"Main_SaveGalleryCheckRight"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v(e._s(e.$tc("c_country",2)))]),t("div",{staticClass:"Main_SaveGalleryCheckRightValue"},[e._v(e._s(e.saveToGalleryModel.country.join(", ")))])])]):e._e(),e.saveToGalleryModel.tag.length>0?t("div",{staticClass:"Main_SaveGalleryBoxCheck"},[t("div",{staticClass:"Main_SaveGalleryCheckLeft"},[t("BaseCheckBox",{model:{value:e.saveToGalleryModel.save_tag,callback:function(s){e.$set(e.saveToGalleryModel,"save_tag",s)},expression:"saveToGalleryModel.save_tag"}})],1),t("div",{staticClass:"Main_SaveGalleryCheckRight"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v(e._s(e.$tc("c_tag",2)))]),t("div",{staticClass:"Main_SaveGalleryCheckRightValue"},[e._v(e._s(e.saveToGalleryModel.tag.join(", ")))])])]):e._e(),e.saveToGalleryModel.brand.length<4?t("div",{staticClass:"Main_SaveGalleryBoxCheck"},[t("div",{staticClass:"Main_SaveGalleryCheckLeft"},[t("BaseCheckBox",{model:{value:e.saveToGalleryModel.save_brand,callback:function(s){e.$set(e.saveToGalleryModel,"save_brand",s)},expression:"saveToGalleryModel.save_brand"}})],1),t("div",{staticClass:"Main_SaveGalleryCheckRight"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v(e._s(e.$tc("c_brand",2)))]),t("div",{staticClass:"Main_SaveGalleryCheckRightValue"},[e._v(e._s(e.saveToGalleryModel.brand.join(", ")))])])]):e._e(),t("div",{staticClass:"Main_SaveGalleryGuide"},[e.user&&!e.user.mod?t("span",[e._v(e._s(e.$t("p_templateWarning"))+" ")]):e._e(),t("span",[e._v(e._s(e.$t("m_checkOut"))+" ")]),t("a",{staticClass:"D_Link D_LinkUnder",attrs:{href:"/templateguide",target:"_blank"}},[e._v(e._s(e.$t("m_templateGuide")))])]),t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.saveToGalleryLoading,D_Button_Error:e.saveToGalleryError},attrs:{disabled:e.saveToGalleryLoading||e.saveToGalleryError},on:{click:function(s){return e.saveToGallery()}}},[e._v(e._s(e.user&&e.user.mod?e.$t("m_saveToLibrary"):e.$t("m_submitReview")))])])]),t("BaseDialog",{attrs:{active:e.optionsDialogComputed,transparent:!1,"max-width":"500px"},on:{close:function(s){return e.updateOptions()}}},[t("div",{staticClass:"Main_OptionsDialog"},[!e.needSave&&e.mode==="compare"?t("div",{staticClass:"Main_OptionsItem",staticStyle:{"margin-top":"5px"}},[t("div",{staticClass:"Main_OptionsLabel MainClearLabelBox"},[t("span",[e._v(e._s(e.$t("m_trackset")))]),t("div",{staticClass:"Main_ClearButtonsBox"},[t("button",{staticClass:"D_Button Main_OptionsButton Main_OptionsButtonClear",on:{click:function(s){return e.clearAllTracks()}}},[e._v(e._s(e.$t("m_clear")))]),t("button",{staticClass:"D_Button Main_OptionsButton Main_OptionsButtonClear",on:{click:function(s){return e.clearAllCars()}}},[e._v(e._s(e.$t("m_clearCars")))])])]),t("div",{staticClass:"Main_OptionsTrackset"},[e._l(e.tracksButtons,function(s,i){return t("div",{key:i,staticClass:"Main_CustomTrackItem"},[t("div",{staticClass:"Main_CustomTrackLeft"},[t("div",{staticClass:"Main_CustomTrackName"},[e._v(e._s(e.$t(`m_${s.name.toLowerCase()}`)))])]),t("div",{staticClass:"Main_CustomTrackRight",on:{click:function(r){return e.clickTracksetHandle(r,s)}}},[[t("BaseTrackType",{attrs:{circuit:s.list,isTrackSet:!0}})]],2)])}),t("button",{staticClass:"D_Button Main_OptionsButton Main_OptionsTracksetMore",on:{click:function(s){return e.openDialogTrackSearch()}}},[e._v(e._s(e.$t("m_more3dot")))])],2)]):e.user&&e.needSave&&e.mode==="compare"?t("div",{staticClass:"Main_OptionsSaveData"},[t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.saveLoading},on:{click:function(s){return e.saveAll()}}},[e._v(e._s(e.$t("m_save")))])]):e._e(),e.mode==="compare"?t("div",{staticClass:"Main_OptionsDual"},[t("div",{staticClass:"Main_OptionsItem"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v(e._s(e.$t("m_display")))]),t("div",{staticClass:"Main_OptionsButtons"},[t("button",{staticClass:"D_Button Main_OptionsButton",class:{D_ButtonActive:!e.inverted&&!e.compact},on:{click:function(s){return e.display("horizontal")}}},[t("i",{staticClass:"ticon-list Main_OptionsIcon",attrs:{"aria-hidden":"true"}})]),t("button",{staticClass:"D_Button Main_OptionsButton",class:{D_ButtonActive:!e.inverted&&e.compact},on:{click:function(s){return e.display("horizontal2")}}},[t("i",{staticClass:"ticon-list Main_OptionsIcon",staticStyle:{transform:"scaleX(0.5)"},attrs:{"aria-hidden":"true"}})]),t("button",{staticClass:"D_Button Main_OptionsButton",class:{D_ButtonActive:e.inverted},on:{click:function(s){return e.display("vertical")}}},[t("i",{staticClass:"ticon-list Main_OptionsIcon",staticStyle:{transform:"rotate(90deg)"},attrs:{"aria-hidden":"true"}})])])]),t("div",{staticClass:"Main_OptionsItem"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v(e._s(e.$t("m_colors")))]),t("div",{staticClass:"Main_OptionsButtons"},[t("button",{staticClass:"D_Button Main_OptionsButton",class:{D_ButtonActive:!e.fullColors},on:{click:function(s){return e.colorsChange("medals")}}},[t("div",{staticClass:"Main_cIconBox"},[t("div",{staticClass:"Main_cBall"}),t("div",{staticClass:"Main_cBall"}),t("div",{staticClass:"Main_cBall"})])]),t("button",{staticClass:"D_Button Main_OptionsButton",class:{D_ButtonActive:e.fullColors},on:{click:function(s){return e.colorsChange("full")}}},[t("div",{staticClass:"Main_cIconBox Main_cIconGradient"})])])])]):e._e(),e.mode==="compare"?t("div",{staticClass:"Main_OptionsMemory"},[t("div",{staticClass:"Main_MemoryLeft"},[t("div",{staticClass:"Main_MemoryLine"},[t("span",{staticClass:"Main_MemoryLabel"},[e._v(e._s(e.memory.find(s=>s!==null)?e.$t("m_load"):e.$t("m_memory")))]),e._l(e.memory,function(s,i){return i<9?t("button",{staticClass:"D_Button Main_OptionsButton",attrs:{disabled:s===null},on:{click:function(r){return e.loadMemory(i,r)}}},[t("span",[e._v(e._s(i+1))])]):e._e()})],2),t("div",{staticClass:"Main_MemoryLine"},[t("span",{staticClass:"Main_MemoryLabel"},[e._v(e._s(e.$t("m_save")))]),e._l(e.memory,function(s,i){return i<9?t("button",{staticClass:"D_Button Main_OptionsButton Main_MemorySave",on:{click:function(r){return e.saveMemory(i,r)}}},[t("span",{staticStyle:{"pointer-events":"none"}},[e._v(e._s(i+1))])]):e._e()})],2)]),t("div",{staticClass:"Main_MemoryRight",staticStyle:{"margin-right":"-15px"}},[t("button",{staticClass:"D_Button Main_MemorySave",on:{click:function(s){return e.openMemoryDialog()}}},[t("i",{staticClass:"ticon-internal",staticStyle:{"font-size":"22px"},attrs:{"aria-hidden":"true"}})])])]):e._e(),t("div",{staticClass:"Main_OptionsMain"},[t("div",{staticClass:"D_Center Main_OptionsFooterButtons"},[e.mode==="compare"?t("button",{staticClass:"D_Button Main_OptionsButton",on:{click:function(s){return e.openLibraryDialog()}}},[t("i",{staticClass:"ticon-dash D_ButtonIcon",staticStyle:{"font-size":"22px"},attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_library")))])]):e._e(),e.mode==="compare"?t("button",{staticClass:"D_Button Main_OptionsButton",on:{click:function(s){return e.openKingOfDialog()}}},[t("i",{staticClass:"ticon-star D_ButtonIcon",staticStyle:{"font-size":"22px"},attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_bestOf")))])]):e._e()])])])]),t("BaseDialog",{attrs:{active:e.campaignDialog,transparent:!1,lazy:!0,"max-width":"600px","min-width":"240px"},on:{close:function(s){e.campaignDialog=!1}}},[t("div",{staticStyle:{}},e._l(e.smartCampaign,function(s){return t("div",{staticClass:"Main_CampaignItem"},[t("div",{staticClass:"Main_CampaignName"},[e._v(e._s(`${s.name} ${s.imatch+1}`))]),t("div",{staticClass:"Main_CampaignMatch"},e._l(e.campaign[s.icity].matches[s.imatch].races,function(i){return t("div",{staticClass:"Main_CampaignRace",class:{Main_CampaignRaceOff:!s.includes.includes(i.name)}},[t("div",{staticClass:"Main_CampaignTrackName"},[e._v(e._s(e.$t("t_"+(e.tracksRepo.find(r=>r.id===i.name.substr(0,i.name.length-4))||{}).id)))]),t("div",{staticClass:"Main_CampaignTrackCond"},[t("BaseTypeName",{attrs:{type:i.name.substr(i.name.length-2),showDry:!1}})],1)])}),0)])}),0)]),t("BaseDialog",{attrs:{active:e.confirmDelete.dialog,transparent:!1,lazy:!0,zindex:"101","max-width":"420px","min-width":"240px"},on:{close:function(s){e.confirmDelete.dialog=!1}}},[t("div",{staticStyle:{}},[t("div",{staticClass:"Main_DialogMessage"},[e._v(e._s(e.confirmDelete.msg))]),t("div",{staticClass:"Main_DialogBottom"},[t("button",{staticClass:"D_Button Main_OptionsButton",on:{click:function(s){e.confirmDelete.dialog=!1}}},[t("span",[e._v(e._s(e.$t("m_cancel")))])]),t("button",{staticClass:"D_Button Main_OptionsButton",class:`${e.confirmDelete.loading?"D_Button_Loading ":""}${e.confirmDelete.classe}`,attrs:{disabled:e.confirmDelete.loading},on:{click:e.confirmDelete.action}},[t("span",[e._v(e._s(e.confirmDelete.actionLabel))])])])])]),t("BaseDialog",{staticClass:"Cg_SelectorDialog Cg_SelectorDialogListScroll1",attrs:{active:e.cgSeletorDialog,transparent:!0,lazy:!0,"max-width":"460px","min-width":"240px"},on:{close:function(s){e.cgSeletorDialog=!1}}},[t("div",{staticStyle:{}},[t("div",{staticClass:"Cg_SelectorDialogHeader"},[t("div",{staticClass:"Cg_SelectorDialogTitle Main_DialogTitle"},[e._v(e._s(e.$t("m_challenges")))]),e.user&&e.user.mod?t("div",{staticClass:"Cg_SelectorDialogRight"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",on:{click:function(s){return e.cgOpenNewCg()}}},[t("i",{staticClass:"ticon-plus_2 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_new")))])])]):e._e()]),t("div",{staticClass:"Main_SearchMid Cg_SelectorDialogMid"},[e._l(e.cgList,function(s){return[e.cgPermanentToggle&&s.index>90||e.cgLongToggle&&s.index>40&&s.index<90||s.index<30?t("BaseEventName",{staticStyle:{"min-height":"38px"},attrs:{item:s,maxLength:42},on:{click:function(i){return e.loadChallengeFull(s.date,void 0,i)},longTouch:function(i){return e.loadChallengeFull(s.date,void 0,{shiftKey:!0,ctrlKey:!0})}}}):e._e()]}),t("div",{staticClass:"Main_CgListDividerLayout"},[t("BaseSwitch",{attrs:{name:"cgPermanentToggle",label:e.$t("m_permanents"),horizontal:!0},on:{click:function(s){return e.afterTogglePermanents(".Cg_SelectorDialogListScroll1 .Cg_SelectorDialogMid")}},model:{value:e.cgPermanentToggle,callback:function(s){e.cgPermanentToggle=s},expression:"cgPermanentToggle"}})],1)],2)])]),t("BaseDialog",{staticClass:"Cg_SelectorDialog",attrs:{active:e.cgRoundSelectorDialog,transparent:!0,lazy:!0,"max-width":"520px","min-width":"240px"},on:{close:function(s){e.cgRoundSelectorDialog=!1}}},[t("div",{staticStyle:{}},[t("div",{staticClass:"Cg_SelectorDialogHeader"},[t("div",{staticClass:"Cg_SelectorDialogTitle Main_DialogTitle"},[e._v(e._s(e.$tc("m_round",2)))])]),t("div",{staticClass:"Main_SearchMid Cg_SelectorDialogMid"},[e._l(e.cg.rounds,function(s,i){return[t("button",{staticClass:"Main_SearchItem",staticStyle:{"padding-left":"15px","padding-right":"15px"},on:{click:function(r){return e.loadCgRound(e.cg.date,i)}}},[t("div",{staticClass:"Main_SearchItemRight"},[e._v(e._s(e.$tc("m_round",1))+" "+e._s(i+1+e.cgCurrentRoundSum))]),s.lastAnalyze?t("div",{staticClass:"Main_RoundDone"},[t("i",{staticClass:"ticon-star Main_RoundDoneIcon",attrs:{"aria-hidden":"true"}})]):s.toApprove&&s.toApprove.length>0?t("div",{staticClass:"Main_RoundDone"},[t("i",{staticClass:"ticon-star Main_RoundDoneIcon",staticStyle:{color:"unset"},attrs:{"aria-hidden":"true"}})]):s.preDoneMod?t("div",{staticClass:"Main_RoundDone"},[t("i",{staticClass:"ticon-star Main_RoundDoneIcon",staticStyle:{color:"red"},attrs:{"aria-hidden":"true"}})]):e._e(),s.creator&&s.lastAnalyze?t("span",{staticClass:"Main_RoundDoneCreator"},[t("span",{staticClass:"Main_SearchResultUserBy Cg_Creator"},[e._v(e._s(e.$t("m_by"))+" ")]),t("span",{staticClass:"Main_SearchResultUser Cg_Creator",class:`Main_UserT${e.highlightsUsers[s.creator]}`},[e._v(e._s(s.creator))])]):e._e(),s.icons?t("div",{staticClass:"Main_RoundIcons"},e._l(s.icons,function(r){return t("i",{staticClass:"TdIconCond",class:`tdicon-${r}`,attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"path1"}),t("span",{staticClass:"path2"}),t("span",{staticClass:"path3"}),t("span",{staticClass:"path4"})])}),0):e._e()])]})],2)])]),t("BaseDialog",{attrs:{active:e.cgNewDialog,transparent:!1,lazy:!0,"max-width":"340px","min-width":"240px"},on:{close:function(s){e.cgNewDialog=!1}}},[t("div",{staticClass:"Main_SaveGalleryDialog"},[t("div",{staticClass:"Main_SaveGalleryBox"},[t("BaseText",{staticClass:"BaseText_Big",attrs:{iid:"Cg_NewCgName",type:"normal",label:e.$t("m_challengeName"),placeholder:""},model:{value:e.cgNewModel.name,callback:function(s){e.$set(e.cgNewModel,"name",s)},expression:"cgNewModel.name"}})],1),t("BaseText",{staticStyle:{"max-width":"160px"},attrs:{type:"integer",label:e.$t("m_numberRounds"),placeholder:""},model:{value:e.cgNewModel.numberRounds,callback:function(s){e.$set(e.cgNewModel,"numberRounds",s)},expression:"cgNewModel.numberRounds"}}),t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.cgNewLoading,D_Button_Error:e.cgNewError},staticStyle:{"margin-top":"20px"},attrs:{disabled:e.cgNewLoading||e.cgNewError||e.cgNewModel.numberRounds<1||!e.cgNewModel.name},on:{click:function(s){return e.saveNewChallenge()}}},[e._v(e._s(e.$t("m_createNewCg")))])],1)]),t("BaseDialog",{attrs:{active:e.cgRqEditDialog,transparent:!1,lazy:!0,"max-width":"340px","min-width":"240px"},on:{close:function(s){return e.cgCloseRqEdit()}}},[t("div",{staticClass:"Main_SaveGalleryDialog"},[t("div",{staticClass:"Main_SaveGalleryBox"},[t("BaseText",{staticClass:"BaseText_Big",attrs:{iid:"Cg_EditRq",type:"integer",label:e.$t("m_rqLimit"),placeholder:""},model:{value:e.cgRqEditModel,callback:function(s){e.cgRqEditModel=s},expression:"cgRqEditModel"}})],1)])]),t("BaseDialog",{attrs:{active:e.cgPointsEditDialog,transparent:!1,lazy:!0,"max-width":"340px","min-width":"240px"},on:{close:function(s){return e.cgClosePointsEdit()}}},[t("div",{staticClass:"Main_SaveGalleryDialog"},[t("div",{staticClass:"Main_SaveGalleryBox"},[t("BaseText",{staticClass:"BaseText_Big",attrs:{iid:"Cg_EditPoints",type:"integer",label:e.$t("m_points"),placeholder:""},model:{value:e.cgPointsEditModel,callback:function(s){e.cgPointsEditModel=s},expression:"cgPointsEditModel"}})],1)])]),t("BaseDialog",{staticClass:"Cg_SelectorDialog",attrs:{active:e.eventSelectorDialog,transparent:!0,lazy:!0,"max-width":"500px","min-width":"240px"},on:{close:function(s){e.eventSelectorDialog=!1}}},[t("div",{staticStyle:{}},[t("div",{staticClass:"Cg_SelectorDialogHeader"},[t("div",{staticClass:"Cg_SelectorDialogTitle Main_DialogTitle"},[e._v(e._s(e.$t("m_events")))]),e.user&&e.user.mod?t("div",{staticClass:"Cg_SelectorDialogRight"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",on:{click:function(s){return e.eventOpenNewEvent()}}},[t("i",{staticClass:"ticon-plus_2 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_new")))])])]):e._e()]),t("div",{staticClass:"Main_SearchMid Cg_SelectorDialogMid"},[e.eventParsedList&&e.eventParsedList.length>0?[e._l(e.eventParsedList,function(s){return[t("BaseEventName",{attrs:{item:s,contentClass:"BaseEventName_Events"},on:{click:function(i){return e.eventPreviewParsed(s)}}})]}),t("div",{staticClass:"Main_EventListDividir"},[t("i",{staticClass:"ticon-line",attrs:{"aria-hidden":"true"}})])]:e._e(),e._l(e.eventList,function(s){return[t("BaseEventName",{attrs:{item:s,contentClass:"BaseEventName_Events"},on:{click:function(i){return e.loadEventFull(s.date,i)},longTouch:function(i){return e.loadEventFull(s.date,{shiftKey:!0,ctrlKey:!0})}}})]})],2)])]),t("BaseDialog",{attrs:{active:e.eventNewDialog,transparent:!1,lazy:!0,"max-width":"340px","min-width":"240px"},on:{close:function(s){e.eventNewDialog=!1}}},[t("div",{staticClass:"Main_SaveGalleryDialog"},[t("div",{staticClass:"Main_SaveGalleryBox"},[t("BaseText",{staticClass:"BaseText_Big",attrs:{iid:"Cg_NewEventName",type:"normal",label:e.$t("m_eventName"),placeholder:""},on:{paste:function(s){return e.eventNamePaste(s)}},model:{value:e.eventNewName,callback:function(s){e.eventNewName=s},expression:"eventNewName"}})],1),e.user&&e.user.mod&&e.whatTier&&e.whatTier<=3?t("div",{staticClass:"Main_SaveGalleryBoxCheck"},[t("div",{staticClass:"Main_SaveGalleryCheckLeft"},[t("BaseCheckBox",{model:{value:e.eventNewIsHidden,callback:function(s){e.eventNewIsHidden=s},expression:"eventNewIsHidden"}})],1),t("div",{staticClass:"Main_SaveGalleryCheckRight"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v(e._s(e.$t("m_hidden")))])])]):e._e(),t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.eventNewLoading,D_Button_Error:e.eventNewError},staticStyle:{"margin-top":"20px"},attrs:{disabled:e.eventNewLoading||e.eventNewError||!e.eventNewName},on:{click:function(s){return e.saveNewEvent()}}},[e._v(e._s(e.$t("m_createNewEvent")))])])]),t("BaseDialog",{attrs:{active:e.memoryRenameDialog,transparent:!1,lazy:!0,"max-width":"340px","min-width":"240px"},on:{close:function(s){return e.renameMemoryDialogClose()}}},[t("div",{staticClass:"Main_SaveGalleryDialog"},[t("div",{staticClass:"Main_SaveGalleryBox"},[t("BaseText",{staticClass:"BaseText_Big",attrs:{iid:"Memory_Name",type:"normal",label:e.$t("c_name"),placeholder:""},on:{enter:function(s){return e.renameMemoryDialogClose()}},model:{value:e.memoryRenameNewName,callback:function(s){e.memoryRenameNewName=s},expression:"memoryRenameNewName"}})],1)])]),t("BaseDialog",{attrs:{active:e.eventRqEditDialog,transparent:!1,lazy:!0,"max-width":"340px","min-width":"240px"},on:{close:function(s){return e.eventCloseRqEdit()}}},[t("div",{staticClass:"Main_SaveGalleryDialog"},[t("div",{staticClass:"Main_SaveGalleryBox"},[t("BaseText",{staticClass:"BaseText_Big",attrs:{iid:"Event_EditRq",type:"integer",label:e.$t("m_rqLimit"),placeholder:""},model:{value:e.eventRqEditModel,callback:function(s){e.eventRqEditModel=s},expression:"eventRqEditModel"}})],1)])]),t("BaseDialog",{attrs:{active:e.announcementDialog,transparent:!1,disableScroll:!0,lazy:!0,"max-width":"400px"},on:{close:function(s){e.announcementDialog=!1}}},[t("div",{staticClass:"Main_AnnouncementLayout"},[t("div",{staticClass:"Main_AnnouncementLogo"},[t("BaseLogoSpining")],1),t("div",{staticClass:"Main_AnnouncementBox"},[t("div",{staticClass:"Main_AnnouncementTitle"},[e._v("Contest #9")]),t("div",{staticClass:"Main_AnnouncementSubTitle"},[e._v("German Powerhaus")]),t("div",{staticClass:"Main_AnnouncementItem"},[e._v("Prizes:")]),t("div",{staticStyle:{display:"flex","justify-content":"center","text-align":"left",margin:"13px 0px 23px 0px","margin-right":"-2px"}},[t("div",[t("div",{staticClass:"Main_AnnouncementItem"},[e._v("• Up to "),t("BaseIconSvg",{staticStyle:{width:"1.3em",display:"inline-flex","vertical-align":"bottom"},attrs:{type:"gold",useMargin:!1}}),e._v(" 2500 in-game")],1),t("div",{staticClass:"Main_AnnouncementItem"},[e._v("• 1 month of TDR premium")]),t("div",{staticClass:"Main_AnnouncementItem"},[e._v("• 🥇 Medal aside of your name")])])]),t("div",{staticClass:"Main_AnnouncementMaybe"},[e._v("8th September ~ 21th September")]),t("BaseDiscordButton",{staticStyle:{"margin-top":"20px"},attrs:{link:"https://discord.com/channels/1008569974094311544/1104184336158302259"}})],1)])]),t("BaseDialog",{attrs:{active:e.eventCompDialog,transparent:!1,disableScroll:!0,lazy:!0,"max-width":"440px"},on:{close:function(s){return e.eventEditCompClose()}}},[e.eventComp&&e.eventCompIndex!==null?t("div",{staticClass:"Main_AdvancedDialogBox",staticStyle:{gap:"15px"}},[t("div",{staticClass:"Main_DialogTitle"},[e._v(e._s(e.$t("m_race"))+" "+e._s(e.eventCompIndex+1))]),t("div",{staticClass:"Main_DialogChipBox"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v(e._s(e.$t("m_meta")))]),t("div",{staticClass:"Main_FilterChipsFlex",staticStyle:{"justify-content":"flex-start"}},[e._l(e.eventCompTypes.metas,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseChip_Small",attrs:{label:e.$t(`c_${s.toLowerCase()}`),value:s},model:{value:e.eventComp[e.eventCompIndex].meta,callback:function(r){e.$set(e.eventComp[e.eventCompIndex],"meta",r)},expression:"eventComp[eventCompIndex].meta"}})]})],2)]),t("div",{staticClass:"Main_DialogChipBox"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v(e._s(e.$tc("c_tyre",2)))]),t("div",{staticClass:"Main_FilterChipsFlex",staticStyle:{"justify-content":"flex-start"}},[e._l(e.eventCompTypes.tyres,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseChip_Small",attrs:{label:e.$t(`c_${s.toLowerCase()}`),value:s},model:{value:e.eventComp[e.eventCompIndex].tyres,callback:function(r){e.$set(e.eventComp[e.eventCompIndex],"tyres",r)},expression:"eventComp[eventCompIndex].tyres"}})]})],2)]),t("div",{staticClass:"Main_DialogChipBox"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v(e._s(e.$tc("c_drive",2)))]),t("div",{staticClass:"Main_FilterChipsFlex",staticStyle:{"justify-content":"flex-start"}},[e._l(e.eventCompTypes.drives,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseChip_Small",attrs:{value:s},model:{value:e.eventComp[e.eventCompIndex].drives,callback:function(r){e.$set(e.eventComp[e.eventCompIndex],"drives",r)},expression:"eventComp[eventCompIndex].drives"}})]})],2)]),t("div",{staticClass:"Main_DialogChipBox"},[t("div",{staticClass:"Main_OptionsLabel"},[e._v(e._s(e.$tc("c_clearance",2)))]),t("div",{staticClass:"Main_FilterChipsFlex",staticStyle:{"justify-content":"flex-start"}},[e._l(e.eventCompTypes.clearances,function(s,i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop BaseChip_Small",attrs:{label:e.$t(`c_${s.toLowerCase()}`),value:s},model:{value:e.eventComp[e.eventCompIndex].clearance,callback:function(r){e.$set(e.eventComp[e.eventCompIndex],"clearance",r)},expression:"eventComp[eventCompIndex].clearance"}})]})],2)])]):e._e()]),t("BaseDialog",{attrs:{active:e.clubTracksetDialog,transparent:!0,lazy:!0,"max-width":"460px","min-width":"240px"},on:{close:function(s){e.clubTracksetDialog=!1}}},[t("div",{staticStyle:{}},[t("div",{staticClass:"Cg_SelectorDialogHeader"},[t("div",{staticClass:"Cg_SelectorDialogTitle Main_DialogTitle"},[e._v(e._s(e.$t("m_tracksets"))+" • "+e._s(e.clubDaySelected))]),e.user&&e.user.mod?t("div",{staticClass:"Cg_SelectorDialogRight"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",attrs:{disabled:e.clubTrackNeedSave||e.clubDayNeedSave},on:{click:function(s){return e.clubOpenNewTrackset()}}},[t("i",{staticClass:"ticon-plus_2 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_new")))])])]):e._e()]),t("div",{staticClass:"Main_SearchMid Cg_SelectorDialogMid"},[e._l(e.clubTracksGroups,function(s){return[t("BaseButtonTouch",{staticClass:"Main_SearchItem",staticStyle:{"padding-left":"15px","padding-right":"15px"},on:{click:function(i){return e.clubTracksetSelectorClick(s.date,i)},longTouch:function(i){return e.clubTracksetSelectorClick(s.date,{shiftKey:!0,ctrlKey:!0})}}},[t("BaseCheckBox",{staticStyle:{"margin-right":"10px"},attrs:{value:e.clubTracksGroupsActive.find(i=>i.date===s.date)}}),t("div",{staticClass:"Main_SearchItemRight Main_SearchItemList"},[t("span",[e._v(e._s(s.name))]),s.icons&&s.icons.length>0?e._l(s.icons,function(i){return t("span",[t("i",{staticClass:"TdIconCond",class:`tdicon-${i}`,attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"path1"}),t("span",{staticClass:"path2"}),t("span",{staticClass:"path3"}),t("span",{staticClass:"path4"})])])}):e._e()],2)],1)]})],2)])]),t("BaseDialog",{attrs:{active:e.clubReqsDialog,transparent:!0,lazy:!0,"max-width":"460px","min-width":"240px"},on:{close:function(s){e.clubReqsDialog=!1}}},[t("div",{staticStyle:{}},[t("div",{staticClass:"Cg_SelectorDialogHeader"},[t("div",{staticClass:"Cg_SelectorDialogTitle Main_DialogTitle"},[e._v(e._s(e.$t("m_reqs"))+" • "+e._s(e.clubDaySelected))]),e.user&&e.user.mod?t("div",{staticClass:"Cg_SelectorDialogRight"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",attrs:{disabled:e.clubTrackNeedSave||e.clubDayNeedSave},on:{click:function(s){return e.clubOpenNewReqs()}}},[t("i",{staticClass:"ticon-plus_2 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_new")))])])]):e._e()]),t("div",{staticClass:"Main_SearchMid Cg_SelectorDialogMid"},[e._l(e.clubReqGroups,function(s){return[t("BaseButtonTouch",{staticClass:"Main_SearchItem",staticStyle:{"padding-left":"15px"},on:{click:function(i){return e.clubReqsSelectorClick(s.date,i)},longTouch:function(i){return e.clubReqsSelectorClick(s.date,{shiftKey:!0,ctrlKey:!0})}}},[t("BaseCheckBox",{staticStyle:{"margin-right":"10px"},attrs:{value:e.clubReqGroupsActive.find(i=>i.date===s.date)}}),t("div",{staticClass:"Main_SearchItemRight"},[e._v(e._s(s.name))])],1)]})],2)])]),t("BaseDialog",{attrs:{active:e.clubNewTracksetDialog,transparent:!1,lazy:!0,"max-width":"340px","min-width":"240px"},on:{close:function(s){e.clubNewTracksetDialog=!1}}},[t("div",{staticClass:"Main_SaveGalleryDialog"},[t("div",{staticClass:"Main_SaveGalleryBox"},[t("BaseText",{staticClass:"BaseText_Big",attrs:{iid:"Club_NewTracksetName",type:"normal",label:e.$t("m_tracksetName"),placeholder:""},model:{value:e.clubNewTracksetName,callback:function(s){e.clubNewTracksetName=s},expression:"clubNewTracksetName"}})],1),t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.clubNewTracksetLoading,D_Button_Error:e.clubNewTracksetError},staticStyle:{"margin-top":"20px"},attrs:{disabled:e.clubNewTracksetLoading||e.clubNewTracksetError||!e.clubNewTracksetName},on:{click:function(s){return e.clubSaveNewTrackset()}}},[e._v(e._s(e.$t("m_createNewTrackset")))])])]),t("BaseDialog",{attrs:{active:e.clubNewReqsDialog,transparent:!1,lazy:!0,"max-width":"340px","min-width":"240px"},on:{close:function(s){e.clubNewReqsDialog=!1}}},[t("div",{staticClass:"Main_SaveGalleryDialog"},[t("div",{staticClass:"Main_SaveGalleryBox"},[t("BaseText",{staticClass:"BaseText_Big",attrs:{iid:"Club_NewReqsName",type:"normal",label:e.$t("m_reqsName"),placeholder:""},model:{value:e.clubNewReqsName,callback:function(s){e.clubNewReqsName=s},expression:"clubNewReqsName"}})],1),t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.clubNewReqsLoading,D_Button_Error:e.clubNewReqsError},staticStyle:{"margin-top":"20px"},attrs:{disabled:e.clubNewReqsLoading||e.clubNewReqsError||!e.clubNewReqsName},on:{click:function(s){return e.clubSaveNewReqs()}}},[e._v(e._s(e.$t("m_createNewReqs")))])])]),t("BaseDialog",{attrs:{active:e.clubDayConfigDialog,transparent:!0,lazy:!0,"max-width":"460px","min-width":"240px"},on:{close:function(s){e.clubDayConfigDialog=!1}}},[t("div",{staticStyle:{}},[t("div",{staticClass:"Cg_SelectorDialogHeader"},[t("div",{staticClass:"Cg_SelectorDialogTitle Main_DialogTitle"},[e._v(e._s(e.$t("m_daySelector")))]),e.user&&e.user.mod&&(!e.clubDays[e.clubServerDateISO]||e.user.username==="TiagoXavi")?t("div",{staticClass:"Cg_SelectorDialogRight"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.clubLoadingAny},attrs:{disabled:e.clubLoadingAny},on:{click:function(s){return e.clubNewDayConfig(e.clubServerNextDateAvailableISO)}}},[t("i",{staticClass:"ticon-plus_2 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.clubServerNextDateAvailableISO))])])]):e._e()]),t("div",{staticClass:"Main_SearchMid Cg_SelectorDialogMid"},[e._l(e.clubArrayClubDays,function(s,i){return[t("BaseEventName",{class:{Clubs_DaySelectorActive:s.date===e.clubDaySelected},attrs:{item:s,customName:`${s.date}${s.date===e.clubServerDateISO?` (${e.$t("m_current")})`:""}`},on:{click:function(r){return e.clubsLoadDay(s.date,r)},longTouch:function(r){return e.clubsLoadDay(s.date,{shiftKey:!0,ctrlKey:!0})}}})]})],2)])])],1)},je=[function(){var a=this,e=a._self._c;return e("div",{staticClass:"Main_BacktopBox"},[e("div",{staticClass:"Main_Backtop"})])},function(){var a=this,e=a._self._c;return e("span",{staticClass:"Cg_RqRq"},[e("i",{staticClass:"tdicon-rq",attrs:{"aria-hidden":"true"}})])},function(){var a=this,e=a._self._c;return e("div",{staticClass:"Cg_Offline"},[e("i",{staticClass:"ticon-line Main_SearchEmptyAddIcon",attrs:{"aria-hidden":"true"}})])},function(){var a=this,e=a._self._c;return e("span",{staticClass:"Cg_RqRq"},[e("i",{staticClass:"tdicon-rq",attrs:{"aria-hidden":"true"}})])}],Xe=v(He,We,je,!1,null,null);const gt=Xe.exports;export{gt as default};
