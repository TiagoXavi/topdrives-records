import{a as u}from"./index-C8gjSc4W.js";import{n as h,G as v,A as m,B as g,I as C,J as p,a as f,k as D,d as T,p as y,b as k,r as S,f as B}from"./components-DpxtCXPw.js";const M="/assets/tdr_veteran.png",w="/assets/tdr_offer.png",R="/assets/tdr_newspaper.png",b={name:"MainTimeline",components:{BaseCard:S,BaseText:k,BaseFilterDescription:y,BaseDialog:T,BaseChip:D,BaseFilterDialog:f,BaseDatePicker:p,BaseEventTrackbox:C,BaseSearchTrackDialog:g,BaseGameTag:m,BaseBrakeDialog:v},props:{test:{type:Boolean,default:!1}},data(){return{Vue,all_cars:u,user:null,unsubscribe:null,loading:!1,newLoading:!1,timeline:[],resolvedRids:{},lastestLoading:!1,detailDialog:!1,detailObj:{},screen:"normal",animation:!1,newTools:!1,searchCarDialog:!1,ti:{},newLinkNameModel:"",newLinkUrlModel:"",imageUploadDialog:!1,imageUploadModel:null,imageUploadLoading:!1,imageUploadStatus:"",types:["Tri-Series","Collection Series","Veteran Challenge","GT Series","Extraordinary Event","Extraordinary Challenge","Game Update","Game News","Community News","Offers","Other"],typesDialog:!1,mainFilter:{},mainFilterDescResolved:[],mainFilterDialog:!1,addCarSelectorIndex:-1,eventRequirementsDialog:!1,evIx:-1,eventGlobalUseWhatFilter:0,eventTracksetSelected:0,eventRaceSelected:0,customTrackDialog:!1,tracksRepo:B,deleteEventIndex:-1,cancelCreate:!1,changeTypeValueConfirm:null,deleteLinkIndex:-1,linkSelectedIndex:-1,linkLoadingIndex:-1,tuneDialogCar:{},tuneDialogActive:!1,lastRidClick:null,imageDialog:!1,imageDialogUrl:"",colors:["118, 242, 115","28, 204, 255","255, 246, 43","255, 53, 56","140, 92, 255","255, 175, 23","224, 60, 211","0, 45, 255"],confirmDelete:{dialog:!1,msg:"Confirm delete?",actionLabel:"Delete",action:null,loading:!1,classe:""},searchParams:{},filterBySpecDialog:!1,filterByRequirementsDialog:!1,filterByCarFilter:{},eventToCopy:null,searchParamsEmptyString:"",filterDayDialog:!1,filterTempString:"",showNextPage:!1,searchPage:0,pageSize:200}},watch:{screen:function(){this.screen==="new"?(window.onbeforeunload=function(){return"Are you sure you want to leave?"},this.$store.commit("BEFOREUNLOAD_TOUCH")):(window.onbeforeunload=null,this.$store.commit("BEFOREUNLOAD_TOUCH"))}},beforeMount(){this.resetFilter(),this.searchParamsEmptyString=JSON.stringify(this.searchParams),this.searchTimeline(),this.user=this.$store.state.user},mounted(){let a=this;a.unsubscribe=a.$store.subscribe(e=>{e.type=="CHANGE_USER"&&(a.user=e.payload.user),e.type=="LOGOUT"&&(a.user=null)}),this.$route.params&&this.$route.params.event&&(this.eventToCopy=JSON.parse(JSON.stringify(this.$route.params.event)))},beforeDestroy(){this.unsubscribe()},computed:{eventFilter(){return this.evIx===-1?{filter:{},filter2:{},filter3:{}}:{filter:this.ti.events[this.evIx].filter,filter2:this.ti.events[this.evIx].filter2,filter3:this.ti.events[this.evIx].filter3}},readyToSave(){return!(!this.ti.type||!this.ti.name||!this.ti.dayStart||(this.ti.type==="Tri-Series"||this.ti.type==="Veteran Challenge"||this.ti.type==="GT Series")&&this.ti.p_rid.length===0||this.ti.p_rid.length!==1&&!this.ti.color&&this.ti.type!=="Veteran Challenge"&&this.ti.type!=="Game News"&&this.ti.type!=="Community News"&&this.ti.type!=="Offers")}},methods:{resetTi(){this.ti={name:"",type:"",sort:"",links:[],p_rid:[],events:[],dayStart:"",dayEnd:"",filter:{},description:"",color:""},this.addCarSelectorIndex=-1,this.evIx=-1,this.eventGlobalUseWhatFilter=0,this.eventTracksetSelected=0,this.eventRaceSelected=0,this.deleteEventIndex=-1,this.deleteLinkIndex=-1,this.linkSelectedIndex=-1,this.linkLoadingIndex=-1},resetFilter(){this.searchParams={filter:{},requirements:{},input:"",dayStart:"",dayEnd:"",types:[],rids:[]}},getNewEvent(){return{name:"",filter:{},eventUseWhatFilter:0,rids:[],trackset:[],rqLimit:500}},getNewLink(){return{text:"",url:""}},previousPage(){this.searchPage--,this.searchTimeline(!1,!0)},nextPage(){this.searchPage++,this.searchTimeline(!0,!0)},searchTimeline(a,e){this.loading=!0,e||(this.searchPage=0),axios.post(Vue.preUrlCharlie+"/searchTimeline",{...this.searchParams,page:this.searchPage}).then(t=>{this.loading=!1,this.showNextPage=!1,(t.data.length>0||this.searchPage===0)&&(a&&window.scrollTo({top:((document.querySelector(".MainTimeline_Body")||{}).offsetTop||0)-20,behavior:"smooth"}),t.data.length===this.pageSize&&(this.showNextPage=!0),this.timeline=this.resolveNewEntrys(t.data))}).catch(t=>{this.loading=!1,console.log(t),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:t,type:"error"})})},updateBackendTimeline(a,e){this.loading=!0,axios.post(Vue.preUrlCharlie+"/updateBackendTimeline",{sort:a,isDelete:e}).then(t=>{this.searchTimeline()}).catch(t=>{this.loading=!1,console.log(t),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:t,type:"error"})})},redownloadBackend(){this.loading=!0,axios.get(Vue.preUrlCharlie+"/redownloadBackendTimeline").then(a=>{}).catch(a=>{this.loading=!1,console.log(a),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:a,type:"error"})})},resolveNewEntrys(a){return a.map(e=>{Array.isArray(e.p_rid)&&e.p_rid.map(t=>{this.resolveRid(t)})}),a},resolveRid(a){if(!this.resolvedRids[a]){let e=this.all_cars.find(t=>t.rid===a);e&&(e=JSON.parse(JSON.stringify(e)),e.color=Vue.resolveClass(e.rq,e.class,"color"),e.colorRgb=Vue.resolveClass(e.rq,e.class,"color",!0),e.photo=Vue.carPhoto(e),this.resolvedRids[a]=e)}},openDetailDialog(a,e){this.detailDialog=!0,this.detailObj=a;let t=document.querySelector("#MainTimeline_DetailDialog .BaseDialog_Box");t&&setTimeout(()=>{t.scrollTo({top:0})},1),this.detailObj.events&&this.detailObj.events.length>0&&this.detailObj.events.map((i,s)=>{if(Vue.set(i,"eventUseWhatFilter",0),i.hideTrackset&&(i.hideTrackset=!1),i.rids&&i.rids.length>0&&i.rids.map(l=>{this.resolveRid(l)}),i.trackset&&i.trackset.length>0,(!this.user||!this.user.mod)&&this.detailObj.type==="Tri-Series"&&i.name.toLocaleLowerCase().includes("finals")){let l=new Date(`${this.detailObj.dayStart}T21:00:00`);l.setDate(l.getDate()+4),new Date<l&&Vue.set(i,"hideTrackset",!0)}this.eventResolveTracksetEventParam(i)}),console.log(this.detailObj)},askDeleteItem(a){let e=this,t=function(){e.saveTimelineItem(a,!0)};this.confirmDelete={dialog:!0,msg:`Delete item '${a.name}'?`,actionLabel:"Delete",action:t,loading:!1,classe:"D_ButtonRed"}},editItem(a){this.detailDialog=!1,this.resetTi(),this.ti={...this.ti,...JSON.parse(JSON.stringify(a))},window.scrollTo({top:0}),this.newTools=!0,this.animation=!0,this.screen="_",this.$nextTick().then(()=>{this.screen="new"})},openCreateEvent(a){if(a&&a.ctrlKey&&a.shiftKey&&this.user&&this.user.username==="TiagoXavi"){this.redownloadBackend();return}this.resetTi(),this.newTools=!0,this.animation=!0,this.screen="_",this.$nextTick().then(()=>{this.screen="new"})},cancelCreateEvent(){this.cancelCreate?(this.cancelCreate=!1,this.closeCreateEvent()):(this.cancelCreate=!0,setTimeout(()=>{this.cancelCreate=!1},1e3))},closeCreateEvent(){this.screen="_",this.resetTi(),this.$nextTick().then(()=>{this.screen="normal"})},changeType(a){this.ti.type!==a&&(this.changeTypeValueConfirm===a||!this.ti.type?(this.changeTypeValueConfirm=null,this.resetTi(),this.ti.type=a,this.ti.type==="Veteran Challenge"&&(this.addCarNew({rid:"Porsche_935_'Moby_Dick'_1978"}),this.ti.name="Veteran Challenge: ")):(this.changeTypeValueConfirm=a,setTimeout(()=>{this.changeTypeValueConfirm=null},1e3)))},addCarNew(a){if(this.addCarSelectorIndex===-2){this.searchParams.rids?this.searchParams.rids.includes(a.rid)?this.searchParams.rids=this.searchParams.rids.filter(s=>s!==a.rid):this.searchParams.rids.push(a.rid):Vue.set(this.searchParams,"rids",[a.rid]),console.log(this.searchParams.rids);return}let e=this.ti.p_rid;if(this.addCarSelectorIndex>-1&&(e=this.ti.events[this.addCarSelectorIndex].rids),e.find(s=>s===a.rid))return;e.push(a.rid);let i=this.all_cars.find(s=>s.rid===a.rid);i&&(i=JSON.parse(JSON.stringify(i)),i.color=Vue.resolveClass(i.rq,i.class,"color"),i.colorRgb=Vue.resolveClass(i.rq,i.class,"color",!0),i.count=1,i.photo=Vue.carPhoto(i),this.resolvedRids[a.rid]=i),!(this.addCarSelectorIndex>-1)&&(this.ti.type==="Veteran Challenge"&&e.length>=3&&(this.searchCarDialog=!1),(this.ti.type==="Tri-Series"||this.ti.type==="GT Series")&&e.length>=1&&(this.searchCarDialog=!1,this.ti.name=i.name))},pushNewEvent(a){let e=this.getNewEvent();this.ti.type==="Tri-Series"&&(e.name=this.ti.name,this.ti.events.length===0&&(e.name+=" Finals"),this.ti.events.length===1&&(e.name+=" Prelims"),this.ti.events.length===2&&(e.name+=" Quals")),a&&this.eventToCopy&&(e.name=this.eventToCopy.name,e.resolvedTrackset=this.eventToCopy.resolvedTrackset,e.trackset=this.eventToCopy.trackset,e.rqLimit=this.eventToCopy.rqLimit,e.filter=this.eventToCopy.filter,this.eventToCopy.filter2&&(e.filter2=this.eventToCopy.filter2),this.eventToCopy.filter3&&(e.filter3=this.eventToCopy.filter3)),this.ti.events.push(e)},replaceTracksetsByPaste(a){this.ti.events[a].name||(this.ti.events[a].name=this.eventToCopy.name),Vue.set(this.ti.events[a],"resolvedTrackset",JSON.parse(JSON.stringify(this.eventToCopy.resolvedTrackset))),Vue.set(this.ti.events[a],"trackset",JSON.parse(JSON.stringify(this.eventToCopy.trackset))),this.ti.events[a].rqLimit=this.eventToCopy.rqLimit,this.ti.events[a].filter=this.eventToCopy.filter,this.eventToCopy.filter2&&(this.ti.events[a].filter2=this.eventToCopy.filter2),this.eventToCopy.filter3&&(this.ti.events[a].filter3=this.eventToCopy.filter3)},openMainFitlerDialog(){this.mainFilterDialog=!0},updateFilterMain(a){this.ti.filter=a,this.mainFilterDialog=!1},carListMainRightClick(a,e,t){let i=this.ti.p_rid.indexOf(a);i===0||i===-1||this.ti.p_rid.splice(i-1,0,this.ti.p_rid.splice(i,1)[0])},carListMainDeleteClick(a,e,t){this.lastRidClick===a?(this.lastRidClick=null,e==="main"&&(this.ti.p_rid=this.ti.p_rid.filter(i=>i!==a)),e==="event"&&(this.ti.events[t].rids=this.ti.events[t].rids.filter(i=>i!==a))):(this.lastRidClick=a,setTimeout(()=>{this.lastRidClick=null},1e3))},prepareAddCarDialog(a){this.addCarSelectorIndex=a,a===-2&&(this.filterTempString=JSON.stringify(this.searchParams)),this.searchCarDialog=!0},onCloseSearchCarDialog(){this.addCarSelectorIndex===-2&&this.filterTempString!==JSON.stringify(this.searchParams)&&this.searchTimeline()},openEventRequirementsDialog(a,e){this.evIx=a,this.eventRequirementsDialog=!0,this.eventGlobalUseWhatFilter=e},eventUpdateRequirements(a,e=0){},eventClearFilterUpdate(a,e=0){let t="filter";e&&(t=t+(e+1)),this.ti.events[this.evIx][t]=a,this.eventRequirementsDialog=!1},eventFilterAddDual(){if(!this.ti.events[this.evIx].filter2){Vue.set(this.ti.events[this.evIx],"filter2",{});return}if(!this.ti.events[this.evIx].filter3){Vue.set(this.ti.events[this.evIx],"filter3",{});return}},eventRenameFilter(a,e){let t=a.n;Vue.set(this.ti.events[e][`filter${t+1>1?t+1:""}`],"name",a.newName)},eventRetrieveCurrentClearedFilter(a){let e="filter";return a&&(e=e+(a+1)),this.ti.events[this.evIx][e]},eventAddTrackset(){this.ti.events[this.evIx].trackset.push([null,null,null,null,null]),this.eventResolveTrackset()},eventResolveTrackset(){let a=JSON.parse(JSON.stringify(this.ti.events[this.evIx].trackset));a=a.map(e=>e.map(t=>t===null?null:this.resolveTrack({track:t},!1,!1))),Vue.set(this.ti.events[this.evIx],"resolvedTrackset",a)},eventResolveTracksetEventParam(a,e){let t=JSON.parse(JSON.stringify(a.trackset));t=t.map(i=>i.map(s=>s===null?null:this.resolveTrack({track:s},!1,!1))),Vue.set(a,"resolvedTrackset",t)},resolveTrack(a,e=!0,t=!0){if(a.track)return this.validateTracks([a.track])},validateTracks(a,e=!1){let t=[];return a.map(i=>{this.tracksRepo.find(s=>i.slice(0,-4)!==s.id?!1:s.types.find(l=>{if(i===`${s.id}_a${l}`)return e&&s.group?(groupName=s.group,groupType=l):t.push({name:s.name,id:s.id,surface:l[0],cond:l[1],code:`${s.id}_a${l}`}),!0}))}),t},eventTrackNewIndex(a){a.current,a.new;let e=this.ti.events[this.evIx].trackset[a.itrackset];for(;a.current<0;)a.current+=e.length;for(;a.new<0;)a.new=0;a.new>e.length&&(a.new=e.length),e.splice(a.new,0,e.splice(a.current,1)[0]),this.eventResolveTrackset()},eventMoveTrackRight(a,e){let t=this.ti.events[this.evIx].trackset[a][e+1];Vue.set(this.ti.events[this.evIx].trackset[a],[e+1],this.ti.events[this.evIx].trackset[a][e]),Vue.set(this.ti.events[this.evIx].trackset[a],[e],t),this.eventResolveTrackset()},eventMoveTrackset(a="up",e){this.isEvents;var t=0;if(a==="up"){if(e===0)return;t=e-1}if(a==="down"){if(e===this.ti.events[this.evIx].trackset.length-1)return;t=e+1}var i=this.ti.events[this.evIx].trackset[e];this.ti.events[this.evIx].trackset.splice(e,1),this.ti.events[this.evIx].trackset.splice(t,0,i),this.eventResolveTrackset()},eventDeleteTrackset(a){this.ti.events[this.evIx].trackset=this.ti.events[this.evIx].trackset.filter((e,t)=>t!==a),this.eventResolveTrackset()},openDialogTrackSearch(a=!0,e){this.customTrackDialog=!0},closeDialogTrackSearch(){this.customTrackDialog=!1},toggleTrack(a,e={}){Vue.set(this.ti.events[this.evIx].trackset[this.eventTracksetSelected],this.eventRaceSelected,a),this.eventResolveTrackset(),this.closeDialogTrackSearch()},deleteEventClick(a){this.evIx=-1,this.deleteEventIndex===a?(this.deleteEventIndex=-1,this.ti.events=this.ti.events.filter((e,t)=>t!==a)):(this.deleteEventIndex=a,setTimeout(()=>{this.deleteEventIndex=-1},1e3))},moveEventUp(a){this.evIx=-1;let e=this.ti.events[a];this.ti.events.splice(a,1),this.ti.events.splice(a-1,0,e)},deleteLinkClick(a){this.deleteLinkIndex===a?(this.deleteLinkIndex=-1,this.ti.links[a].url&&this.ti.links[a].url.includes("tdrimages.s3"),this.ti.links=this.ti.links.filter((e,t)=>t!==a)):(this.deleteLinkIndex=a,setTimeout(()=>{this.deleteLinkIndex=-1},1e3))},async pasteLink(a){const e=await navigator.clipboard.readText(),t=/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/gi,i=new RegExp(t);e.match(i)&&(this.ti.links[a].url=e)},interceptLinkPaste(a,e){this.ti.links[e].url||a.clipboardData.files.length&&(this.linkSelectedIndex=e,console.log("size before:",a.clipboardData.files[0].size),this.convertToJPG(a.clipboardData.files[0]))},convertToJPG(a){let e=this;var t=new Image;t.onload=(i,s,l)=>{URL.revokeObjectURL(i.target.src);var n=document.createElement("canvas"),c=n.getContext("2d");let r=i.target.width,o=i.target.height;console.log("Image size",i.target.width,i.target.height),r>2e3&&(o=Math.round(o*(2e3/r)),r=2e3,console.log("New size",r,o)),o>2e3&&(r=Math.round(r*(2e3/o)),o=2e3,console.log("New size",r,o)),n.width=r,n.height=o,c.fillStyle="#292929",c.fillRect(0,0,r,o),c.drawImage(i.target,0,0,r,o),n.toBlob(function(d){var _=new File([d],"(to upload)",{type:"image/jpeg"});e.finishUploadImage(null,null,_)},"image/jpeg",.85)},t.src=URL.createObjectURL(a)},initUploadImage(a){this.linkSelectedIndex=a;let e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg"),e.addEventListener("change",this.inputFileToConvert,!1),e.click()},inputFileToConvert(a){console.log("size before:",a.target.files[0].size),this.convertToJPG(a.target.files[0])},finishUploadImage(a,e,t){var i;if(a&&(i=a.target.files[0]),e&&(i=e.clipboardData.files[0]),t&&(i=t),!i)return;if(console.log("size after:",i.size/1e6,"MB"),i.size>1*1e3*1e3){this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:"File larger than 1 MB",type:"error"});return}i.type;const s=URL.createObjectURL(i),l=new FileReader;l.readAsDataURL(i),l.onload=n=>{Vue.set(this.ti.links[this.linkSelectedIndex],"fileToUpload",n.target.result)},Vue.set(this.ti.links[this.linkSelectedIndex],"url",i.name),Vue.set(this.ti.links[this.linkSelectedIndex],"localUrl",s)},setLinkAsCover(a){this.ti.links.map((e,t)=>{t===a?this.ti.links[t].cover?(Vue.set(this.ti.links[t],"cover",!1),delete this.ti.links[t].cover):Vue.set(this.ti.links[t],"cover",!0):(Vue.set(this.ti.links[t],"cover",!1),delete this.ti.links[t].cover)})},saveTimelineItem(a,e){let t;a?(t=a,e&&(t.isDelete=!0)):t=this.ti,this.newLoading=!0,axios.post(Vue.preUrl+"/updateTimeline",t).then(i=>{if(this.newLoading=!1,this.confirmDelete.dialog=!1,this.detailDialog=!1,this.$store.commit("DEFINE_SNACK",{active:!0,correct:!0,text:this.$t("m_saveSuccess")}),window.scrollTo({top:((document.querySelector(".MainTimeline_Body")||{}).offsetTop||0)-20,behavior:"smooth"}),!e){let s=new Date(`${t.dayStart}T00:00:00`),l=new Date(`${t.dayStart}T01:00:00`);s.setDate(s.getDate()-4),l.setDate(l.getDate()+4),this.searchParams.dayStart=s.toISOString().slice(0,10),this.searchParams.dayEnd=l.toISOString().slice(0,10)}this.updateBackendTimeline(i.data,e),this.closeCreateEvent()}).catch(i=>{this.newLoading=!1,console.log(i),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:i,type:"error"})})},openDetailCarDialog(a){this.tuneDialogCar=JSON.parse(JSON.stringify(this.resolvedRids[a])),this.tuneDialogCar.selectedTune="000",this.tuneDialogActive=!0},closeTune(){this.tuneDialogActive=!1},resolveStat(a,e,t=null){return Vue.resolveStat(a,e,t)},getLastest(){this.lastestLoading=!0,axios.get(Vue.preUrl+"/lastest").then(a=>{this.lastestLoading=!1;let e=a.data.find(i=>i.id==="newCars").value;if(e&&e.length>0){let i=this.all_cars.map(s=>s.rid);e.map(s=>{s.photoId&&s.rq&&s.onlyName&&s.brand&&s.country&&s.year&&s.clearance&&s.topSpeed&&s.hand&&s.drive&&s.tyres&&s.weight&&s.tags&&s.bodyTypes&&s.fuel&&s.seats&&s.engine&&(i.includes(s.rid)||this.all_cars.push(s))}),this.all_cars.sort((s,l)=>l.rq-s.rq)}let t=a.data.find(i=>i.id==="mra").value;this.all_cars.map(i=>{Vue.set(i,"mra",t[i.rid]||i.mra)})}).catch(a=>{this.lastestLoading=!1,console.log(a)})},openPicture(a){this.imageDialog=!0,this.imageDialogUrl=a.url},afterLoadImg(a,e=!1){let t=e?1:1.71;a.target.naturalWidth/a.target.naturalHeight>t?a.target.classList.add("MainTimeline_Img_Landscape"):a.target.classList.remove("MainTimeline_Img_Landscape")},clearAllTimelineFilters(){this.resetFilter(),this.searchTimeline()},openFilterBySpec(){this.filterTempString=JSON.stringify(this.searchParams),this.filterBySpecDialog=!0},updateFilterBySpec(a){this.filterBySpecDialog=!1,this.searchParams.filter=a,this.filterTempString!==JSON.stringify(this.searchParams)&&this.searchTimeline()},openFilterByRequirements(){this.filterTempString=JSON.stringify(this.searchParams),this.filterByRequirementsDialog=!0},updateFilterByRequirements(a){this.filterByRequirementsDialog=!1,this.searchParams.requirements=a,this.filterTempString!==JSON.stringify(this.searchParams)&&this.searchTimeline()},openTypeMainFilter(){this.filterTempString=JSON.stringify(this.searchParams),this.typesDialog=!0},closeTypeMainFilter(){this.typesDialog=!1,this.filterTempString!==JSON.stringify(this.searchParams)&&this.searchTimeline()},searchByText(){this.searchTimeline()},openFilterDayDialog(){this.filterTempString=JSON.stringify(this.searchParams),this.filterDayDialog=!0},closeFilterDayDialog(){this.filterDayDialog=!1,this.searchParams.dayStart||(this.searchParams.dayEnd=""),this.filterTempString!==JSON.stringify(this.searchParams)&&this.searchTimeline()},clearDateOnly(){this.searchParams.dayStart="",this.searchParams.dayEnd="",this.closeFilterDayDialog()},exportToEvents(a){}}};var x=function(){var e=this,t=e._self._c;return t("div",{staticClass:"MainTimeline_Root"},[e.screen==="normal"?t("div",{staticClass:"MainTimeline_Layout",class:{MainTimeline_InitAnimation:e.animation}},[t("div",{staticClass:"MainTimeline_Header MainTimeline_W800"},[t("div",{staticClass:"MainTimeline_HeaderTop"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchParams.input,expression:"searchParams.input"}],staticClass:"D_SearchInput data-hj-allow",attrs:{placeholder:e.$t("m_search"),type:"search",autocomplete:"off"},domProps:{value:e.searchParams.input},on:{keyup:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.searchByText()},input:function(i){i.target.composing||e.$set(e.searchParams,"input",i.target.value)}}}),t("div",{staticClass:"MainTimeline_HeaderMagnifierButtonBox"},[t("button",{staticClass:"D_Button MainTimeline_HeaderMagnifierButton",attrs:{disabled:e.loading||e.searchParamsEmptyString===JSON.stringify(e.searchParams)},on:{click:function(i){return e.searchByText()}}},[t("i",{staticClass:"ticon-search_big",attrs:{"aria-hidden":"true"}})])])]),t("div",{staticClass:"MainTimeline_HeaderBottomGroup"},[t("div",{staticClass:"MainTimeline_HeaderBottom"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.loading},staticStyle:{position:"relative"},on:{click:function(i){return e.openFilterDayDialog()}}},[t("i",{staticClass:"ticon-filter D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_date")))]),e.searchParams.dayStart?t("div",{staticClass:"D_ButtonNote"},[e._v(e._s(+!!e.searchParams.dayStart+ +!!e.searchParams.dayEnd))]):e._e()]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.loading},staticStyle:{position:"relative"},on:{click:function(i){return e.openTypeMainFilter()}}},[t("i",{staticClass:"ticon-filter D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_type")))]),e.searchParams.types&&e.searchParams.types.length?t("div",{staticClass:"D_ButtonNote"},[e._v(e._s(e.searchParams.types.length))]):e._e()]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.loading},staticStyle:{position:"relative"},on:{click:function(i){return e.openFilterBySpec()}}},[t("i",{staticClass:"ticon-filter D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_spec")))]),e.searchParams.filter&&Object.keys(e.searchParams.filter).length?t("div",{staticClass:"D_ButtonNote"},[e._v(e._s(Object.keys(e.searchParams.filter).length))]):e._e()]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.loading},staticStyle:{position:"relative"},on:{click:function(i){return e.prepareAddCarDialog(-2)}}},[t("i",{staticClass:"ticon-filter D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$tc("m_car",1)))]),e.searchParams.rids&&e.searchParams.rids.length?t("div",{staticClass:"D_ButtonNote"},[e._v(e._s(e.searchParams.rids.length))]):e._e()]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.loading},staticStyle:{position:"relative"},on:{click:function(i){return e.openFilterByRequirements()}}},[t("i",{staticClass:"ticon-filter D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_requirements")))]),e.searchParams.requirements&&Object.keys(e.searchParams.requirements).length?t("div",{staticClass:"D_ButtonNote"},[e._v(e._s(Object.keys(e.searchParams.requirements).length))]):e._e()]),e.searchParamsEmptyString!==JSON.stringify(e.searchParams)?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonRedLight",class:{D_Button_Loading:e.loading},on:{click:function(i){return e.clearAllTimelineFilters()}}},[t("i",{staticClass:"ticon-close_3 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_clear")))])]):e._e()]),t("div",{staticClass:"MainTimeline_HeaderTopMod"},[e.user&&e.user.mod?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.loading},on:{click:function(i){return e.openCreateEvent(i)}}},[t("i",{staticClass:"ticon-plus_2 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_new")))])]):e._e()])])]),e.loading&&e.timeline.length===0?[t("div",{staticClass:"MainTimeline_Loading MainTimeline_Body MainTimeline_W800"},[e._m(0),e._l(10,function(i,s){return t("div",{staticClass:"MainTimeline_LoadingItemRoot MainTimeline_ItemRoot",class:{MainTimeline_ItemEven:s%2===0,MainTimeline_ItemOdd:s%2===1}},[t("div",{staticClass:"MainTimeline_LoadingItem MainTimeline_Item MainTimeline_ItemTop"},[t("div",{staticClass:"MainTimeline_LoadingLeft MainTimeline_ItemTopLeft"}),t("div",{staticClass:"MainTimeline_LoadingCover MainTimeline_ItemCover"}),t("div",{staticClass:"MainTimeline_LoadingRight MainTimeline_ItemTopRight",style:`width: ${Math.random()*150+100}px`})])])})],2)]:e.timeline.length===0?[e._m(1)]:[t("div",{staticClass:"MainTimeline_Body MainTimeline_W800"},[t("div",{staticClass:"MainTimeline_BackLine"},[e.searchPage===0?[t("div",{staticClass:"MainTimeline_BackLineHead"}),t("div",{staticClass:"MainTimeline_BackLineHead"})]:e._e(),t("div",{staticClass:"MainTimeline_BackLineBody"})],2),e.searchPage>0?t("div",{staticClass:"D_Center MainTimeline_NextPageLayout"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 MainTimeline_PageButton",class:{D_Button_Loading:e.loading},on:{click:function(i){return e.previousPage()}}},[t("span",[e._v(e._s(e.$t("m_previousPage")))])])]):e._e(),t("RecycleScroller",{staticClass:"MainTimeline_Scroller_Box",attrs:{items:e.timeline,"item-size":110,keyField:"sort",listClass:"MainTimeline_Scroller_Wrapper",itemClass:"MainTimeline_Scroller_Item","page-mode":""},scopedSlots:e._u([{key:"default",fn:function({item:i,index:s,active:l}){return[t("div",{staticClass:"MainTimeline_ItemRoot",class:`
                ${s%2===0?"MainTimeline_ItemEven ":""}
                ${s%2===1?"MainTimeline_ItemOdd ":""}
                ${i.links&&i.links.find(n=>n.cover)?"MainTimeline_HasCover ":""}
                ${(i.p_rid||[]).length===1||(i.p_rid||[]).length>0&&i.type!=="Veteran Challenge"&&i.type!=="Offers"&&i.type!=="Game News"&&i.type!=="Community News"&&(!i.links||!i.links.some(n=>n.cover))?"MainTimeline_CarAsCover ":""}
                MainTimeline_Type${(i.type||"").replaceAll(" ","")} 
                MainTimeline_Class${(i.p_rid||[]).length>0?e.resolvedRids[i.p_rid[0]].class:""} 
              `,style:`
                --class-color: ${(i.p_rid||[]).length>0?e.resolvedRids[i.p_rid[0]].color:""} ;
                --class-color-rgb: ${(i.p_rid||[]).length>0?e.resolvedRids[i.p_rid[0]].colorRgb:i.color||""} ;
              `},[t("div",{staticClass:"MainTimeline_ItemBacklight"}),t("button",{staticClass:"MainTimeline_Item D_Button",on:{click:function(n){return e.openDetailDialog(i,s)}}},[t("div",{staticClass:"MainTimeline_ItemTop"},[t("div",{staticClass:"MainTimeline_ItemTopLeft"},[t("div",{staticClass:"MainTimeline_ItemTopLeft_Day"},[e._v(e._s(i.dayStart.slice(-2)))]),t("div",{staticClass:"MainTimeline_ItemTopLeft_Month"},[e._v(e._s(new Date(`${i.dayStart}T00:00:00`).toLocaleString(void 0,{month:"short"})))])]),t("div",{staticClass:"MainTimeline_ItemCover"},[(i.p_rid||[]).length===1?t("div",{staticClass:"MainTimeline_Card_Header2Left"},[t("img",{key:i.sort,staticClass:"MainTimeline_Card_Header2Img",attrs:{src:e.resolvedRids[i.p_rid[0]].photo,loading:"lazy",alt:""}}),t("div",{staticClass:"MainTimeline_Card_Header2Right2"},[e._v(e._s(e.resolvedRids[i.p_rid[0]].rq))])]):i.type==="Veteran Challenge"?t("img",{key:i.sort,staticClass:"MainTimeline_Card_VeteranImg",attrs:{src:M,loading:"lazy",alt:""}}):i.type==="Offers"?t("img",{key:i.sort,staticClass:"MainTimeline_Card_VeteranImg",attrs:{src:w,loading:"lazy",alt:""}}):i.links&&i.links.some(n=>n.cover)?t("img",{key:i.sort,staticClass:"MainTimeline_Card_VeteranImg",attrs:{src:i.links.find(n=>n.cover).url,loading:"lazy",alt:""},on:{load:function(n){return e.afterLoadImg(n)}}}):i.type==="Game News"||i.type==="Community News"?t("img",{key:i.sort,staticClass:"MainTimeline_Card_VeteranImg",attrs:{src:R,loading:"lazy",alt:""}}):(i.p_rid||[]).length>0?t("div",{staticClass:"MainTimeline_Card_Header2Left"},[t("img",{key:i.sort,staticClass:"MainTimeline_Card_Header2Img",attrs:{src:e.resolvedRids[i.p_rid[0]].photo,loading:"lazy",alt:""}}),t("div",{staticClass:"MainTimeline_Card_Header2Right2"},[e._v(e._s(e.resolvedRids[i.p_rid[0]].rq))])]):t("div",{staticClass:"MainTimeline_DefaultCover"},[t("i",{staticClass:"ticon-info-circle MainTimeline_ItemCoverIcon",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"MainTimeline_ItemTopRight"},[(i.p_rid||[]).length===1&&i.type!=="Veteran Challenge"?[t("div",{staticClass:"MainTimeline_Line1Car"},[t("b",{staticClass:"MainTimeline_Line1RQ"},[e._v("RQ"+e._s(e.resolvedRids[i.p_rid[0]].rq)+" ")]),t("span",{staticClass:"MainTimeline_Line1Brand"},[e._v(e._s(e.resolvedRids[i.p_rid[0]].brand))])]),t("div",{staticClass:"MainTimeline_Line2Car"},[e._v(e._s(e.resolvedRids[i.p_rid[0]].onlyName))]),t("div",{staticClass:"MainTimeline_ItemTypeText"},[e._v(e._s(i.type))])]:[t("div",{staticClass:"MainTimeline_ItemTopTitle"},[e._v(e._s(i.name))]),i.type==="Veteran Challenge"?t("div",{staticClass:"MainTimeline_ItemVeteranCriteria"},[t("BaseFilterDescription",{staticClass:"MainTimeline_ItemVeteranFilterDescription",attrs:{filter:i.filter,asFilterLabel:!0,hideIfEmpty:!0,emitDescResolved:!1}})],1):e._e(),i.type!=="News"&&i.type!=="Veteran Challenge"&&i.type!=="Other"?t("div",{staticClass:"MainTimeline_ItemTypeText"},[e._v(e._s(i.type))]):(i.p_rid||[]).length===0&&i.type==="News"?t("div",{staticClass:"MainTimeline_ItemTopSubTitle"},[e._v(e._s(i.description))]):e._e(),(i.p_rid||[]).length>1||i.type==="Veteran Challenge"?t("div",{staticClass:"MainTimeline_ItemTopMiniCars"},[e._l(i.p_rid,function(n,c){return[c<=4?t("div",{staticClass:"MainTimeline_MiniCard",style:`--class-color: ${e.resolvedRids[n].color} ;`},[t("img",{staticClass:"MainTimeline_MiniCard_Header2Img",attrs:{src:e.resolvedRids[n].photo,loading:"lazy",alt:""}}),t("div",{staticClass:"MainTimeline_MiniCard_Header2Right2"},[e._v(e._s(e.resolvedRids[n].rq))])]):e._e(),c===5?t("div",{staticClass:"MainTimeline_MiniCardPlus"},[e._v("+"+e._s(i.p_rid.length-5))]):e._e()]})],2):e._e()]],2)])]),e.timeline[s+1]&&i.dayStart.slice(0,4)!==e.timeline[s+1].dayStart.slice(0,4)?t("div",{staticClass:"MainTimeline_YearBelow"},[t("i",{staticClass:"ticon-arrow_up_3 MainTimeline_YearArrow",attrs:{"aria-hidden":"true"}}),t("div",{staticClass:"MainTimeline_YearText"},[e._v(e._s(i.dayStart.slice(0,4)))])]):e.timeline[s-1]&&i.dayStart.slice(0,4)!==e.timeline[s-1].dayStart.slice(0,4)?t("div",{staticClass:"MainTimeline_YearBelow MainTimeline_YearInvert"},[t("i",{staticClass:"ticon-arrow_up_3 MainTimeline_YearArrow",attrs:{"aria-hidden":"true"}}),t("div",{staticClass:"MainTimeline_YearText"},[e._v(e._s(i.dayStart.slice(0,4)))])]):e._e()])]}}],null,!1,18948707)}),e.showNextPage?t("div",{staticClass:"D_Center MainTimeline_NextPageLayout"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 MainTimeline_PageButton",class:{D_Button_Loading:e.loading},on:{click:function(i){return e.nextPage()}}},[t("span",[e._v(e._s(e.$t("m_nextPage")))])])]):t("div",{staticClass:"D_Center MainTimeline_NextPageLayout"},[t("div",{staticClass:"MainTimeline_EndBall"})])],1)]],2):e.screen==="new"?t("div",{staticClass:"MainTimeline_Create_Layout",class:{MainTimeline_InitAnimation:e.animation}},[t("div",{staticClass:"MainTimeline_Create_Header MainTimeline_W800"}),t("div",{staticClass:"MainTimeline_Create_Body MainTimeline_W800"},[t("div",{staticClass:"Main_FilterChipsFlex"},[e._l(e.types,function(i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop",class:{D_ButtonRed:e.changeTypeValueConfirm===i},attrs:{inputValue:e.ti.type,value:i},on:{click:function(s){return e.changeType(i)}}},[t("span",[e._v(e._s(i))])])]})],2),e.ti.type?[e.ti.type==="Tri-Series"||e.ti.type==="Collection Series"||e.ti.type==="Veteran Challenge"||e.ti.type==="GT Series"||e.ti.type==="Extraordinary Event"||e.ti.type==="Extraordinary Challenge"||e.ti.type==="Other"?t("div",{staticClass:"MainTimeline_SpecificCar Space_TopGiga"},[t("div",{staticClass:"MainTimeline_CarsList",class:{MainTimeline_CarsListEmpty:e.ti.p_rid.length===0}},[e._l(e.ti.p_rid,function(i){return[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 MainTimeline_CarButton",class:{MainTimeline_CarButtonRed:e.lastRidClick===i},on:{contextmenu:function(s){return e.carListMainRightClick(i,"main")},click:function(s){return e.carListMainDeleteClick(i,"main")}}},[t("div",{staticClass:"MainTimeline_CarCard",style:`--color: ${e.resolvedRids[i].color}`},[t("div",{staticClass:"MainTimeline_BankPhoto"},[t("img",{staticClass:"MainTimeline_BankPhotoImg",attrs:{src:e.resolvedRids[i].photo,alt:""}})]),t("div",{staticClass:"MainTimeline_RQ"},[e._v(e._s(e.resolvedRids[i].rq))])])])]}),(e.ti.type!=="Tri-Series"&&e.ti.type!=="GT Series"||e.ti.p_rid.length<1)&&(e.ti.type!=="Veteran Challenge"||e.ti.p_rid.length<3)?t("div",{staticClass:"MainTimeline_AddCarBox"},[t("button",{staticClass:"D_Button D_ButtonDark MainTimeline_SearchCarButton",on:{click:function(i){return e.prepareAddCarDialog(-1)}}},[t("i",{staticClass:"ticon-plus_2 MainTimeline_AddIcon",attrs:{"aria-hidden":"true"}}),e.ti.p_rid.length===0?t("div",{staticClass:"MainTimeline_AddLabel",staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.$t("m_rewardedCar")))]):e._e()])]):e._e()],2)]):e._e(),t("div",{staticClass:"D_Center Space_TopGiga"},[t("BaseText",{staticClass:"BaseText_Big MainTimeline_Create_BaseText",attrs:{type:"normal",disabled:e.newLoading,label:e.$t("c_name"),placeholder:""},model:{value:e.ti.name,callback:function(i){e.$set(e.ti,"name",i)},expression:"ti.name"}})],1),t("div",{staticClass:"D_Center Space_TopGiga"},[t("BaseDatePicker",{staticClass:"MainTimeline_Create_BaseText",attrs:{max:e.ti.dayEnd,label:`${e.$t("m_date")}`},model:{value:e.ti.dayStart,callback:function(i){e.$set(e.ti,"dayStart",i)},expression:"ti.dayStart"}})],1),t("div",{staticClass:"D_Center Space_TopGiga"},[t("BaseDatePicker",{staticClass:"MainTimeline_Create_BaseText",attrs:{min:e.ti.dayStart,label:`${e.$t("m_dateEnd")} (${e.$t("m_optional")})`},model:{value:e.ti.dayEnd,callback:function(i){e.$set(e.ti,"dayEnd",i)},expression:"ti.dayEnd"}})],1),e.ti.type==="Veteran Challenge"||e.ti.type==="Extraordinary Challenge"||e.ti.type==="GT Series"||e.ti.type==="Other"?t("div",{staticClass:"D_Center Space_TopGiga MainTimeline_Create_W600"},[t("BaseFilterDescription",{staticClass:"MainTimeline_FilterDescription",attrs:{filter:e.ti.filter,asFilterLabel:!0,hideIfEmpty:!1,emitDescResolved:!0,isKing:!0},on:{changeClick:function(i){return e.openMainFitlerDialog()}}})],1):e._e(),e.ti.type==="Tri-Series"||e.ti.type==="GT Series"||e.ti.type==="Extraordinary Event"||e.ti.type==="Other"?t("div",{staticClass:"D_Center Space_TopGiga MainTimeline_Create_W600",staticStyle:{"max-width":"unset","padding-top":"15px"}},[e._l(e.ti.events,function(i,s){return t("div",{staticClass:"MainTimeline_Create_EventItem",class:`MainTimeline_C_${s%3}`},[t("div",{staticClass:"MainTimeline_EventNameRQ"},[t("BaseText",{staticClass:"BaseText_Big",staticStyle:{"flex-grow":"1"},attrs:{type:"normal",label:e.$t("c_name"),placeholder:""},model:{value:i.name,callback:function(l){e.$set(i,"name",l)},expression:"event.name"}}),t("BaseText",{staticClass:"BaseText_Big",staticStyle:{"max-width":"80px"},attrs:{type:"integer",label:e.$t("m_rqLimit"),placeholder:""},model:{value:i.rqLimit,callback:function(l){e.$set(i,"rqLimit",l)},expression:"event.rqLimit"}})],1),t("div",{staticClass:"MainTimeline_EventFilterCarList",staticStyle:{"margin-top":"15px"}},[t("BaseFilterDescription",{staticClass:"MainTimeline_FilterDescription",attrs:{filter:i.filter,filter2:i.filter2,filter3:i.filter3,useWhatFilter:i.eventUseWhatFilter,isKing:!0,user:e.user},on:{changeClick:function(l){return e.openEventRequirementsDialog(s,i.eventUseWhatFilter)},useFilter:function(l){i.eventUseWhatFilter=l},newNameFilter:function(l){return e.eventRenameFilter(l,s)}}}),t("div",{staticClass:"MainTimeline_CarsList",class:{MainTimeline_CarsListEmpty:i.rids.length===0},staticStyle:{"margin-top":"0"}},[e._l(i.rids,function(l){return[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 MainTimeline_CarButton",class:{MainTimeline_CarButtonRed:e.lastRidClick===l},on:{click:function(n){return e.carListMainDeleteClick(l,"event",s)}}},[t("div",{staticClass:"MainTimeline_CarCard",style:`--color: ${e.resolvedRids[l].color}`},[t("div",{staticClass:"MainTimeline_BankPhoto"},[t("img",{staticClass:"MainTimeline_BankPhotoImg",attrs:{src:e.resolvedRids[l].photo,alt:""}})]),t("div",{staticClass:"MainTimeline_RQ"},[e._v(e._s(e.resolvedRids[l].rq))])])])]}),t("div",{staticClass:"MainTimeline_AddCarBox"},[t("button",{staticClass:"D_Button D_ButtonDark MainTimeline_SearchCarButton",on:{click:function(l){return e.prepareAddCarDialog(s)}}},[t("i",{staticClass:"ticon-plus_2 MainTimeline_AddIcon",attrs:{"aria-hidden":"true"}}),i.rids.length===0?t("div",{staticClass:"MainTimeline_AddLabel",staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.$t("m_rewardedCar")))]):e._e()])])],2)],1),t("div",{staticClass:"MainTimeline_TracksetList",staticStyle:{"margin-top":"15px"}},[t("BaseEventTrackbox",{attrs:{event:i,eventLoadingAny:!1,user:e.user,check:null,eventForceAnalyze:!0,eventBestPerTrack:{},showBestPerTrack:!1,hideCheckBox:!0,disableCampaignTip:!0,mini:!0,index:s},on:{newindex:function(l){e.evIx=s,e.eventTrackNewIndex(l)},openDialogTrackSearch:function(l){e.evIx=s,e.eventTracksetSelected=l.itrackset,e.eventRaceSelected=l.itrackMonoArray,e.openDialogTrackSearch(!1)},eventMoveTrackRight:function(l){e.evIx=s,e.eventMoveTrackRight(l.itrackset,l.itrackMonoArray)},openKingFilter:function(l){},up:function(l){e.evIx=s,e.eventMoveTrackset("up",l.itrackset)},down:function(l){e.evIx=s,e.eventMoveTrackset("down",l.itrackset)},delete:function(l){e.evIx=s,e.eventDeleteTrackset(l.itrackset)}}}),t("div",{staticClass:"D_Center MainTimeline_TracksetFooter"},[i.trackset&&i.trackset.length<4?t("button",{staticClass:"D_Button D_Button D_ButtonDark D_ButtonDark2",on:{click:function(l){e.evIx=s,e.eventAddTrackset()}}},[t("i",{staticClass:"ticon-plus_2 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_trackset")))])]):e._e(),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_ButtonRed:e.deleteEventIndex===s},on:{click:function(l){return e.deleteEventClick(s)}}},[e._v(e._s(e.$t("m_deleteEvent")))]),s!==0?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_ButtonRed:e.deleteEventIndex===s},on:{click:function(l){return e.moveEventUp(s)}}},[t("i",{staticClass:"ticon-arrow_up_3",attrs:{"aria-hidden":"true"}})]):e._e(),e.eventToCopy?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",on:{click:function(l){return e.replaceTracksetsByPaste(s)}}},[t("i",{staticClass:"ticon-code D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_paste"))+" "+e._s(e.$t("m_event")))])]):e._e()])],1)])}),t("div",{staticClass:"D_Center",staticStyle:{gap:"10px"}},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",on:{click:function(i){return e.pushNewEvent()}}},[t("i",{staticClass:"ticon-plus_2 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_event")))])])])],2):e._e(),t("div",{staticClass:"MainTimeline_LinksLayout D_Center Space_TopGiga MainTimeline_Create_W600",staticStyle:{"padding-top":"15px"}},[e._l(e.ti.links,function(i,s){return t("div",{staticClass:"MainTimeline_LinkItem",class:`MainTimeline_C_${i.localUrl||i.url&&i.url.includes("tdrimages.s3")?"":s%3}`},[i.localUrl||i.url&&i.url.includes("tdrimages.s3")?t("div",{staticClass:"MainTimeline_LinkImage",class:{MainTimeline_LinkImageCover:i.cover},on:{click:function(l){return e.setLinkAsCover(s)}}},[t("img",{staticClass:"MainTimeline_LinkImageImg",attrs:{src:i.localUrl||i.url,alt:""}})]):e._e(),t("BaseText",{staticClass:"BaseText_Big",staticStyle:{"flex-grow":"1"},attrs:{type:"normal",placeholder:`${e.$t("c_name")} (optional)`},model:{value:i.text,callback:function(l){e.$set(i,"text",l)},expression:"item.text"}}),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",on:{click:function(l){return e.initUploadImage(s)}}},[t("i",{staticClass:"ticon-camera1",attrs:{"aria-hidden":"true"}})]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_ButtonRed:e.deleteLinkIndex===s},on:{click:function(l){return e.deleteLinkClick(s)}}},[e._v(e._s(e.$t("m_delete")))]),t("BaseText",{staticClass:"BaseText_Big",staticStyle:{"flex-grow":"1","grid-column":"1 / span 2"},attrs:{disabled:!!i.localUrl,type:"normal",placeholder:"https://..."},on:{paste:function(l){return e.interceptLinkPaste(l,s)}},model:{value:i.url,callback:function(l){e.$set(i,"url",l)},expression:"item.url"}}),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",on:{click:function(l){return e.pasteLink(s)}}},[e._v(e._s(e.$t("m_paste")))])],1)}),t("div",{staticClass:"D_Center"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",on:{click:function(i){e.ti.links.push(e.getNewLink())}}},[t("i",{staticClass:"ticon-plus_2 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v("Link/Image")])])])],2),t("div",{staticClass:"D_Center Space_TopGiga MainTimeline_Create_W600"},[t("div",{staticClass:"BaseText_Label"},[e._v(e._s(e.$t("m_description"))+" ("+e._s(e.$t("m_optional"))+")")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.ti.description,expression:"ti.description"}],staticClass:"Main_TextArea Main_TextAreaResizable data-hj-allow",attrs:{rows:"10",placeholder:""},domProps:{value:e.ti.description},on:{input:function(i){i.target.composing||e.$set(e.ti,"description",i.target.value)}}})]),(e.ti.p_rid||[]).length!==1&&e.ti.type!=="Veteran Challenge"&&e.ti.type!=="Offers"?t("div",{staticClass:"MainTimeline_ColorPicker Space_TopGiga Main_FilterChipsFlex"},[e._l(e.colors,function(i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop MainTimeline_ColorChip",style:`--color: ${i}`,attrs:{value:i},model:{value:e.ti.color,callback:function(s){e.$set(e.ti,"color",s)},expression:"ti.color"}},[t("div")])]})],2):e._e()]:e._e()],2),t("div",{staticClass:"MainTimeline_Create_Footer MainTimeline_W800",staticStyle:{"margin-top":"40px"}},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_ButtonRed:e.cancelCreate},on:{click:function(i){return e.cancelCreateEvent()}}},[t("span",[e._v(e._s(e.$t("m_cancel")))])]),t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.newLoading||e.loading},attrs:{disabled:!e.readyToSave||e.newLoading||e.loading},on:{click:function(i){return e.saveTimelineItem()}}},[t("span",[e._v(e._s(e.$t("m_save")))])])])]):e._e(),t("BaseDialog",{attrs:{active:e.detailDialog,transparent:!1,isStatic:!1,forceScroll:!1,id:"MainTimeline_DetailDialog","max-width":"550px","min-width":"240px"},on:{close:function(i){e.detailDialog=!1}}},[t("div",{staticClass:"MainTimeline_ViewLayout"},[t("div",{staticClass:"Main_DialogTitle"},[e._v(e._s(e.detailObj.name))]),t("div",{staticClass:"MainTimeline_DialogMid"},[t("div",{staticClass:"MainTimeline_DialogInfo"},[t("div",{staticClass:"MainTimeline_DialogInfoLabel"},[e._v(e._s(e.$t("m_type")))]),t("div",{staticClass:"MainTimeline_DialogInfoValue"},[e._v(e._s(e.detailObj.type))])]),t("div",{staticClass:"MainTimeline_DialogInfo"},[t("div",{staticClass:"MainTimeline_DialogInfoLabel"},[e._v(e._s(e.$t("m_date")))]),t("div",{staticClass:"MainTimeline_DialogInfoValue"},[e._v(e._s(new Date(`${e.detailObj.dayStart}T00:00:00`).toLocaleDateString()))])]),e.detailObj.dayEnd?t("div",{staticClass:"MainTimeline_DialogInfo"},[t("div",{staticClass:"MainTimeline_DialogInfoLabel"},[e._v(e._s(e.$t("m_dateEnd")))]),t("div",{staticClass:"MainTimeline_DialogInfoValue"},[e._v(e._s(new Date(`${e.detailObj.dayEnd}T00:00:00`).toLocaleDateString()))])]):e._e(),t("div",{staticClass:"MainTimeline_DialogInfo"},[t("div",{staticClass:"MainTimeline_DialogInfoLabel"},[e._v(e._s(e.$t("m_by")))]),t("div",{staticClass:"MainTimeline_DialogInfoValue",class:`Main_UserT${e.Vue.utils.highlightsUsers[e.detailObj.author]}`},[e._v(e._s(e.detailObj.author))])])]),t("div",{staticClass:"MainTimeline_DialogViewDual"},[e.detailObj.p_rid&&e.detailObj.p_rid.length===1?t("div",{staticClass:"MainTimeline_BaseCardBox"},[t("div",{staticClass:"MainTimeline_BaseCardDiv"},[t("BaseCard",{attrs:{car:e.resolvedRids[e.detailObj.p_rid[0]],isDialogBox:!0,options:!1}})],1),!e.detailObj.filter||Object.keys(e.detailObj.filter).length===0?e._l([e.resolvedRids[e.detailObj.p_rid[0]]],function(i){return t("div",{staticClass:"Row_DialogCardBottom MainTimeline_BaseCardSide"},[t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v("ABS")]),t("div",{staticClass:"Row_DialogCardStatValue Row_DialogCardStatRed",class:{Row_DialogCardStatCorrect:i.abs}},[e._v(e._s(i.abs?"Yes":"No"))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v("TCS")]),t("div",{staticClass:"Row_DialogCardStatValue Row_DialogCardStatRed",class:{Row_DialogCardStatCorrect:i.tcs}},[e._v(e._s(i.tcs?"Yes":"No"))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$tc("c_clearance",1)))]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._v(e._s(e.$t(`c_${i.clearance.toLowerCase()}`)))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v("MRA ("+e._s(e.$t("c_stock").toLowerCase())+")")]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._v(e._s(i.mra||"-"))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_weight"))+" ("+e._s(e.$t("c_stock").toLowerCase())+")")]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._v(e._s(i.weight))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_fuel")))]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._v(e._s(e.$t(`c_${i.fuel.toLowerCase()}`)))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_seats")))]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._v(e._s(i.seats))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_enginePos")))]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._v(e._s(e.$t(`c_${i.engine.toLowerCase()}Engine`)))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_bodyStyle")))]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._l(i.bodyTypes,function(s,l){return[l!==0?[e._v(", ")]:e._e(),[e._v(e._s(e.$t(`c_${s.toLowerCase()}`)))]]})],2)]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_brake")))]),t("div",{staticClass:"Row_DialogCardStatValue",class:{Row_DialogCardStatRed:i.brake==="C",Row_DialogCardStatCorrect:i.brake==="A"}},[e._v(e._s(i.brake||"?")),t("BaseBrakeDialog")],1)])])}):e._e()],2):e.detailObj.p_rid&&e.detailObj.p_rid.length>1?t("div",{staticClass:"MainTimeline_DialogViewRewardedCars Main_DarkScroll"},[t("div",{staticClass:"MainTimeline_DialogTitleDivider"},[e._v(e._s(e.$t("m_rewardedCar")))]),t("div",{staticClass:"MainTimeline_DialogPrizeCars"},e._l(e.detailObj.p_rid,function(i){return t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 MainTimeline_CarButton",on:{click:function(s){return e.openDetailCarDialog(i)}}},[t("div",{staticClass:"MainTimeline_CarCard",style:`--color: ${e.resolvedRids[i].color}`},[t("div",{staticClass:"MainTimeline_BankPhoto"},[t("img",{staticClass:"MainTimeline_BankPhotoImg",attrs:{src:e.resolvedRids[i].photo,alt:""}})]),t("div",{staticClass:"MainTimeline_RQ"},[e._v(e._s(e.resolvedRids[i].rq))])])])}),0)]):e._e(),e.detailObj.filter&&Object.keys(e.detailObj.filter).length>0?t("BaseFilterDescription",{staticClass:"MainTimeline_DialogViewFilterDescription",attrs:{filter:e.detailObj.filter,asFilterLabel:!0,hideIfEmpty:!1,emitDescResolved:!0}}):e._e()],1),e.detailObj.events&&e.detailObj.events.length>0?t("div",{staticClass:"MainTimeline_EventsLayout"},e._l(e.detailObj.events,function(i,s){return t("div",{staticClass:"MainTimeline_EventsItem"},[t("div",{staticClass:"MainTimeline_EventsItemTop"},[t("div",{staticClass:"D_Button D_ButtonLink MainTimeline_EventsItemName",on:{click:function(l){return e.exportToEvents(i)}}},[e._v(e._s(i.name))])]),t("div",{staticClass:"MainTimeline_EventsItemMid"},[t("div",{staticClass:"MainTimeline_DialogViewRewardedCars Main_DarkScroll"},[t("div",{staticClass:"MainTimeline_DialogTitleDivider2"},[e._v(e._s(e.$t("m_rewardedCar")))]),t("div",{staticClass:"MainTimeline_DialogPrizeCars"},e._l(i.rids,function(l){return t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 MainTimeline_CarButton",on:{click:function(n){return e.openDetailCarDialog(l)}}},[t("div",{staticClass:"MainTimeline_CarCard",style:`--color: ${e.resolvedRids[l].color}`},[t("div",{staticClass:"MainTimeline_BankPhoto"},[t("img",{staticClass:"MainTimeline_BankPhotoImg",attrs:{src:e.resolvedRids[l].photo,alt:""}})]),t("div",{staticClass:"MainTimeline_RQ"},[e._v(e._s(e.resolvedRids[l].rq))])])])}),0)]),i.filter&&Object.keys(i.filter).length>0?t("BaseFilterDescription",{staticClass:"MainTimeline_DialogViewFilterDescription",attrs:{filter:i.filter,filter2:i.filter2,filter3:i.filter3,useWhatFilter:i.eventUseWhatFilter,hideIfEmpty:!1,emitDescResolved:!0},on:{useFilter:function(l){i.eventUseWhatFilter=l}}}):e._e()],1),t("div",{staticClass:"MainTimeline_EventsItemBottom"},[t("div",{staticClass:"MainTimeline_TracksetList",staticStyle:{"margin-top":"15px"}},[i.hideTrackset?e._e():t("BaseEventTrackbox",{attrs:{event:i,eventLoadingAny:!1,user:{mod:!1},check:null,eventForceAnalyze:!1,eventBestPerTrack:{},showBestPerTrack:!1,hideCheckBox:!0,disableCampaignTip:!0,mini:!0,readonly:!0}})],1)])])}),0):e._e(),e.detailObj.links&&e.detailObj.links.filter(i=>i.url&&i.url.includes("tdrimages.s3")).length>0?t("div",{staticClass:"MainTimeline_DialogGalleryLayout",class:{MainTimeline_DialogGalleryMany:e.detailObj.type!=="Offers"&&e.detailObj.links.filter(i=>i.url&&i.url.includes("tdrimages.s3")).length>2}},[t("div",{staticClass:"MainTimeline_DialogInfoLabel"},[e._v(e._s(e.$t("m_images")))]),t("div",{staticClass:"MainTimeline_DialogGalleryInner"},e._l(e.detailObj.links.filter(i=>i.url&&i.url.includes("tdrimages.s3")),function(i){return t("button",{staticClass:"MainTimeline_DialogGalleryItem D_Button",style:`background-image: url(${i.url});`,on:{click:function(s){return e.openPicture(i)}}})}),0)]):e._e(),e.detailObj.links&&e.detailObj.links.filter(i=>i.url&&!i.url.includes("tdrimages.s3")).length>0?t("div",{staticClass:"MainTimeline_DialogLinkLayout"},[t("div",{staticClass:"MainTimeline_DialogInfoLabel"},[e._v(e._s(e.$t("m_links")))]),t("div",{staticClass:"MainTimeline_DialogLinkInner",class:{MainTimeline_DialogLinkAlone:e.detailObj.links.filter(i=>i.url&&!i.url.includes("tdrimages.s3")).length===1}},e._l(e.detailObj.links.filter(i=>i.url&&!i.url.includes("tdrimages.s3")),function(i){return t("div",{staticClass:"MainTimeline_DialogLinkItem"},[t("a",{staticClass:"D_Button Main_LoginToEdit MainTimeline_DialogLinkButton",attrs:{target:"_blank",rel:"noopener noreferrer",href:i.url}},[t("span",{},[e._v(e._s(i.text||e.$t("m_link")))]),t("i",{staticClass:"ticon-internal",staticStyle:{"font-size":"0.8em","margin-left":"5px"},attrs:{"aria-hidden":"true"}})]),t("div",{staticClass:"MainTimeline_DialogLinkSub"},[e._v(e._s(i.url))])])}),0)]):e._e(),e.detailObj.description?t("div",{staticClass:"MainTimeline_DialogMid"},[t("div",{staticClass:"MainTimeline_DialogInfo"},[t("div",{staticClass:"MainTimeline_DialogInfoLabel"},[e._v(e._s(e.$t("m_description")))]),t("div",{staticClass:"MainTimeline_DialogInfoValue",staticStyle:{"font-size":"14px"}},[e._v(e._s(e.detailObj.description))])])]):e._e(),e.user&&e.user.mod?t("div",{staticClass:"D_Center Space_TopPlus",staticStyle:{gap:"5px"}},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonRed",class:{D_Button_Loading:e.loading},on:{click:function(i){return e.askDeleteItem(e.detailObj)}}},[t("span",[e._v(e._s(e.$t("m_delete")))])]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.loading},on:{click:function(i){return e.editItem(e.detailObj)}}},[t("span",[e._v(e._s(e.$t("m_edit")))])])]):e._e()])]),t("BaseDialog",{attrs:{active:e.tuneDialogActive,transparent:!1,lazy:!0,"max-width":"420px","min-width":"240px"},on:{close:function(i){return e.closeTune()}}},[t("div",{staticClass:"Main_TuneDialog"},[e.tuneDialogActive?t("div",{staticClass:"Row_DialogLayout"},[t("div",{staticClass:"Row_DialogBody Space_TopPlus"},[t("div",{staticClass:"Row_DialogCard"},[t("div",{staticClass:"Row_DialogCardLeft"},[t("BaseCard",{attrs:{car:e.tuneDialogCar,isDialogBox:!0,options:!1}})],1),t("div",{staticClass:"Row_DialogCardRight"},[t("BaseText",{staticClass:"Space_Bottom Row_FieldStat",attrs:{value:e.resolveStat(e.tuneDialogCar,"topSpeed"),label:e.$t("c_topSpeed"),disabled:!0}}),t("BaseText",{staticClass:"Space_Bottom Row_FieldStat",attrs:{value:e.resolveStat(e.tuneDialogCar,"acel"),label:"0-60mph",disabled:!0}}),t("BaseText",{staticClass:"Row_FieldStat",attrs:{value:e.resolveStat(e.tuneDialogCar,"hand"),label:e.$t("c_handling"),disabled:!0}})],1)])]),e.tuneDialogCar.tags&&e.tuneDialogCar.tags.length>0?t("div",{staticClass:"Row_DialogCardTags",staticStyle:{"margin-top":"12px"}},e._l(e.tuneDialogCar.tags,function(i){return t("BaseGameTag",{key:i,attrs:{tag:i}})}),1):e._e(),t("div",{staticClass:"Row_DialogCardDual Space_TopPlus"},[t("div",{staticClass:"Row_DialogCardBottom"},[t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v("ABS")]),t("div",{staticClass:"Row_DialogCardStatValue Row_DialogCardStatRed",class:{Row_DialogCardStatCorrect:e.tuneDialogCar.abs}},[e._v(e._s(e.tuneDialogCar.abs?"Yes":"No"))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v("TCS")]),t("div",{staticClass:"Row_DialogCardStatValue Row_DialogCardStatRed",class:{Row_DialogCardStatCorrect:e.tuneDialogCar.tcs}},[e._v(e._s(e.tuneDialogCar.tcs?"Yes":"No"))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$tc("c_clearance",1)))]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._v(e._s(e.$t(`c_${e.tuneDialogCar.clearance.toLowerCase()}`)))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v("MRA ("+e._s(e.$t("c_stock").toLowerCase())+")")]),t("div",{staticClass:"Row_DialogCardStatValue"},[e.tuneDialogCar.mra?t("span",{staticStyle:{"margin-right":"7px"}},[e._v(e._s(e.tuneDialogCar.mra))]):e._e()])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_weight"))+" ("+e._s(e.$t("c_stock").toLowerCase())+")")]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._v(e._s(e.tuneDialogCar.weight))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_fuel")))]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._v(e._s(e.$t(`c_${e.tuneDialogCar.fuel.toLowerCase()}`)))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_seats")))]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._v(e._s(e.tuneDialogCar.seats))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_enginePos")))]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._v(e._s(e.$t(`c_${e.tuneDialogCar.engine.toLowerCase()}Engine`)))])]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_bodyStyle")))]),t("div",{staticClass:"Row_DialogCardStatValue"},[e._l(e.tuneDialogCar.bodyTypes,function(i,s){return[s!==0?[e._v(", ")]:e._e(),[e._v(e._s(e.$t(`c_${i.toLowerCase()}`)))]]})],2)]),t("div",{staticClass:"Row_DialogCardStat"},[t("div",{staticClass:"Row_DialogCardStatLabel"},[e._v(e._s(e.$t("c_brake")))]),t("div",{staticClass:"Row_DialogCardStatValue",class:{Row_DialogCardStatRed:e.tuneDialogCar.brake==="C",Row_DialogCardStatCorrect:e.tuneDialogCar.brake==="A"}},[e._v(e._s(e.tuneDialogCar.brake||"?")),t("BaseBrakeDialog")],1)])])])]):e._e()])]),t("BaseDialog",{attrs:{active:e.imageDialog,transparent:!0,isStatic:!1,forceScroll:!1,lazy:!0,displayContents:!0,"max-width":"80vw","min-width":"240px"},on:{close:function(i){e.imageDialog=!1}}},[t("div",{staticClass:"MainTimeline_DialogImageLayout"},[e.imageDialogUrl?t("img",{staticClass:"MainTimeline_DialogImageLayoutImg",attrs:{src:e.imageDialogUrl,alt:""}}):e._e()])]),t("BaseDialog",{attrs:{active:e.confirmDelete.dialog,transparent:!1,lazy:!0,zindex:"101","max-width":"420px","min-width":"240px"},on:{close:function(i){e.confirmDelete.dialog=!1}}},[t("div",{staticStyle:{}},[t("div",{staticClass:"Main_DialogMessage"},[e._v(e._s(e.confirmDelete.msg))]),t("div",{staticClass:"Main_DialogBottom"},[t("button",{staticClass:"D_Button Main_OptionsButton",on:{click:function(i){e.confirmDelete.dialog=!1}}},[t("span",[e._v(e._s(e.$t("m_cancel")))])]),t("button",{staticClass:"D_Button Main_OptionsButton",class:`${e.newLoading?"D_Button_Loading ":""}${e.confirmDelete.classe}`,attrs:{disabled:e.newLoading},on:{click:e.confirmDelete.action}},[t("span",[e._v(e._s(e.confirmDelete.actionLabel))])])])])]),t("BaseFilterDialog",{attrs:{filterOnly:!0,config:{topSpeed:!1,acel:!1,hand:!1,weight:!1,brake:!1,tcs:!1,abs:!1}},on:{clearFilterUpdate:function(i){return e.updateFilterBySpec(i)}},model:{value:e.filterBySpecDialog,callback:function(i){e.filterBySpecDialog=i},expression:"filterBySpecDialog"}}),t("BaseFilterDialog",{attrs:{filterOnly:!0,config:{topSpeed:!1,acel:!1,hand:!1,weight:!1,brake:!1,tcs:!1,abs:!1}},on:{clearFilterUpdate:function(i){return e.updateFilterByRequirements(i)}},model:{value:e.filterByRequirementsDialog,callback:function(i){e.filterByRequirementsDialog=i},expression:"filterByRequirementsDialog"}}),t("BaseFilterDialog",{attrs:{sortEnabled:!0,enableCounters:!1,forceNonPrize:!1,markedList:e.searchParams.rids||[],importFilterName:"TIMELINE_FILTER_IMPORT"},on:{addCar:function(i){return e.addCarNew(i)},close:function(i){return e.onCloseSearchCarDialog()}},model:{value:e.searchCarDialog,callback:function(i){e.searchCarDialog=i},expression:"searchCarDialog"}}),t("BaseDialog",{attrs:{active:e.typesDialog,transparent:!1,isStatic:!1,forceScroll:!0,lazy:!0,"max-width":"350px","min-width":"240px"},on:{close:function(i){return e.closeTypeMainFilter()}}},[t("div",{},[t("div",{},[t("div",{staticClass:"Main_DialogTitle"},[e._v(e._s(e.$t("m_type")))])]),t("div",{staticClass:"Main_FilterChipsFlex"},[e._l(e.types,function(i){return[t("BaseChip",{staticClass:"BaseChip_MinWidth BaseChip_DontCrop",attrs:{value:i},model:{value:e.searchParams.types,callback:function(s){e.$set(e.searchParams,"types",s)},expression:"searchParams.types"}},[t("span",[e._v(e._s(i))])])]})],2)])]),t("BaseDialog",{attrs:{active:e.filterDayDialog,transparent:!1,isStatic:!1,forceScroll:!0,lazy:!0,"max-width":"350px","min-width":"240px"},on:{close:function(i){return e.closeFilterDayDialog()}}},[t("div",{},[t("div",{staticClass:"D_Center",staticStyle:{"justify-content":"flex-end"}},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",attrs:{disabled:!e.searchParams.dayStart&&!e.searchParams.dayEnd},on:{click:function(i){return e.clearDateOnly()}}},[t("span",[e._v(e._s(e.$t("m_clear")))])])]),t("div",{staticClass:"D_Center"},[t("BaseDatePicker",{staticClass:"MainTimeline_Create_BaseText",attrs:{max:e.searchParams.dayEnd,label:`${e.$t("m_date")}`},model:{value:e.searchParams.dayStart,callback:function(i){e.$set(e.searchParams,"dayStart",i)},expression:"searchParams.dayStart"}})],1),t("div",{staticClass:"D_Center Space_TopGiga"},[t("BaseDatePicker",{staticClass:"MainTimeline_Create_BaseText",attrs:{min:e.searchParams.dayStart,label:`${e.$t("m_dateEnd")} (${e.$t("m_optional")})`},model:{value:e.searchParams.dayEnd,callback:function(i){e.$set(e.searchParams,"dayEnd",i)},expression:"searchParams.dayEnd"}})],1)])]),e.newTools?[t("BaseFilterDialog",{attrs:{filterOnly:!0,config:{topSpeed:!1,acel:!1,hand:!1,weight:!1,brake:!1,tcs:!1,abs:!1}},on:{clearFilterUpdate:function(i){return e.updateFilterMain(i)}},model:{value:e.mainFilterDialog,callback:function(i){e.mainFilterDialog=i},expression:"mainFilterDialog"}}),t("BaseFilterDialog",{attrs:{filterOnly:!0,requirementFilter:!0,raceFilter:e.eventFilter.filter,raceFilter2:e.eventFilter.filter2,raceFilter3:e.eventFilter.filter3,config:{topSpeed:!1,acel:!1,hand:!1,weight:!1,brake:!1,tcs:!1,abs:!1},initialFilterString:null,initialFilterString2:null,initialFilterString3:null,useWhatFilter:e.eventGlobalUseWhatFilter,type:"event"},on:{filterUpdate:function(i){return e.eventUpdateRequirements(i,e.eventGlobalUseWhatFilter)},clearFilterUpdate:function(i){return e.eventClearFilterUpdate(i,e.eventGlobalUseWhatFilter)},dual:function(i){return e.eventFilterAddDual()},useFilter:function(i){e.eventGlobalUseWhatFilter=i}},model:{value:e.eventRequirementsDialog,callback:function(i){e.eventRequirementsDialog=i},expression:"eventRequirementsDialog"}}),t("BaseSearchTrackDialog",{attrs:{active:e.customTrackDialog,mode:"other"},on:{close:function(i){return e.closeDialogTrackSearch()},toggleTrack:function(i){return e.toggleTrack(i.track,i.e)}}})]:e._e()],2)},I=[function(){var a=this,e=a._self._c;return e("div",{staticClass:"MainTimeline_LoadingBackLine MainTimeline_BackLine"},[e("div",{staticClass:"MainTimeline_BackLineHead"}),e("div",{staticClass:"MainTimeline_BackLineHead"}),e("div",{staticClass:"MainTimeline_BackLineBody"})])},function(){var a=this,e=a._self._c;return e("div",{staticClass:"MainTimeline_404 MainTimeline_W800"},[e("i",{staticClass:"ticon-line Main_SearchEmptyAddIcon",attrs:{"aria-hidden":"true"}})])}],$=h(b,x,I,!1,null,null);const F=$.exports;export{F as default};
