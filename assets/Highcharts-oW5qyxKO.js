import{H as s,D as r,A as a,S as o}from"./stock-CLNdE23Z.js";import{n as c}from"./index-BR-PFC2m.js";let n=0;const l={name:"Highcharts",components:{},props:{config:{type:Object,default(){return{}}},counter:{type:Number,default:0},trackCode:{type:String,default:""}},data(){return n+=1,{id:`hcid-${n}`,chart:null,returnedFunction:null,noData:!1}},watch:{counter(){let e=this;console.log(this.counter),setTimeout(()=>{e.handleResize()},0)},config(){this.checkEmpty()}},beforeMount(){r(s),a(s),o(s),this.returnedFunction=Vue.debounce(this.handleResize,200),window.addEventListener("resize",this.returnedFunction)},mounted(){this.checkEmpty()},beforeDestroy(){window.removeEventListener("resize",this.returnedFunction)},computed:{},methods:{renderChart(){var e=this;let t={chart:{type:"spline",zoomType:"x",pinchType:"xy",reflow:!1,events:{load:function(i){i.target.reflow()}},animation:{duration:200},resetZoomButton:{position:{y:30}}},title:{text:""},subtitle:{text:""},credits:{enabled:!1},tooltip:{style:{fontSize:"14px"},useHTML:!0,formatter:function(){if(this.point.className==="Highcharts_HidePoint"||!this.point.custom||!this.point.custom.photo)return!1;var i=`<img src="${this.point.custom.photo}" class="Highcharts_CarPhoto"><div><span style="color: ${this.point.custom.color}">RQ${this.point.y}</span>&nbsp;<span>${this.point.name}</span></div><span><b>${e.$t("m_time")}: </b>${Vue.options.filters.toTimeString(this.point.x,e.trackCode)}</span><br/><span><b>${e.$tc("c_tyre",2)}: </b>${this.point.custom.car.tyres}</span><br/><span><b>${e.$tc("c_drive",2)}: </b>${this.point.custom.car.drive}</span><br/><span><b>${e.$tc("c_clearance",2)}: </b>${this.point.custom.car.clearance}</span><br/><span><b>MRA: </b>${this.point.custom.car.mra}</span><br/><span><b>${e.$t("m_by")}: </b>${this.point.custom.user}</span><br/>`;return i}},xAxis:{title:{enabled:!1},tickLength:0,gridLineColor:"#fff1",gridLineWidth:"1",labels:{style:{fontSize:"14px"}}},yAxis:{allowDecimals:!1,title:{enabled:!1},gridLineColor:"#fff1",tickLength:0,labels:{style:{fontSize:"14px"}}},legend:{enabled:!0,itemStyle:{fontSize:"14px"}},plotOptions:{scatter:{centerInCategory:!0,states:{hover:{marker:{enabled:!1}}},marker:{radius:5,states:{hover:{enabled:!0,lineColor:"rgb(100,100,100)"}}},events:{click:function(i){e.$emit("detail",i)}}}},series:[]};t=window._merge(t,this.config),s.setOptions({lang:{thousandsSep:".",decimalPoint:",",numericSymbols:[null,"mi","bi","tri","qua","quin"]}}),this.chart?this.chart.update({series:t.series,xAxis:t.xAxis},!0,!0,!0):this.chart=s.chart(this.id,t)},checkEmpty(){let e=!0;this.config.series&&this.config.series.map(t=>{t.data&&t.data.length>0&&(e=!1)}),e?this.noData=!0:(this.noData=!1,this.$nextTick().then(()=>{this.renderChart()}))},handleResize(){this.chart&&(this.chart.destroy(),this.chart=null,this.renderChart())}}};var h=function(){var t=this,i=t._self._c;return i("div",{staticClass:"Highcharts_Layout"},[t.noData?i("div",{staticClass:"Highcharts_Empty"},[t.config.title?i("div",{staticClass:"Highcharts_TitleEmpty"},[t._v(t._s(t.config.title.text))]):t._e(),t._v(" "+t._s(t.$t("m_noData"))+" ")]):t._e(),i("div",{staticClass:"Highcharts_Div",attrs:{id:t.id}})])},p=[],u=c(l,h,p,!1,null,null);const f=u.exports;export{f as H};
