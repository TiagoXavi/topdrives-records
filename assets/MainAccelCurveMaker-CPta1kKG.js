import{B as BaseSearchTrackDialog}from"./BaseSearchTrackDialog-CBBcnIL0.js";import{o as commonjsGlobal,p as getDefaultExportFromCjs,n as normalizeComponent,h as BaseText,a as BaseChip,e as BaseConfigCheckBox}from"./index-BR-PFC2m.js";import{B as BaseFilterDescription}from"./BaseFilterDescription-BffbdYBC.js";import{b as BaseFilterDialog}from"./BaseFilterDialog-b2RE-qND.js";import{H as Highcharts}from"./Highcharts-oW5qyxKO.js";import{R as Row}from"./Row-DOgu6NRG.js";import"./campaign-Dapxa4yk.js";import"./BaseDualSlider-4dZ1Waol.js";import"./BaseExpandDiv-1VZq3Ohy.js";import"./stock-CLNdE23Z.js";var numeric1_2_6={},hasRequiredNumeric1_2_6;function requireNumeric1_2_6(){return hasRequiredNumeric1_2_6||(hasRequiredNumeric1_2_6=1,function(exports){var numeric=exports;typeof commonjsGlobal<"u"&&(commonjsGlobal.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(e,n){var r,a,i,u;for(typeof n>"u"&&(n=15),i=.5,r=new Date;;){for(i*=2,u=i;u>3;u-=4)e(),e(),e(),e();for(;u>0;)e(),u--;if(a=new Date,a-r>n)break}for(u=i;u>3;u-=4)e(),e(),e(),e();for(;u>0;)e(),u--;return a=new Date,1e3*(3*i-1)/(a-r)},numeric._myIndexOf=function(e){var n=this.length,r;for(r=0;r<n;++r)if(this[r]===e)return r;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(e){function n(i){if(i===0)return"0";if(isNaN(i))return"NaN";if(i<0)return"-"+n(-i);if(isFinite(i)){var u=Math.floor(Math.log(i)/Math.log(10)),t=i/Math.pow(10,u),o=t.toPrecision(numeric.precision);return parseFloat(o)===10&&(u++,t=1,o=t.toPrecision(numeric.precision)),parseFloat(o).toString()+"e"+u.toString()}return"Infinity"}var r=[];function a(i){var u;if(typeof i>"u")return r.push(Array(numeric.precision+8).join(" ")),!1;if(typeof i=="string")return r.push('"'+i+'"'),!1;if(typeof i=="boolean")return r.push(i.toString()),!1;if(typeof i=="number"){var t=n(i),o=i.toPrecision(numeric.precision),c=parseFloat(i.toString()).toString(),h=[t,o,c,parseFloat(o).toString(),parseFloat(c).toString()];for(u=1;u<h.length;u++)h[u].length<t.length&&(t=h[u]);return r.push(Array(numeric.precision+8-t.length).join(" ")+t),!1}if(i===null)return r.push("null"),!1;if(typeof i=="function"){r.push(i.toString());var f=!1;for(u in i)i.hasOwnProperty(u)&&(f?r.push(`,
`):r.push(`
{`),f=!0,r.push(u),r.push(`: 
`),a(i[u]));return f&&r.push(`}
`),!0}if(i instanceof Array){if(i.length>numeric.largeArray)return r.push("...Large Array..."),!0;var f=!1;for(r.push("["),u=0;u<i.length;u++)u>0&&(r.push(","),f&&r.push(`
 `)),f=a(i[u]);return r.push("]"),!0}r.push("{");var f=!1;for(u in i)i.hasOwnProperty(u)&&(f&&r.push(`,
`),f=!0,r.push(u),r.push(`: 
`),a(i[u]));return r.push("}"),!0}return a(e),r.join("")},numeric.parseDate=function(e){function n(r){if(typeof r=="string")return Date.parse(r.replace(/-/g,"/"));if(!(r instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var a=[],i;for(i=0;i<r.length;i++)a[i]=n(r[i]);return a}return n(e)},numeric.parseFloat=function(e){function n(r){if(typeof r=="string")return parseFloat(r);if(!(r instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var a=[],i;for(i=0;i<r.length;i++)a[i]=n(r[i]);return a}return n(e)},numeric.parseCSV=function(e){var n=e.split(`
`),r,a,i=[],u=/(([^'",]*)|('[^']*')|("[^"]*")),/g,t=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,o=function(p){return p.substr(0,p.length-1)},c=0;for(a=0;a<n.length;a++){var h=(n[a]+",").match(u),f;if(h.length>0){for(i[c]=[],r=0;r<h.length;r++)f=o(h[r]),t.test(f)?i[c][r]=parseFloat(f):i[c][r]=f;c++}}return i},numeric.toCSV=function(e){var n=numeric.dim(e),r,a,i,u,t;for(i=n[0],n[1],t=[],r=0;r<i;r++){for(u=[],a=0;a<i;a++)u[a]=e[r][a].toString();t[r]=u.join(", ")}return t.join(`
`)+`
`},numeric.getURL=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(),n},numeric.imageURL=function(e){function n(b){var _=b.length,D,g,M,x,F,v,j,S,w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",L="";for(D=0;D<_;D+=3)g=b[D],M=b[D+1],x=b[D+2],F=g>>2,v=((g&3)<<4)+(M>>4),j=((M&15)<<2)+(x>>6),S=x&63,D+1>=_?j=S=64:D+2>=_&&(S=64),L+=w.charAt(F)+w.charAt(v)+w.charAt(j)+w.charAt(S);return L}function r(b,_,D){typeof _>"u"&&(_=0),typeof D>"u"&&(D=b.length);var g=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],M=-1,x=0;b.length;var F;for(F=_;F<D;F++)x=(M^b[F])&255,M=M>>>8^g[x];return M^-1}var a=e[0].length,i=e[0][0].length,u,t,o,c,h,f,p,m,s,l,d=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,i>>24&255,i>>16&255,i>>8&255,i&255,a>>24&255,a>>16&255,a>>8&255,a&255,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(l=r(d,12,29),d[29]=l>>24&255,d[30]=l>>16&255,d[31]=l>>8&255,d[32]=l&255,u=1,t=0,p=0;p<a;p++){for(p<a-1?d.push(0):d.push(1),h=3*i+1+(p===0)&255,f=3*i+1+(p===0)>>8&255,d.push(h),d.push(f),d.push(~h&255),d.push(~f&255),p===0&&d.push(0),m=0;m<i;m++)for(o=0;o<3;o++)h=e[o][p][m],h>255?h=255:h<0?h=0:h=Math.round(h),u=(u+h)%65521,t=(t+u)%65521,d.push(h);d.push(0)}return s=(t<<16)+u,d.push(s>>24&255),d.push(s>>16&255),d.push(s>>8&255),d.push(s&255),c=d.length-41,d[33]=c>>24&255,d[34]=c>>16&255,d[35]=c>>8&255,d[36]=c&255,l=r(d,37),d.push(l>>24&255),d.push(l>>16&255),d.push(l>>8&255),d.push(l&255),d.push(0),d.push(0),d.push(0),d.push(0),d.push(73),d.push(69),d.push(78),d.push(68),d.push(174),d.push(66),d.push(96),d.push(130),"data:image/png;base64,"+n(d)},numeric._dim=function(e){for(var n=[];typeof e=="object";)n.push(e.length),e=e[0];return n},numeric.dim=function(e){var n,r;return typeof e=="object"?(n=e[0],typeof n=="object"?(r=n[0],typeof r=="object"?numeric._dim(e):[e.length,n.length]):[e.length]):[]},numeric.mapreduce=function(e,n){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+n+`;
if(typeof x === "number") { var xi = x; `+e+`; return accum; }
if(typeof _s === "undefined") _s = numeric.dim(x);
if(typeof _k === "undefined") _k = 0;
var _n = _s[_k];
var i,xi;
if(_k < _s.length-1) {
    for(i=_n-1;i>=0;i--) {
        accum = arguments.callee(x[i],accum,_s,_k+1);
    }    return accum;
}
for(i=_n-1;i>=1;i-=2) { 
    xi = x[i];
    `+e+`;
    xi = x[i-1];
    `+e+`;
}
if(i === 0) {
    xi = x[i];
    `+e+`
}
return accum;`)},numeric.mapreduce2=function(e,n){return Function("x",`var n = x.length;
var i,xi;
`+n+`;
for(i=n-1;i!==-1;--i) { 
    xi = x[i];
    `+e+`;
}
return accum;`)},numeric.same=function y(e,n){var r,a;if(!(e instanceof Array)||!(n instanceof Array)||(a=e.length,a!==n.length))return!1;for(r=0;r<a;r++)if(e[r]!==n[r])if(typeof e[r]=="object"){if(!y(e[r],n[r]))return!1}else return!1;return!0},numeric.rep=function(e,n,r){typeof r>"u"&&(r=0);var a=e[r],i=Array(a),u;if(r===e.length-1){for(u=a-2;u>=0;u-=2)i[u+1]=n,i[u]=n;return u===-1&&(i[0]=n),i}for(u=a-1;u>=0;u--)i[u]=numeric.rep(e,n,r+1);return i},numeric.dotMMsmall=function(e,n){var r,a,i,u,t,o,c,h,f,p,m;for(u=e.length,t=n.length,o=n[0].length,c=Array(u),r=u-1;r>=0;r--){for(h=Array(o),f=e[r],i=o-1;i>=0;i--){for(p=f[t-1]*n[t-1][i],a=t-2;a>=1;a-=2)m=a-1,p+=f[a]*n[a][i]+f[m]*n[m][i];a===0&&(p+=f[0]*n[0][i]),h[i]=p}c[r]=h}return c},numeric._getCol=function(e,n,r){var a=e.length,i;for(i=a-1;i>0;--i)r[i]=e[i][n],--i,r[i]=e[i][n];i===0&&(r[0]=e[0][n])},numeric.dotMMbig=function(e,n){var r=numeric._getCol,a=n.length,i=Array(a),u=e.length,t=n[0].length,o=new Array(u),c,h=numeric.dotVV,f,p;for(--a,--u,f=u;f!==-1;--f)o[f]=Array(t);for(--t,f=t;f!==-1;--f)for(r(n,f,i),p=u;p!==-1;--p)c=e[p],o[p][f]=h(c,i);return o},numeric.dotMV=function(e,n){var r=e.length;n.length;var a,i=Array(r),u=numeric.dotVV;for(a=r-1;a>=0;a--)i[a]=u(e[a],n);return i},numeric.dotVM=function(e,n){var r,a,i,u,t,o,c;for(i=e.length,u=n[0].length,t=Array(u),a=u-1;a>=0;a--){for(o=e[i-1]*n[i-1][a],r=i-2;r>=1;r-=2)c=r-1,o+=e[r]*n[r][a]+e[c]*n[c][a];r===0&&(o+=e[0]*n[0][a]),t[a]=o}return t},numeric.dotVV=function(e,n){var r,a=e.length,i,u=e[a-1]*n[a-1];for(r=a-2;r>=1;r-=2)i=r-1,u+=e[r]*n[r]+e[i]*n[i];return r===0&&(u+=e[0]*n[0]),u},numeric.dot=function(e,n){var r=numeric.dim;switch(r(e).length*1e3+r(n).length){case 2002:return n.length<10?numeric.dotMMsmall(e,n):numeric.dotMMbig(e,n);case 2001:return numeric.dotMV(e,n);case 1002:return numeric.dotVM(e,n);case 1001:return numeric.dotVV(e,n);case 1e3:return numeric.mulVS(e,n);case 1:return numeric.mulSV(e,n);case 0:return e*n;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(e){var n,r,a,i=e.length,u=Array(i),t;for(n=i-1;n>=0;n--){for(t=Array(i),r=n+2,a=i-1;a>=r;a-=2)t[a]=0,t[a-1]=0;for(a>n&&(t[a]=0),t[n]=e[n],a=n-1;a>=1;a-=2)t[a]=0,t[a-1]=0;a===0&&(t[0]=0),u[n]=t}return u},numeric.getDiag=function(y){var e=Math.min(y.length,y[0].length),n,r=Array(e);for(n=e-1;n>=1;--n)r[n]=y[n][n],--n,r[n]=y[n][n];return n===0&&(r[0]=y[0][0]),r},numeric.identity=function(e){return numeric.diag(numeric.rep([e],1))},numeric.pointwise=function(e,n,r){typeof r>"u"&&(r="");var a=[],i,u=/\[i\]$/,t,o="",c=!1;for(i=0;i<e.length;i++)u.test(e[i])?(t=e[i].substring(0,e[i].length-3),o=t):t=e[i],t==="ret"&&(c=!0),a.push(t);return a[e.length]="_s",a[e.length+1]="_k",a[e.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+o+`);
if(typeof _k === "undefined") _k = 0;
var _n = _s[_k];
var i`+(c?"":", ret = Array(_n)")+`;
if(_k < _s.length-1) {
    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee(`+e.join(",")+`,_s,_k+1);
    return ret;
}
`+r+`
for(i=_n-1;i!==-1;--i) {
    `+n+`
}
return ret;`,Function.apply(null,a)},numeric.pointwise2=function(e,n,r){typeof r>"u"&&(r="");var a=[],i,u=/\[i\]$/,t,o="",c=!1;for(i=0;i<e.length;i++)u.test(e[i])?(t=e[i].substring(0,e[i].length-3),o=t):t=e[i],t==="ret"&&(c=!0),a.push(t);return a[e.length]="var _n = "+o+`.length;
var i`+(c?"":", ret = Array(_n)")+`;
`+r+`
for(i=_n-1;i!==-1;--i) {
`+n+`
}
return ret;`,Function.apply(null,a)},numeric._biforeach=function y(e,n,r,a,i){if(a===r.length-1){i(e,n);return}var u,t=r[a];for(u=t-1;u>=0;u--)y(typeof e=="object"?e[u]:e,typeof n=="object"?n[u]:n,r,a+1,i)},numeric._biforeach2=function y(e,n,r,a,i){if(a===r.length-1)return i(e,n);var u,t=r[a],o=Array(t);for(u=t-1;u>=0;--u)o[u]=y(typeof e=="object"?e[u]:e,typeof n=="object"?n[u]:n,r,a+1,i);return o},numeric._foreach=function y(e,n,r,a){if(r===n.length-1){a(e);return}var i,u=n[r];for(i=u-1;i>=0;i--)y(e[i],n,r+1,a)},numeric._foreach2=function y(e,n,r,a){if(r===n.length-1)return a(e);var i,u=n[r],t=Array(u);for(i=u-1;i>=0;i--)t[i]=y(e[i],n,r+1,a);return t},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var y,e;for(y=0;y<numeric.mathfuns2.length;++y)e=numeric.mathfuns2[y],numeric.ops2[e]=e;for(y in numeric.ops2)if(numeric.ops2.hasOwnProperty(y)){e=numeric.ops2[y];var n,r,a="";numeric.myIndexOf.call(numeric.mathfuns2,y)!==-1?(a="var "+e+" = Math."+e+`;
`,n=function(i,u,t){return i+" = "+e+"("+u+","+t+")"},r=function(i,u){return i+" = "+e+"("+i+","+u+")"}):(n=function(i,u,t){return i+" = "+u+" "+e+" "+t},numeric.opseq.hasOwnProperty(y+"eq")?r=function(i,u){return i+" "+e+"= "+u}:r=function(i,u){return i+" = "+i+" "+e+" "+u}),numeric[y+"VV"]=numeric.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),a),numeric[y+"SV"]=numeric.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),a),numeric[y+"VS"]=numeric.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),a),numeric[y]=Function(`var n = arguments.length, i, x = arguments[0], y;
var VV = numeric.`+y+"VV, VS = numeric."+y+"VS, SV = numeric."+y+`SV;
var dim = numeric.dim;
for(i=1;i!==n;++i) { 
  y = arguments[i];
  if(typeof x === "object") {
      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);
      else x = numeric._biforeach2(x,y,dim(x),0,VS);
  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);
  else `+r("x","y")+`
}
return x;
`),numeric[e]=numeric[y],numeric[y+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],r("ret[i]","x[i]"),a),numeric[y+"eqS"]=numeric.pointwise2(["ret[i]","x"],r("ret[i]","x"),a),numeric[y+"eq"]=Function(`var n = arguments.length, i, x = arguments[0], y;
var V = numeric.`+y+"eqV, S = numeric."+y+`eqS
var s = numeric.dim(x);
for(i=1;i!==n;++i) { 
  y = arguments[i];
  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);
  else numeric._biforeach(x,y,s,0,S);
}
return x;
`)}for(y=0;y<numeric.mathfuns2.length;++y)e=numeric.mathfuns2[y],delete numeric.ops2[e];for(y=0;y<numeric.mathfuns.length;++y)e=numeric.mathfuns[y],numeric.ops1[e]=e;for(y in numeric.ops1)numeric.ops1.hasOwnProperty(y)&&(a="",e=numeric.ops1[y],numeric.myIndexOf.call(numeric.mathfuns,y)!==-1&&Math.hasOwnProperty(e)&&(a="var "+e+" = Math."+e+`;
`),numeric[y+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+e+"(ret[i]);",a),numeric[y+"eq"]=Function("x",'if(typeof x !== "object") return '+e+`x
var i;
var V = numeric.`+y+`eqV;
var s = numeric.dim(x);
numeric._foreach(x,s,0,V);
return x;
`),numeric[y+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+e+"(x[i]);",a),numeric[y]=Function("x",'if(typeof x !== "object") return '+e+`(x)
var i;
var V = numeric.`+y+`V;
var s = numeric.dim(x);
return numeric._foreach2(x,s,0,V);
`));for(y=0;y<numeric.mathfuns.length;++y)e=numeric.mathfuns[y],delete numeric.ops1[e];for(y in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(y)&&(e=numeric.mapreducers[y],numeric[y+"V"]=numeric.mapreduce2(e[0],e[1]),numeric[y]=Function("x","s","k",e[1]+`if(typeof x !== "object") {    xi = x;
`+e[0]+`;
    return accum;
}if(typeof s === "undefined") s = numeric.dim(x);
if(typeof k === "undefined") k = 0;
if(k === s.length-1) return numeric.`+y+`V(x);
var xi;
var n = x.length, i;
for(i=n-1;i!==-1;--i) {
   xi = arguments.callee(x[i]);
`+e[0]+`;
}
return accum;
`))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(e,n){return typeof e=="object"?typeof n=="object"?numeric.truncVV(e,n):numeric.truncVS(e,n):typeof n=="object"?numeric.truncSV(e,n):Math.round(e/n)*n},numeric.inv=function(l){var n=numeric.dim(l),r=Math.abs,a=n[0],i=n[1],u=numeric.clone(l),t,o,c=numeric.identity(a),h,f,p,m,s,l;for(m=0;m<i;++m){var d=-1,b=-1;for(p=m;p!==a;++p)s=r(u[p][m]),s>b&&(d=p,b=s);for(o=u[d],u[d]=u[m],u[m]=o,f=c[d],c[d]=c[m],c[m]=f,l=o[m],s=m;s!==i;++s)o[s]/=l;for(s=i-1;s!==-1;--s)f[s]/=l;for(p=a-1;p!==-1;--p)if(p!==m){for(t=u[p],h=c[p],l=t[m],s=m+1;s!==i;++s)t[s]-=o[s]*l;for(s=i-1;s>0;--s)h[s]-=f[s]*l,--s,h[s]-=f[s]*l;s===0&&(h[0]-=f[0]*l)}}return c},numeric.det=function(e){var n=numeric.dim(e);if(n.length!==2||n[0]!==n[1])throw new Error("numeric: det() only works on square matrices");var r=n[0],a=1,i,u,t,o=numeric.clone(e),c,h,f,p,m;for(u=0;u<r-1;u++){for(t=u,i=u+1;i<r;i++)Math.abs(o[i][u])>Math.abs(o[t][u])&&(t=i);for(t!==u&&(p=o[t],o[t]=o[u],o[u]=p,a*=-1),c=o[u],i=u+1;i<r;i++){for(h=o[i],f=h[u]/c[u],t=u+1;t<r-1;t+=2)m=t+1,h[t]-=c[t]*f,h[m]-=c[m]*f;t!==r&&(h[t]-=c[t]*f)}if(c[u]===0)return 0;a*=c[u]}return a*o[u][u]},numeric.transpose=function(e){var n,r,a=e.length,i=e[0].length,u=Array(i),t,o,c;for(r=0;r<i;r++)u[r]=Array(a);for(n=a-1;n>=1;n-=2){for(o=e[n],t=e[n-1],r=i-1;r>=1;--r)c=u[r],c[n]=o[r],c[n-1]=t[r],--r,c=u[r],c[n]=o[r],c[n-1]=t[r];r===0&&(c=u[0],c[n]=o[0],c[n-1]=t[0])}if(n===0){for(t=e[0],r=i-1;r>=1;--r)u[r][0]=t[r],--r,u[r][0]=t[r];r===0&&(u[0][0]=t[0])}return u},numeric.negtranspose=function(e){var n,r,a=e.length,i=e[0].length,u=Array(i),t,o,c;for(r=0;r<i;r++)u[r]=Array(a);for(n=a-1;n>=1;n-=2){for(o=e[n],t=e[n-1],r=i-1;r>=1;--r)c=u[r],c[n]=-o[r],c[n-1]=-t[r],--r,c=u[r],c[n]=-o[r],c[n-1]=-t[r];r===0&&(c=u[0],c[n]=-o[0],c[n-1]=-t[0])}if(n===0){for(t=e[0],r=i-1;r>=1;--r)u[r][0]=-t[r],--r,u[r][0]=-t[r];r===0&&(u[0][0]=-t[0])}return u},numeric._random=function y(e,n){var r,a=e[n],i=Array(a),u;if(n===e.length-1){for(u=Math.random,r=a-1;r>=1;r-=2)i[r]=u(),i[r-1]=u();return r===0&&(i[0]=u()),i}for(r=a-1;r>=0;r--)i[r]=y(e,n+1);return i},numeric.random=function(e){return numeric._random(e,0)},numeric.norm2=function(e){return Math.sqrt(numeric.norm2Squared(e))},numeric.linspace=function(e,n,r){if(typeof r>"u"&&(r=Math.max(Math.round(n-e)+1,1)),r<2)return r===1?[e]:[];var a,i=Array(r);for(r--,a=r;a>=0;a--)i[a]=(a*n+(r-a)*e)/r;return i},numeric.getBlock=function(e,n,r){var a=numeric.dim(e);function i(u,t){var o,c=n[t],h=r[t]-c,f=Array(h);if(t===a.length-1){for(o=h;o>=0;o--)f[o]=u[o+c];return f}for(o=h;o>=0;o--)f[o]=i(u[o+c],t+1);return f}return i(e,0)},numeric.setBlock=function(e,n,r,a){var i=numeric.dim(e);function u(t,o,c){var h,f=n[c],p=r[c]-f;if(c===i.length-1)for(h=p;h>=0;h--)t[h+f]=o[h];for(h=p;h>=0;h--)u(t[h+f],o[h],c+1)}return u(e,a,0),e},numeric.getRange=function(e,n,r){var a=n.length,i=r.length,u,t,o=Array(a),c,h;for(u=a-1;u!==-1;--u)for(o[u]=Array(i),c=o[u],h=e[n[u]],t=i-1;t!==-1;--t)c[t]=h[r[t]];return o},numeric.blockMatrix=function(e){var n=numeric.dim(e);if(n.length<4)return numeric.blockMatrix([e]);var r=n[0],a=n[1],i,u,t,o,c;for(i=0,u=0,t=0;t<r;++t)i+=e[t][0].length;for(o=0;o<a;++o)u+=e[0][o][0].length;var h=Array(i);for(t=0;t<i;++t)h[t]=Array(u);var f=0,p,m,s,l,d;for(t=0;t<r;++t){for(p=u,o=a-1;o!==-1;--o)for(c=e[t][o],p-=c[0].length,s=c.length-1;s!==-1;--s)for(d=c[s],m=h[f+s],l=d.length-1;l!==-1;--l)m[p+l]=d[l];f+=e[t][0].length}return h},numeric.tensor=function(e,n){if(typeof e=="number"||typeof n=="number")return numeric.mul(e,n);var r=numeric.dim(e),a=numeric.dim(n);if(r.length!==1||a.length!==1)throw new Error("numeric: tensor product is only defined for vectors");var i=r[0],u=a[0],t=Array(i),o,c,h,f;for(c=i-1;c>=0;c--){for(o=Array(u),f=e[c],h=u-1;h>=3;--h)o[h]=f*n[h],--h,o[h]=f*n[h],--h,o[h]=f*n[h],--h,o[h]=f*n[h];for(;h>=0;)o[h]=f*n[h],--h;t[c]=o}return t},numeric.T=function(e,n){this.x=e,this.y=n},numeric.t=function(e,n){return new numeric.T(e,n)},numeric.Tbinop=function(e,n,r,a,i){if(numeric.indexOf,typeof i!="string"){var u;i="";for(u in numeric)numeric.hasOwnProperty(u)&&(e.indexOf(u)>=0||n.indexOf(u)>=0||r.indexOf(u)>=0||a.indexOf(u)>=0)&&u.length>1&&(i+="var "+u+" = numeric."+u+`;
`)}return Function(["y"],`var x = this;
if(!(y instanceof numeric.T)) { y = new numeric.T(y); }
`+i+`
if(x.y) {  if(y.y) {    return new numeric.T(`+a+`);
  }
  return new numeric.T(`+r+`);
}
if(y.y) {
  return new numeric.T(`+n+`);
}
return new numeric.T(`+e+`);
`)},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var e=numeric.mul,n=numeric.div;if(this.y){var r=numeric.add(e(this.x,this.x),e(this.y,this.y));return new numeric.T(n(this.x,r),n(numeric.neg(this.y),r))}return new T(n(1,this.x))},numeric.T.prototype.div=function(e){if(e instanceof numeric.T||(e=new numeric.T(e)),e.y)return this.mul(e.reciprocal());var n=numeric.div;return this.y?new numeric.T(n(this.x,e.x),n(this.y,e.x)):new numeric.T(n(this.x,e.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var e=numeric.transpose,n=this.x,r=this.y;return r?new numeric.T(e(n),e(r)):new numeric.T(e(n))},numeric.T.prototype.transjugate=function(){var e=numeric.transpose,n=this.x,r=this.y;return r?new numeric.T(e(n),numeric.negtranspose(r)):new numeric.T(e(n))},numeric.Tunop=function(e,n,r){return typeof r!="string"&&(r=""),Function(`var x = this;
`+r+`
if(x.y) {  `+n+`;
}
`+e+`;
`)},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));",`var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();
return new numeric.T(numeric.log(r.x),theta.x);`),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);",`var f = numeric.norm2Squared;
return Math.sqrt(f(x.x)+f(x.y));`),numeric.T.prototype.inv=function(){var e=this;if(typeof e.y>"u")return new numeric.T(numeric.inv(e.x));var n=e.x.length,l,d,b,r=numeric.identity(n),a=numeric.rep([n,n],0),i=numeric.clone(e.x),u=numeric.clone(e.y),t,o,c,h,f,p,m,s,l,d,b,_,D,g,M,x,F,v;for(l=0;l<n;l++){for(g=i[l][l],M=u[l][l],_=g*g+M*M,b=l,d=l+1;d<n;d++)g=i[d][l],M=u[d][l],D=g*g+M*M,D>_&&(b=d,_=D);for(b!==l&&(v=i[l],i[l]=i[b],i[b]=v,v=u[l],u[l]=u[b],u[b]=v,v=r[l],r[l]=r[b],r[b]=v,v=a[l],a[l]=a[b],a[b]=v),t=i[l],o=u[l],f=r[l],p=a[l],g=t[l],M=o[l],d=l+1;d<n;d++)x=t[d],F=o[d],t[d]=(x*g+F*M)/_,o[d]=(F*g-x*M)/_;for(d=0;d<n;d++)x=f[d],F=p[d],f[d]=(x*g+F*M)/_,p[d]=(F*g-x*M)/_;for(d=l+1;d<n;d++){for(c=i[d],h=u[d],m=r[d],s=a[d],g=c[l],M=h[l],b=l+1;b<n;b++)x=t[b],F=o[b],c[b]-=x*g-F*M,h[b]-=F*g+x*M;for(b=0;b<n;b++)x=f[b],F=p[b],m[b]-=x*g-F*M,s[b]-=F*g+x*M}}for(l=n-1;l>0;l--)for(f=r[l],p=a[l],d=l-1;d>=0;d--)for(m=r[d],s=a[d],g=i[d][l],M=u[d][l],b=n-1;b>=0;b--)x=f[b],F=p[b],m[b]-=g*x-M*F,s[b]-=g*F+M*x;return new numeric.T(r,a)},numeric.T.prototype.get=function(e){var n=this.x,r=this.y,a=0,i,u=e.length;if(r){for(;a<u;)i=e[a],n=n[i],r=r[i],a++;return new numeric.T(n,r)}for(;a<u;)i=e[a],n=n[i],a++;return new numeric.T(n)},numeric.T.prototype.set=function(e,n){var r=this.x,a=this.y,i=0,u,t=e.length,o=n.x,c=n.y;if(t===0)return c?this.y=c:a&&(this.y=void 0),this.x=r,this;if(c){for(a||(a=numeric.rep(numeric.dim(r),0),this.y=a);i<t-1;)u=e[i],r=r[u],a=a[u],i++;return u=e[i],r[u]=o,a[u]=c,this}if(a){for(;i<t-1;)u=e[i],r=r[u],a=a[u],i++;return u=e[i],r[u]=o,o instanceof Array?a[u]=numeric.rep(numeric.dim(o),0):a[u]=0,this}for(;i<t-1;)u=e[i],r=r[u],i++;return u=e[i],r[u]=o,this},numeric.T.prototype.getRows=function(e,n){var r=n-e+1,a,i=Array(r),u,t=this.x,o=this.y;for(a=e;a<=n;a++)i[a-e]=t[a];if(o){for(u=Array(r),a=e;a<=n;a++)u[a-e]=o[a];return new numeric.T(i,u)}return new numeric.T(i)},numeric.T.prototype.setRows=function(e,n,r){var a,i=this.x,u=this.y,t=r.x,o=r.y;for(a=e;a<=n;a++)i[a]=t[a-e];if(o)for(u||(u=numeric.rep(numeric.dim(i),0),this.y=u),a=e;a<=n;a++)u[a]=o[a-e];else if(u)for(a=e;a<=n;a++)u[a]=numeric.rep([t[a-e].length],0);return this},numeric.T.prototype.getRow=function(e){var n=this.x,r=this.y;return r?new numeric.T(n[e],r[e]):new numeric.T(n[e])},numeric.T.prototype.setRow=function(e,n){var r=this.x,a=this.y,i=n.x,u=n.y;return r[e]=i,u?(a||(a=numeric.rep(numeric.dim(r),0),this.y=a),a[e]=u):a&&(a=numeric.rep([i.length],0)),this},numeric.T.prototype.getBlock=function(e,n){var r=this.x,a=this.y,i=numeric.getBlock;return a?new numeric.T(i(r,e,n),i(a,e,n)):new numeric.T(i(r,e,n))},numeric.T.prototype.setBlock=function(e,n,r){r instanceof numeric.T||(r=new numeric.T(r));var a=this.x,i=this.y,u=numeric.setBlock,t=r.x,o=r.y;if(o)return i||(this.y=numeric.rep(numeric.dim(this),0),i=this.y),u(a,e,n,t),u(i,e,n,o),this;u(a,e,n,t),i&&u(i,e,n,numeric.rep(numeric.dim(t),0))},numeric.T.rep=function(e,n){var r=numeric.T;n instanceof r||(n=new r(n));var a=n.x,i=n.y,u=numeric.rep;return i?new r(u(e,a),u(e,i)):new r(u(e,a))},numeric.T.diag=function(e){e instanceof numeric.T||(e=new numeric.T(e));var n=e.x,r=e.y,a=numeric.diag;return r?new numeric.T(a(n),a(r)):new numeric.T(a(n))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(e){return new numeric.T(numeric.identity(e))},numeric.T.prototype.getDiag=function(){var e=numeric,n=this.x,r=this.y;return r?new e.T(e.getDiag(n),e.getDiag(r)):new e.T(e.getDiag(n))},numeric.house=function(e){var n=numeric.clone(e),r=e[0]>=0?1:-1,a=r*numeric.norm2(e);n[0]+=a;var i=numeric.norm2(n);if(i===0)throw new Error("eig: internal error");return numeric.div(n,i)},numeric.toUpperHessenberg=function(e){var n=numeric.dim(e);if(n.length!==2||n[0]!==n[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var r=n[0],a,i,u,t,o,c=numeric.clone(e),h,f,p,m,s=numeric.identity(r),l;for(i=0;i<r-2;i++){for(t=Array(r-i-1),a=i+1;a<r;a++)t[a-i-1]=c[a][i];if(numeric.norm2(t)>0){for(o=numeric.house(t),h=numeric.getBlock(c,[i+1,i],[r-1,r-1]),f=numeric.tensor(o,numeric.dot(o,h)),a=i+1;a<r;a++)for(p=c[a],m=f[a-i-1],u=i;u<r;u++)p[u]-=2*m[u-i];for(h=numeric.getBlock(c,[0,i+1],[r-1,r-1]),f=numeric.tensor(numeric.dot(h,o),o),a=0;a<r;a++)for(p=c[a],m=f[a],u=i+1;u<r;u++)p[u]-=2*m[u-i-1];for(h=Array(r-i-1),a=i+1;a<r;a++)h[a-i-1]=s[a];for(f=numeric.tensor(o,numeric.dot(o,h)),a=i+1;a<r;a++)for(l=s[a],m=f[a-i-1],u=0;u<r;u++)l[u]-=2*m[u]}}return{H:c,Q:s}},numeric.epsilon=2220446049250313e-31,numeric.QRFrancis=function(y,e){typeof e>"u"&&(e=1e4),y=numeric.clone(y),numeric.clone(y);var n=numeric.dim(y),r=n[0],a,i,u,t,o,c,h,f,p,m=numeric.identity(r),s,l,d,b,_,D,g,M,x;if(r<3)return{Q:m,B:[[0,r-1]]};var F=numeric.epsilon;for(x=0;x<e;x++){for(g=0;g<r-1;g++)if(Math.abs(y[g+1][g])<F*(Math.abs(y[g][g])+Math.abs(y[g+1][g+1]))){var v=numeric.QRFrancis(numeric.getBlock(y,[0,0],[g,g]),e),j=numeric.QRFrancis(numeric.getBlock(y,[g+1,g+1],[r-1,r-1]),e);for(d=Array(g+1),D=0;D<=g;D++)d[D]=m[D];for(b=numeric.dot(v.Q,d),D=0;D<=g;D++)m[D]=b[D];for(d=Array(r-g-1),D=g+1;D<r;D++)d[D-g-1]=m[D];for(b=numeric.dot(j.Q,d),D=g+1;D<r;D++)m[D]=b[D-g-1];return{Q:m,B:v.B.concat(numeric.add(j.B,g+1))}}if(u=y[r-2][r-2],t=y[r-2][r-1],o=y[r-1][r-2],c=y[r-1][r-1],f=u+c,h=u*c-t*o,p=numeric.getBlock(y,[0,0],[2,2]),f*f>=4*h){var S,w;S=.5*(f+Math.sqrt(f*f-4*h)),w=.5*(f-Math.sqrt(f*f-4*h)),p=numeric.add(numeric.sub(numeric.dot(p,p),numeric.mul(p,S+w)),numeric.diag(numeric.rep([3],S*w)))}else p=numeric.add(numeric.sub(numeric.dot(p,p),numeric.mul(p,f)),numeric.diag(numeric.rep([3],h)));for(a=[p[0][0],p[1][0],p[2][0]],i=numeric.house(a),d=[y[0],y[1],y[2]],b=numeric.tensor(i,numeric.dot(i,d)),D=0;D<3;D++)for(l=y[D],_=b[D],M=0;M<r;M++)l[M]-=2*_[M];for(d=numeric.getBlock(y,[0,0],[r-1,2]),b=numeric.tensor(numeric.dot(d,i),i),D=0;D<r;D++)for(l=y[D],_=b[D],M=0;M<3;M++)l[M]-=2*_[M];for(d=[m[0],m[1],m[2]],b=numeric.tensor(i,numeric.dot(i,d)),D=0;D<3;D++)for(s=m[D],_=b[D],M=0;M<r;M++)s[M]-=2*_[M];var L;for(g=0;g<r-2;g++){for(M=g;M<=g+1;M++)if(Math.abs(y[M+1][M])<F*(Math.abs(y[M][M])+Math.abs(y[M+1][M+1]))){var v=numeric.QRFrancis(numeric.getBlock(y,[0,0],[M,M]),e),j=numeric.QRFrancis(numeric.getBlock(y,[M+1,M+1],[r-1,r-1]),e);for(d=Array(M+1),D=0;D<=M;D++)d[D]=m[D];for(b=numeric.dot(v.Q,d),D=0;D<=M;D++)m[D]=b[D];for(d=Array(r-M-1),D=M+1;D<r;D++)d[D-M-1]=m[D];for(b=numeric.dot(j.Q,d),D=M+1;D<r;D++)m[D]=b[D-M-1];return{Q:m,B:v.B.concat(numeric.add(j.B,M+1))}}for(L=Math.min(r-1,g+3),a=Array(L-g),D=g+1;D<=L;D++)a[D-g-1]=y[D][g];for(i=numeric.house(a),d=numeric.getBlock(y,[g+1,g],[L,r-1]),b=numeric.tensor(i,numeric.dot(i,d)),D=g+1;D<=L;D++)for(l=y[D],_=b[D-g-1],M=g;M<r;M++)l[M]-=2*_[M-g];for(d=numeric.getBlock(y,[0,g+1],[r-1,L]),b=numeric.tensor(numeric.dot(d,i),i),D=0;D<r;D++)for(l=y[D],_=b[D],M=g+1;M<=L;M++)l[M]-=2*_[M-g-1];for(d=Array(L-g),D=g+1;D<=L;D++)d[D-g-1]=m[D];for(b=numeric.tensor(i,numeric.dot(i,d)),D=g+1;D<=L;D++)for(s=m[D],_=b[D-g-1],M=0;M<r;M++)s[M]-=2*_[M]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(e,n){var r=numeric.toUpperHessenberg(e),a=numeric.QRFrancis(r.H,n),i=numeric.T,V=e.length,u,t,o=a.B,c=numeric.dot(a.Q,numeric.dot(r.H,numeric.transpose(a.Q))),h=new i(numeric.dot(a.Q,r.Q)),f,p=o.length,m,s,l,d,b,_,D,g,M,x,F,v,j,S,w=Math.sqrt;for(t=0;t<p;t++)if(u=o[t][0],u!==o[t][1]){if(m=u+1,s=c[u][u],l=c[u][m],d=c[m][u],b=c[m][m],l===0&&d===0)continue;_=-s-b,D=s*b-l*d,g=_*_-4*D,g>=0?(_<0?M=-.5*(_-w(g)):M=-.5*(_+w(g)),j=(s-M)*(s-M)+l*l,S=d*d+(b-M)*(b-M),j>S?(j=w(j),F=(s-M)/j,v=l/j):(S=w(S),F=d/S,v=(b-M)/S),f=new i([[v,-F],[F,v]]),h.setRows(u,m,f.dot(h.getRows(u,m)))):(M=-.5*_,x=.5*w(-g),j=(s-M)*(s-M)+l*l,S=d*d+(b-M)*(b-M),j>S?(j=w(j+x*x),F=(s-M)/j,v=l/j,M=0,x/=j):(S=w(S+x*x),F=d/S,v=(b-M)/S,M=x/S,x=0),f=new i([[v,-F],[F,v]],[[M,x],[x,-M]]),h.setRows(u,m,f.dot(h.getRows(u,m))))}var L=h.dot(e).dot(h.transjugate()),V=e.length,E=numeric.T.identity(V);for(m=0;m<V;m++)if(m>0)for(t=m-1;t>=0;t--){var P=L.get([t,t]),U=L.get([m,m]);if(numeric.neq(P.x,U.x)||numeric.neq(P.y,U.y))M=L.getRow(t).getBlock([t],[m-1]),x=E.getRow(m).getBlock([t],[m-1]),E.set([m,t],L.get([t,m]).neg().sub(M.dot(x)).div(P.sub(U)));else{E.setRow(m,E.getRow(t));continue}}for(m=0;m<V;m++)M=E.getRow(m),E.setRow(m,M.div(M.norm2()));return E=E.transpose(),E=h.transjugate().dot(E),{lambda:L.getDiag(),E}},numeric.ccsSparse=function(e){var n=e.length,t,r,a,i,u=[];for(a=n-1;a!==-1;--a){r=e[a];for(i in r){for(i=parseInt(i);i>=u.length;)u[u.length]=0;r[i]!==0&&u[i]++}}var t=u.length,o=Array(t+1);for(o[0]=0,a=0;a<t;++a)o[a+1]=o[a]+u[a];var c=Array(o[t]),h=Array(o[t]);for(a=n-1;a!==-1;--a){r=e[a];for(i in r)r[i]!==0&&(u[i]--,c[o[i]+u[i]]=a,h[o[i]+u[i]]=r[i])}return[o,c,h]},numeric.ccsFull=function(e){var n=e[0],r=e[1],a=e[2],i=numeric.ccsDim(e),u=i[0],t=i[1],o,c,h,f,p=numeric.rep([u,t],0);for(o=0;o<t;o++)for(h=n[o],f=n[o+1],c=h;c<f;++c)p[r[c]][o]=a[c];return p},numeric.ccsTSolve=function(e,n,r,a,i){var u=e[0],t=e[1],o=e[2],c=u.length-1,h=Math.max,f=0;typeof a>"u"&&(r=numeric.rep([c],0)),typeof a>"u"&&(a=numeric.linspace(0,r.length-1)),typeof i>"u"&&(i=[]);function p(g){var M;if(r[g]===0){for(r[g]=1,M=u[g];M<u[g+1];++M)p(t[M]);i[f]=g,++f}}var m,s,l,d,b,_,D;for(m=a.length-1;m!==-1;--m)p(a[m]);for(i.length=f,m=i.length-1;m!==-1;--m)r[i[m]]=0;for(m=a.length-1;m!==-1;--m)s=a[m],r[s]=n[s];for(m=i.length-1;m!==-1;--m){for(s=i[m],l=u[s],d=h(u[s+1],l),b=l;b!==d;++b)if(t[b]===s){r[s]/=o[b];break}for(D=r[s],b=l;b!==d;++b)_=t[b],_!==s&&(r[_]-=D*o[b])}return r},numeric.ccsDFS=function(e){this.k=Array(e),this.k1=Array(e),this.j=Array(e)},numeric.ccsDFS.prototype.dfs=function(e,n,r,a,i,u){var t=0,o,c=i.length,h=this.k,f=this.k1,p=this.j,m,s;if(a[e]===0)for(a[e]=1,p[0]=e,h[0]=m=n[e],f[0]=s=n[e+1];;)if(m>=s){if(i[c]=p[t],t===0)return;++c,--t,m=h[t],s=f[t]}else o=u[r[m]],a[o]===0?(a[o]=1,h[t]=m,++t,p[t]=o,m=n[o],f[t]=s=n[o+1]):++m},numeric.ccsLPSolve=function(e,n,r,a,i,u,t){var o=e[0],c=e[1],h=e[2];o.length-1;var f=n[0],p=n[1],m=n[2],s,l,d,b,_,D,g,M,x;for(l=f[i],d=f[i+1],a.length=0,s=l;s<d;++s)t.dfs(u[p[s]],o,c,r,a,u);for(s=a.length-1;s!==-1;--s)r[a[s]]=0;for(s=l;s!==d;++s)b=u[p[s]],r[b]=m[s];for(s=a.length-1;s!==-1;--s){for(b=a[s],_=o[b],D=o[b+1],g=_;g<D;++g)if(u[c[g]]===b){r[b]/=h[g];break}for(x=r[b],g=_;g<D;++g)M=u[c[g]],M!==b&&(r[M]-=x*h[g])}return r},numeric.ccsLUP1=function(e,n){var r=e[0].length-1,a=[numeric.rep([r+1],0),[],[]],i=[numeric.rep([r+1],0),[],[]],u=a[0],t=a[1],o=a[2],c=i[0],h=i[1],f=i[2],p=numeric.rep([r],0),m=numeric.rep([r],0),s,l,d,b,_,D,g,M=numeric.ccsLPSolve,x=Math.abs,F=numeric.linspace(0,r-1),v=numeric.linspace(0,r-1),j=new numeric.ccsDFS(r);for(typeof n>"u"&&(n=1),s=0;s<r;++s){for(M(a,e,p,m,s,v,j),b=-1,_=-1,l=m.length-1;l!==-1;--l)d=m[l],!(d<=s)&&(D=x(p[d]),D>b&&(_=d,b=D));for(x(p[s])<n*b&&(l=F[s],b=F[_],F[s]=b,v[b]=s,F[_]=l,v[l]=_,b=p[s],p[s]=p[_],p[_]=b),b=u[s],_=c[s],g=p[s],t[b]=F[s],o[b]=1,++b,l=m.length-1;l!==-1;--l)d=m[l],D=p[d],m[l]=0,p[d]=0,d<=s?(h[_]=d,f[_]=D,++_):(t[b]=F[d],o[b]=D/g,++b);u[s+1]=b,c[s+1]=_}for(l=t.length-1;l!==-1;--l)t[l]=v[t[l]];return{L:a,U:i,P:F,Pinv:v}},numeric.ccsDFS0=function(e){this.k=Array(e),this.k1=Array(e),this.j=Array(e)},numeric.ccsDFS0.prototype.dfs=function(e,n,r,a,i,u,t){var o=0,c,h=i.length,f=this.k,p=this.k1,m=this.j,s,l;if(a[e]===0)for(a[e]=1,m[0]=e,f[0]=s=n[u[e]],p[0]=l=n[u[e]+1];;){if(isNaN(s))throw new Error("Ow!");if(s>=l){if(i[h]=u[m[o]],o===0)return;++h,--o,s=f[o],l=p[o]}else c=r[s],a[c]===0?(a[c]=1,f[o]=s,++o,m[o]=c,c=u[c],s=n[c],p[o]=l=n[c+1]):++s}},numeric.ccsLPSolve0=function(e,n,r,a,i,u,t,o){var c=e[0],h=e[1],f=e[2];c.length-1;var p=n[0],m=n[1],s=n[2],l,d,b,_,D,g,M,x,F;for(d=p[i],b=p[i+1],a.length=0,l=d;l<b;++l)o.dfs(m[l],c,h,r,a,u,t);for(l=a.length-1;l!==-1;--l)_=a[l],r[t[_]]=0;for(l=d;l!==b;++l)_=m[l],r[_]=s[l];for(l=a.length-1;l!==-1;--l){for(_=a[l],x=t[_],D=c[_],g=c[_+1],M=D;M<g;++M)if(h[M]===x){r[x]/=f[M];break}for(F=r[x],M=D;M<g;++M)r[h[M]]-=F*f[M];r[x]=F}},numeric.ccsLUP0=function(e,n){var r=e[0].length-1,a=[numeric.rep([r+1],0),[],[]],i=[numeric.rep([r+1],0),[],[]],u=a[0],t=a[1],o=a[2],c=i[0],h=i[1],f=i[2],p=numeric.rep([r],0),m=numeric.rep([r],0),s,l,d,b,_,D,g,M=numeric.ccsLPSolve0,x=Math.abs,F=numeric.linspace(0,r-1),v=numeric.linspace(0,r-1),j=new numeric.ccsDFS0(r);for(typeof n>"u"&&(n=1),s=0;s<r;++s){for(M(a,e,p,m,s,v,F,j),b=-1,_=-1,l=m.length-1;l!==-1;--l)d=m[l],!(d<=s)&&(D=x(p[F[d]]),D>b&&(_=d,b=D));for(x(p[F[s]])<n*b&&(l=F[s],b=F[_],F[s]=b,v[b]=s,F[_]=l,v[l]=_),b=u[s],_=c[s],g=p[F[s]],t[b]=F[s],o[b]=1,++b,l=m.length-1;l!==-1;--l)d=m[l],D=p[F[d]],m[l]=0,p[F[d]]=0,d<=s?(h[_]=d,f[_]=D,++_):(t[b]=F[d],o[b]=D/g,++b);u[s+1]=b,c[s+1]=_}for(l=t.length-1;l!==-1;--l)t[l]=v[t[l]];return{L:a,U:i,P:F,Pinv:v}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(e){return[numeric.sup(e[1])+1,e[0].length-1]},numeric.ccsGetBlock=function(e,n,r){var a=numeric.ccsDim(e),i=a[0],u=a[1];typeof n>"u"?n=numeric.linspace(0,i-1):typeof n=="number"&&(n=[n]),typeof r>"u"?r=numeric.linspace(0,u-1):typeof r=="number"&&(r=[r]);var t,o=n.length,c,h=r.length,f,p,m,s=numeric.rep([u],0),l=[],d=[],b=[s,l,d],_=e[0],D=e[1],g=e[2],M=numeric.rep([i],0),x=0,F=numeric.rep([i],0);for(c=0;c<h;++c){p=r[c];var v=_[p],j=_[p+1];for(t=v;t<j;++t)f=D[t],F[f]=1,M[f]=g[t];for(t=0;t<o;++t)m=n[t],F[m]&&(l[x]=t,d[x]=M[n[t]],++x);for(t=v;t<j;++t)f=D[t],F[f]=0;s[c+1]=x}return b},numeric.ccsDot=function(e,n){var r=e[0],a=e[1],i=e[2],u=n[0],t=n[1],o=n[2],c=numeric.ccsDim(e),h=numeric.ccsDim(n),f=c[0];c[1];var p=h[1],m=numeric.rep([f],0),s=numeric.rep([f],0),l=Array(f),d=numeric.rep([p],0),b=[],_=[],D=[d,b,_],g,M,x,F,v,j,S,w,L,V,E;for(x=0;x!==p;++x){for(F=u[x],v=u[x+1],L=0,M=F;M<v;++M)for(V=t[M],E=o[M],j=r[V],S=r[V+1],g=j;g<S;++g)w=a[g],s[w]===0&&(l[L]=w,s[w]=1,L=L+1),m[w]=m[w]+i[g]*E;for(F=d[x],v=F+L,d[x+1]=v,M=L-1;M!==-1;--M)E=F+M,g=l[M],b[E]=g,_[E]=m[g],s[g]=0,m[g]=0;d[x+1]=d[x]+L}return D},numeric.ccsLUPSolve=function(e,n){var r=e.L,a=e.U;e.P;var i=n[0],u=!1;typeof i!="object"&&(n=[[0,n.length],numeric.linspace(0,n.length-1),n],i=n[0],u=!0);var t=n[1],o=n[2],c=r[0].length-1,h=i.length-1,f=numeric.rep([c],0),p=Array(c),m=numeric.rep([c],0),s=Array(c),l=numeric.rep([h+1],0),d=[],b=[],_=numeric.ccsTSolve,D,g,M,x,F,v,j=0;for(D=0;D<h;++D){for(F=0,M=i[D],x=i[D+1],g=M;g<x;++g)v=e.Pinv[t[g]],s[F]=v,m[v]=o[g],++F;for(s.length=F,_(r,m,f,s,p),g=s.length-1;g!==-1;--g)m[s[g]]=0;if(_(a,f,m,p,s),u)return m;for(g=p.length-1;g!==-1;--g)f[p[g]]=0;for(g=s.length-1;g!==-1;--g)v=s[g],d[j]=v,b[j]=m[v],m[v]=0,++j;l[D+1]=j}return[l,d,b]},numeric.ccsbinop=function(e,n){return typeof n>"u"&&(n=""),Function("X","Y",`var Xi = X[0], Xj = X[1], Xv = X[2];
var Yi = Y[0], Yj = Y[1], Yv = Y[2];
var n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;
var Zi = numeric.rep([n+1],0), Zj = [], Zv = [];
var x = numeric.rep([m],0),y = numeric.rep([m],0);
var xk,yk,zk;
var i,j,j0,j1,k,p=0;
`+n+`for(i=0;i<n;++i) {
  j0 = Xi[i]; j1 = Xi[i+1];
  for(j=j0;j!==j1;++j) {
    k = Xj[j];
    x[k] = 1;
    Zj[p] = k;
    ++p;
  }
  j0 = Yi[i]; j1 = Yi[i+1];
  for(j=j0;j!==j1;++j) {
    k = Yj[j];
    y[k] = Yv[j];
    if(x[k] === 0) {
      Zj[p] = k;
      ++p;
    }
  }
  Zi[i+1] = p;
  j0 = Xi[i]; j1 = Xi[i+1];
  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];
  j0 = Zi[i]; j1 = Zi[i+1];
  for(j=j0;j!==j1;++j) {
    k = Zj[j];
    xk = x[k];
    yk = y[k];
`+e+`
    Zv[j] = zk;
  }
  j0 = Xi[i]; j1 = Xi[i+1];
  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;
  j0 = Yi[i]; j1 = Yi[i+1];
  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;
}
return [Zi,Zj,Zv];`)},function(){var k,A,B,C;for(k in numeric.ops2)isFinite(eval("1"+numeric.ops2[k]+"0"))?A="[Y[0],Y[1],numeric."+k+"(X,Y[2])]":A="NaN",isFinite(eval("0"+numeric.ops2[k]+"1"))?B="[X[0],X[1],numeric."+k+"(X[2],Y)]":B="NaN",isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?C="numeric.ccs"+k+"MM(X,Y)":C="NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+`;
if(typeof Y === "number") return `+B+`;
return `+C+`;
`)}(),numeric.ccsScatter=function y(e){var n=e[0],r=e[1],a=e[2],i=numeric.sup(r)+1,u=n.length,t=numeric.rep([i],0),o=Array(u),c=Array(u),h=numeric.rep([i],0),f;for(f=0;f<u;++f)h[r[f]]++;for(f=0;f<i;++f)t[f+1]=t[f]+h[f];var p=t.slice(0),m,s;for(f=0;f<u;++f)s=r[f],m=p[s],o[m]=n[f],c[m]=a[f],p[s]=p[s]+1;return[t,o,c]},numeric.ccsGather=function y(e){var n=e[0],r=e[1],a=e[2],i=n.length-1,u=r.length,t=Array(u),o=Array(u),c=Array(u),h,f,p,m,s;for(s=0,h=0;h<i;++h)for(p=n[h],m=n[h+1],f=p;f!==m;++f)o[s]=h,t[s]=r[f],c[s]=a[f],++s;return[t,o,c]},numeric.sdim=function y(e,n,r){if(typeof n>"u"&&(n=[]),typeof e!="object")return n;typeof r>"u"&&(r=0),r in n||(n[r]=0),e.length>n[r]&&(n[r]=e.length);var a;for(a in e)e.hasOwnProperty(a)&&y(e[a],n,r+1);return n},numeric.sclone=function y(e,n,r){typeof n>"u"&&(n=0),typeof r>"u"&&(r=numeric.sdim(e).length);var a,i=Array(e.length);if(n===r-1){for(a in e)e.hasOwnProperty(a)&&(i[a]=e[a]);return i}for(a in e)e.hasOwnProperty(a)&&(i[a]=y(e[a],n+1,r));return i},numeric.sdiag=function y(e){var n=e.length,r,a=Array(n),i;for(r=n-1;r>=1;r-=2)i=r-1,a[r]=[],a[r][r]=e[r],a[i]=[],a[i][i]=e[i];return r===0&&(a[0]=[],a[0][0]=e[r]),a},numeric.sidentity=function y(e){return numeric.sdiag(numeric.rep([e],1))},numeric.stranspose=function y(e){var n=[];e.length;var r,a,i;for(r in e)if(e.hasOwnProperty(r)){i=e[r];for(a in i)i.hasOwnProperty(a)&&(typeof n[a]!="object"&&(n[a]=[]),n[a][r]=i[a])}return n},numeric.sLUP=function y(e,n){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function y(e,n){var r=e.length;n.length;var a=numeric.stranspose(n),i=a.length,u,t,o,c,h,f,p=Array(r),m;for(o=r-1;o>=0;o--){for(m=[],u=e[o],h=i-1;h>=0;h--){f=0,t=a[h];for(c in u)u.hasOwnProperty(c)&&c in t&&(f+=u[c]*t[c]);f&&(m[h]=f)}p[o]=m}return p},numeric.sdotMV=function y(e,n){var r=e.length,a,i,u,t=Array(r),o;for(i=r-1;i>=0;i--){a=e[i],o=0;for(u in a)a.hasOwnProperty(u)&&n[u]&&(o+=a[u]*n[u]);o&&(t[i]=o)}return t},numeric.sdotVM=function y(e,n){var r,a,i,u,t=[];for(r in e)if(e.hasOwnProperty(r)){i=n[r],u=e[r];for(a in i)i.hasOwnProperty(a)&&(t[a]||(t[a]=0),t[a]+=u*i[a])}return t},numeric.sdotVV=function y(e,n){var r,a=0;for(r in e)e[r]&&n[r]&&(a+=e[r]*n[r]);return a},numeric.sdot=function y(e,n){var r=numeric.sdim(e).length,a=numeric.sdim(n).length,i=r*1e3+a;switch(i){case 0:return e*n;case 1001:return numeric.sdotVV(e,n);case 2001:return numeric.sdotMV(e,n);case 1002:return numeric.sdotVM(e,n);case 2002:return numeric.sdotMM(e,n);default:throw new Error("numeric.sdot not implemented for tensors of order "+r+" and "+a)}},numeric.sscatter=function y(e){var n=e[0].length,r,a,i,u=e.length,t=[],o;for(a=n-1;a>=0;--a)if(e[u-1][a]){for(o=t,i=0;i<u-2;i++)r=e[i][a],o[r]||(o[r]=[]),o=o[r];o[e[i][a]]=e[i+1][a]}return t},numeric.sgather=function y(e,n,r){typeof n>"u"&&(n=[]),typeof r>"u"&&(r=[]);var a,i,u;a=r.length;for(i in e)if(e.hasOwnProperty(i))if(r[a]=parseInt(i),u=e[i],typeof u=="number"){if(u){if(n.length===0)for(i=a+1;i>=0;--i)n[i]=[];for(i=a;i>=0;--i)n[i].push(r[i]);n[a+1].push(u)}}else y(u,n,r);return r.length>a&&r.pop(),n},numeric.cLU=function y(e){var n=e[0],r=e[1],a=e[2],j=n.length,i=0,u,t,o,c,h,f;for(u=0;u<j;u++)n[u]>i&&(i=n[u]);i++;var p=Array(i),m=Array(i),s=numeric.rep([i],1/0),l=numeric.rep([i],-1/0),D,g,d;for(o=0;o<j;o++)u=n[o],t=r[o],t<s[u]&&(s[u]=t),t>l[u]&&(l[u]=t);for(u=0;u<i-1;u++)l[u]>l[u+1]&&(l[u+1]=l[u]);for(u=i-1;u>=1;u--)s[u]<s[u-1]&&(s[u-1]=s[u]);var b=0,_=0;for(u=0;u<i;u++)m[u]=numeric.rep([l[u]-s[u]+1],0),p[u]=numeric.rep([u-s[u]],0),b+=u-s[u]+1,_+=l[u]-u+1;for(o=0;o<j;o++)u=n[o],m[u][r[o]-s[u]]=a[o];for(u=0;u<i-1;u++)for(c=u-s[u],D=m[u],t=u+1;s[t]<=u&&t<i;t++)if(h=u-s[t],f=l[u]-u,g=m[t],d=g[h]/D[c],d){for(o=1;o<=f;o++)g[o+h]-=d*D[o+c];p[t][u-s[t]]=d}var D=[],g=[],M=[],x=[],F=[],v=[],j,S,w;for(j=0,S=0,u=0;u<i;u++){for(c=s[u],h=l[u],w=m[u],t=u;t<=h;t++)w[t-c]&&(D[j]=u,g[j]=t,M[j]=w[t-c],j++);for(w=p[u],t=c;t<u;t++)w[t-c]&&(x[S]=u,F[S]=t,v[S]=w[t-c],S++);x[S]=u,F[S]=u,v[S]=1,S++}return{U:[D,g,M],L:[x,F,v]}},numeric.cLUsolve=function y(e,n){var r=e.L,a=e.U,i=numeric.clone(n),u=r[0],t=r[1],o=r[2],c=a[0],h=a[1],f=a[2],p=c.length;u.length;var m=i.length,s,l;for(l=0,s=0;s<m;s++){for(;t[l]<s;)i[s]-=o[l]*i[t[l]],l++;l++}for(l=p-1,s=m-1;s>=0;s--){for(;h[l]>s;)i[s]-=f[l]*i[h[l]],l--;i[s]/=f[l],l--}return i},numeric.cgrid=function y(e,n){typeof e=="number"&&(e=[e,e]);var r=numeric.rep(e,-1),a,i,u;if(typeof n!="function")switch(n){case"L":n=function(t,o){return t>=e[0]/2||o<e[1]/2};break;default:n=function(t,o){return!0};break}for(u=0,a=1;a<e[0]-1;a++)for(i=1;i<e[1]-1;i++)n(a,i)&&(r[a][i]=u,u++);return r},numeric.cdelsq=function y(e){var n=[[-1,0],[0,-1],[0,1],[1,0]],r=numeric.dim(e),a=r[0],i=r[1],u,t,o,c,h,f=[],p=[],m=[];for(u=1;u<a-1;u++)for(t=1;t<i-1;t++)if(!(e[u][t]<0)){for(o=0;o<4;o++)c=u+n[o][0],h=t+n[o][1],!(e[c][h]<0)&&(f.push(e[u][t]),p.push(e[c][h]),m.push(-1));f.push(e[u][t]),p.push(e[u][t]),m.push(4)}return[f,p,m]},numeric.cdotMV=function y(e,n){var r,a=e[0],i=e[1],u=e[2],t,o=a.length,c;for(c=0,t=0;t<o;t++)a[t]>c&&(c=a[t]);for(c++,r=numeric.rep([c],0),t=0;t<o;t++)r[a[t]]+=u[t]*n[i[t]];return r},numeric.Spline=function y(e,n,r,a,i){this.x=e,this.yl=n,this.yr=r,this.kl=a,this.kr=i},numeric.Spline.prototype._at=function y(o,n){var r=this.x,a=this.yl,i=this.yr,u=this.kl,t=this.kr,o,c,h,f,p=numeric.add,m=numeric.sub,s=numeric.mul;c=m(s(u[n],r[n+1]-r[n]),m(i[n+1],a[n])),h=p(s(t[n+1],r[n]-r[n+1]),m(i[n+1],a[n])),f=(o-r[n])/(r[n+1]-r[n]);var l=f*(1-f);return p(p(p(s(1-f,a[n]),s(f,i[n+1])),s(c,l*(1-f))),s(h,l*f))},numeric.Spline.prototype.at=function y(e){if(typeof e=="number"){var n=this.x,t=n.length,r,a,i,u=Math.floor;for(r=0,a=t-1;a-r>1;)i=u((r+a)/2),n[i]<=e?r=i:a=i;return this._at(e,r)}var t=e.length,o,c=Array(t);for(o=t-1;o!==-1;--o)c[o]=this.at(e[o]);return c},numeric.Spline.prototype.diff=function y(){var e=this.x,n=this.yl,r=this.yr,a=this.kl,i=this.kr,u=n.length,t,o,c,h=a,f=i,p=Array(u),m=Array(u),s=numeric.add,l=numeric.mul,d=numeric.div,b=numeric.sub;for(t=u-1;t!==-1;--t)o=e[t+1]-e[t],c=b(r[t+1],n[t]),p[t]=d(s(l(c,6),l(a[t],-4*o),l(i[t+1],-2*o)),o*o),m[t+1]=d(s(l(c,-6),l(a[t],2*o),l(i[t+1],4*o)),o*o);return new numeric.Spline(e,h,f,p,m)},numeric.Spline.prototype.roots=function y(){function e(I){return I*I}var d=[],n=this.x,r=this.yl,a=this.yr,i=this.kl,u=this.kr;typeof r[0]=="number"&&(r=[r],a=[a],i=[i],u=[u]);var t=r.length,o=n.length-1,c,h,f,p,m,s,l,d=Array(t),b,_,D,g,M,x,F,v,j,S,w,L,V,E,P,U,R=Math.sqrt;for(c=0;c!==t;++c){for(p=r[c],m=a[c],s=i[c],l=u[c],b=[],h=0;h!==o;h++){for(h>0&&m[h]*p[h]<0&&b.push(n[h]),j=n[h+1]-n[h],n[h],g=p[h],M=m[h+1],_=s[h]/j,D=l[h+1]/j,v=e(_-D+3*(g-M))+12*D*g,x=D+3*g+2*_-3*M,F=3*(D+_+2*(g-M)),v<=0?(w=x/F,w>n[h]&&w<n[h+1]?S=[n[h],w,n[h+1]]:S=[n[h],n[h+1]]):(w=(x-R(v))/F,L=(x+R(v))/F,S=[n[h]],w>n[h]&&w<n[h+1]&&S.push(w),L>n[h]&&L<n[h+1]&&S.push(L),S.push(n[h+1])),E=S[0],w=this._at(E,h),f=0;f<S.length-1;f++){if(P=S[f+1],L=this._at(P,h),w===0){b.push(E),E=P,w=L;continue}if(L===0||w*L>0){E=P,w=L;continue}for(var N=0;U=(w*P-L*E)/(w-L),!(U<=E||U>=P);)if(V=this._at(U,h),V*L>0)P=U,L=V,N===-1&&(w*=.5),N=-1;else if(V*w>0)E=U,w=V,N===1&&(L*=.5),N=1;else break;b.push(U),E=S[f+1],w=this._at(E,h)}L===0&&b.push(P)}d[c]=b}return typeof this.yl[0]=="number"?d[0]:d},numeric.spline=function y(e,n,r,a){var i=e.length,u=[],t=[],o=[],c,h=numeric.sub,f=numeric.mul,p=numeric.add;for(c=i-2;c>=0;c--)t[c]=e[c+1]-e[c],o[c]=h(n[c+1],n[c]);(typeof r=="string"||typeof a=="string")&&(r=a="periodic");var m=[[],[],[]];switch(typeof r){case"undefined":u[0]=f(3/(t[0]*t[0]),o[0]),m[0].push(0,0),m[1].push(0,1),m[2].push(2/t[0],1/t[0]);break;case"string":u[0]=p(f(3/(t[i-2]*t[i-2]),o[i-2]),f(3/(t[0]*t[0]),o[0])),m[0].push(0,0,0),m[1].push(i-2,0,1),m[2].push(1/t[i-2],2/t[i-2]+2/t[0],1/t[0]);break;default:u[0]=r,m[0].push(0),m[1].push(0),m[2].push(1);break}for(c=1;c<i-1;c++)u[c]=p(f(3/(t[c-1]*t[c-1]),o[c-1]),f(3/(t[c]*t[c]),o[c])),m[0].push(c,c,c),m[1].push(c-1,c,c+1),m[2].push(1/t[c-1],2/t[c-1]+2/t[c],1/t[c]);switch(typeof a){case"undefined":u[i-1]=f(3/(t[i-2]*t[i-2]),o[i-2]),m[0].push(i-1,i-1),m[1].push(i-2,i-1),m[2].push(1/t[i-2],2/t[i-2]);break;case"string":m[1][m[1].length-1]=0;break;default:u[i-1]=a,m[0].push(i-1),m[1].push(i-1),m[2].push(1);break}typeof u[0]!="number"?u=numeric.transpose(u):u=[u];var s=Array(u.length);if(typeof r=="string")for(c=s.length-1;c!==-1;--c)s[c]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(m)),u[c]),s[c][i-1]=s[c][0];else for(c=s.length-1;c!==-1;--c)s[c]=numeric.cLUsolve(numeric.cLU(m),u[c]);return typeof n[0]=="number"?s=s[0]:s=numeric.transpose(s),new numeric.Spline(e,n,n,s,s)},numeric.fftpow2=function y(e,n){var r=e.length;if(r!==1){var a=Math.cos,i=Math.sin,u,t,o=Array(r/2),c=Array(r/2),h=Array(r/2),f=Array(r/2);for(t=r/2,u=r-1;u!==-1;--u)--t,h[t]=e[u],f[t]=n[u],--u,o[t]=e[u],c[t]=n[u];y(o,c),y(h,f),t=r/2;var p,m=-6.283185307179586/r,s,l;for(u=r-1;u!==-1;--u)--t,t===-1&&(t=r/2-1),p=m*u,s=a(p),l=i(p),e[u]=o[t]+s*h[t]-l*f[t],n[u]=c[t]+s*f[t]+l*h[t]}},numeric._ifftpow2=function y(e,n){var r=e.length;if(r!==1){var a=Math.cos,i=Math.sin,u,t,o=Array(r/2),c=Array(r/2),h=Array(r/2),f=Array(r/2);for(t=r/2,u=r-1;u!==-1;--u)--t,h[t]=e[u],f[t]=n[u],--u,o[t]=e[u],c[t]=n[u];y(o,c),y(h,f),t=r/2;var p,m=6.283185307179586/r,s,l;for(u=r-1;u!==-1;--u)--t,t===-1&&(t=r/2-1),p=m*u,s=a(p),l=i(p),e[u]=o[t]+s*h[t]-l*f[t],n[u]=c[t]+s*f[t]+l*h[t]}},numeric.ifftpow2=function y(e,n){numeric._ifftpow2(e,n),numeric.diveq(e,e.length),numeric.diveq(n,n.length)},numeric.convpow2=function y(e,n,r,a){numeric.fftpow2(e,n),numeric.fftpow2(r,a);var i,u=e.length,t,o,c,h;for(i=u-1;i!==-1;--i)t=e[i],c=n[i],o=r[i],h=a[i],e[i]=t*o-c*h,n[i]=t*h+c*o;numeric.ifftpow2(e,n)},numeric.T.prototype.fft=function y(){var e=this.x,n=this.y,r=e.length,a=Math.log,i=a(2),u=Math.ceil(a(2*r-1)/i),t=Math.pow(2,u),o=numeric.rep([t],0),c=numeric.rep([t],0),h=Math.cos,f=Math.sin,p,m=-3.141592653589793/r,s,l=numeric.rep([t],0),d=numeric.rep([t],0);for(p=0;p<r;p++)l[p]=e[p];if(typeof n<"u")for(p=0;p<r;p++)d[p]=n[p];for(o[0]=1,p=1;p<=t/2;p++)s=m*p*p,o[p]=h(s),c[p]=f(s),o[t-p]=h(s),c[t-p]=f(s);var b=new numeric.T(l,d),_=new numeric.T(o,c);return b=b.mul(_),numeric.convpow2(b.x,b.y,numeric.clone(_.x),numeric.neg(_.y)),b=b.mul(_),b.x.length=r,b.y.length=r,b},numeric.T.prototype.ifft=function y(){var e=this.x,n=this.y,r=e.length,a=Math.log,i=a(2),u=Math.ceil(a(2*r-1)/i),t=Math.pow(2,u),o=numeric.rep([t],0),c=numeric.rep([t],0),h=Math.cos,f=Math.sin,p,m=3.141592653589793/r,s,l=numeric.rep([t],0),d=numeric.rep([t],0);for(p=0;p<r;p++)l[p]=e[p];if(typeof n<"u")for(p=0;p<r;p++)d[p]=n[p];for(o[0]=1,p=1;p<=t/2;p++)s=m*p*p,o[p]=h(s),c[p]=f(s),o[t-p]=h(s),c[t-p]=f(s);var b=new numeric.T(l,d),_=new numeric.T(o,c);return b=b.mul(_),numeric.convpow2(b.x,b.y,numeric.clone(_.x),numeric.neg(_.y)),b=b.mul(_),b.x.length=r,b.y.length=r,b.div(r)},numeric.gradient=function y(e,n){var r=n.length,a=e(n);if(isNaN(a))throw new Error("gradient: f(x) is a NaN!");var f=Math.max,i,u=numeric.clone(n),t,o,c=Array(r);numeric.div,numeric.sub;var h,f=Math.max,p=.001,m=Math.abs,s=Math.min,l,d,b,_=0,D,g,M;for(i=0;i<r;i++)for(var x=f(1e-6*a,1e-8);;){if(++_,_>20)throw new Error("Numerical gradient fails");if(u[i]=n[i]+x,t=e(u),u[i]=n[i]-x,o=e(u),u[i]=n[i],isNaN(t)||isNaN(o)){x/=16;continue}if(c[i]=(t-o)/(2*x),l=n[i]-x,d=n[i],b=n[i]+x,D=(t-a)/x,g=(a-o)/x,M=f(m(c[i]),m(a),m(t),m(o),m(l),m(d),m(b),1e-8),h=s(f(m(D-c[i]),m(g-c[i]),m(D-g))/M,x/M),h>p)x/=16;else break}return c},numeric.uncmin=function y(e,n,r,a,i,u,t){var o=numeric.gradient;typeof t>"u"&&(t={}),typeof r>"u"&&(r=1e-8),typeof a>"u"&&(a=function(rr){return o(e,rr)}),typeof i>"u"&&(i=1e3),n=numeric.clone(n);var c=n.length,h=e(n),f,p;if(isNaN(h))throw new Error("uncmin: f(x0) is a NaN!");var m=Math.max,s=numeric.norm2;r=m(r,numeric.epsilon);var l,d,b,_=t.Hinv||numeric.identity(c),D=numeric.dot;numeric.inv;var g=numeric.sub,M=numeric.add,x=numeric.tensor,F=numeric.div,v=numeric.mul,j=numeric.all,S=numeric.isFinite,w=numeric.neg,L=0,V,E,P,U,R,N,I,Z="";for(d=a(n);L<i;){if(typeof u=="function"&&u(L,n,h,d,_)){Z="Callback returned true";break}if(!j(S(d))){Z="Gradient has Infinity or NaN";break}if(l=w(D(_,d)),!j(S(l))){Z="Search direction has Infinity or NaN";break}if(I=s(l),I<r){Z="Newton step smaller than tol";break}for(N=1,p=D(d,l),E=n;L<i&&!(N*I<r);){if(V=v(l,N),E=M(n,V),f=e(E),f-h>=.1*N*p||isNaN(f)){N*=.5,++L;continue}break}if(N*I<r){Z="Line search step size smaller than tol";break}if(L===i){Z="maxit reached during line search";break}b=a(E),P=g(b,d),R=D(P,V),U=D(_,P),_=g(M(_,v((R+D(P,U))/(R*R),x(V,V))),F(M(x(U,V),x(V,U)),R)),n=E,h=f,d=b,++L}return{solution:n,f:h,gradient:d,invHessian:_,iterations:L,message:Z}},numeric.Dopri=function y(e,n,r,a,i,u,t){this.x=e,this.y=n,this.f=r,this.ymid=a,this.iterations=i,this.events=t,this.message=u},numeric.Dopri.prototype._at=function y(l,n){function r(v){return v*v}var a=this,i=a.x,u=a.y,t=a.f,o=a.ymid;i.length;var c,h,f,p,m,s,l,d,b=.5,_=numeric.add,D=numeric.mul,g=numeric.sub,M,x,F;return c=i[n],h=i[n+1],p=u[n],m=u[n+1],d=h-c,f=c+b*d,s=o[n],M=g(t[n],D(p,1/(c-f)+2/(c-h))),x=g(t[n+1],D(m,1/(h-f)+2/(h-c))),F=[r(l-h)*(l-f)/r(c-h)/(c-f),r(l-c)*r(l-h)/r(c-f)/r(h-f),r(l-c)*(l-f)/r(h-c)/(h-f),(l-c)*r(l-h)*(l-f)/r(c-h)/(c-f),(l-h)*r(l-c)*(l-f)/r(c-h)/(h-f)],_(_(_(_(D(p,F[0]),D(s,F[1])),D(m,F[2])),D(M,F[3])),D(x,F[4]))},numeric.Dopri.prototype.at=function y(e){var n,r,a,i=Math.floor;if(typeof e!="number"){var u=e.length,t=Array(u);for(n=u-1;n!==-1;--n)t[n]=this.at(e[n]);return t}var o=this.x;for(n=0,r=o.length-1;r-n>1;)a=i(.5*(n+r)),o[a]<=e?n=a:r=a;return this._at(e,n)},numeric.dopri=function y(e,n,r,a,i,u,t){typeof i>"u"&&(i=1e-6),typeof u>"u"&&(u=1e3);var o=[e],c=[r],h=[a(e,r)],f,p,m,s,l,d,b=[],_=1/5,D=[3/40,9/40],g=[44/45,-56/15,32/9],M=[19372/6561,-25360/2187,64448/6561,-212/729],x=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],F=[35/384,0,500/1113,125/192,-2187/6784,11/84],v=[.5*6025192743/30085553152,0,.5*51252292925/65400821598,.5*-2691868925/45128329728,.5*187940372067/1594534317056,.5*-1776094331/19743644256,.5*11237099/235043384],j=[1/5,3/10,4/5,8/9,1,1],S=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,1/40],w=0,L,V,E=(n-e)/10,P=0,U=numeric.add,R=numeric.mul,N,I,Z=Math.min,rr=Math.abs,O=numeric.norminf,q=Math.pow,W=numeric.any,z=numeric.lt,Y=numeric.and;numeric.sub;var Q,$,H,G=new numeric.Dopri(o,c,h,b,-1,"");for(typeof t=="function"&&(Q=t(e,r));e<n&&P<u;){if(++P,e+E>n&&(E=n-e),f=a(e+j[0]*E,U(r,R(_*E,h[w]))),p=a(e+j[1]*E,U(U(r,R(D[0]*E,h[w])),R(D[1]*E,f))),m=a(e+j[2]*E,U(U(U(r,R(g[0]*E,h[w])),R(g[1]*E,f)),R(g[2]*E,p))),s=a(e+j[3]*E,U(U(U(U(r,R(M[0]*E,h[w])),R(M[1]*E,f)),R(M[2]*E,p)),R(M[3]*E,m))),l=a(e+j[4]*E,U(U(U(U(U(r,R(x[0]*E,h[w])),R(x[1]*E,f)),R(x[2]*E,p)),R(x[3]*E,m)),R(x[4]*E,s))),N=U(U(U(U(U(r,R(h[w],E*F[0])),R(p,E*F[2])),R(m,E*F[3])),R(s,E*F[4])),R(l,E*F[5])),d=a(e+E,N),L=U(U(U(U(U(R(h[w],E*S[0]),R(p,E*S[2])),R(m,E*S[3])),R(s,E*S[4])),R(l,E*S[5])),R(d,E*S[6])),typeof L=="number"?I=rr(L):I=O(L),I>i){if(E=.2*E*q(i/I,.25),e+E===e){G.msg="Step size became too small";break}continue}if(b[w]=U(U(U(U(U(U(r,R(h[w],E*v[0])),R(p,E*v[2])),R(m,E*v[3])),R(s,E*v[4])),R(l,E*v[5])),R(d,E*v[6])),++w,o[w]=e+E,c[w]=N,h[w]=d,typeof t=="function"){var K,ir=e,J=e+.5*E,X;if($=t(J,b[w-1]),H=Y(z(Q,0),z(0,$)),W(H)||(ir=J,J=e+E,Q=$,$=t(J,N),H=Y(z(Q,0),z(0,$))),W(H)){for(var ar,tr,ur=0,nr=1,er=1;;){if(typeof Q=="number")X=(er*$*ir-nr*Q*J)/(er*$-nr*Q);else for(X=J,V=Q.length-1;V!==-1;--V)Q[V]<0&&$[V]>0&&(X=Z(X,(er*$[V]*ir-nr*Q[V]*J)/(er*$[V]-nr*Q[V])));if(X<=ir||X>=J)break;K=G._at(X,w-1),tr=t(X,K),ar=Y(z(Q,0),z(0,tr)),W(ar)?(J=X,$=tr,H=ar,er=1,ur===-1?nr*=.5:nr=1,ur=-1):(ir=X,Q=tr,nr=1,ur===1?er*=.5:er=1,ur=1)}return N=G._at(.5*(e+X),w-1),G.f[w]=a(X,K),G.x[w]=X,G.y[w]=K,G.ymid[w-1]=N,G.events=H,G.iterations=P,G}}e+=E,r=N,Q=$,E=Z(.8*E*q(i/I,.25),4*E)}return G.iterations=P,G},numeric.LU=function(y,e){e=e||!1;var n=Math.abs,r,a,i,u,t,o,c,h,f,p=y.length,m=p-1,s=new Array(p);for(e||(y=numeric.clone(y)),i=0;i<p;++i){for(c=i,o=y[i],f=n(o[i]),a=i+1;a<p;++a)u=n(y[a][i]),f<u&&(f=u,c=a);for(s[i]=c,c!=i&&(y[i]=y[c],y[c]=o,o=y[i]),t=o[i],r=i+1;r<p;++r)y[r][i]/=t;for(r=i+1;r<p;++r){for(h=y[r],a=i+1;a<m;++a)h[a]-=h[i]*o[a],++a,h[a]-=h[i]*o[a];a===m&&(h[a]-=h[i]*o[a])}}return{LU:y,P:s}},numeric.LUsolve=function y(e,n){var r,a,i=e.LU,u=i.length,t=numeric.clone(n),o=e.P,c,h,f;for(r=u-1;r!==-1;--r)t[r]=n[r];for(r=0;r<u;++r)for(c=o[r],o[r]!==r&&(f=t[r],t[r]=t[c],t[c]=f),h=i[r],a=0;a<r;++a)t[r]-=t[a]*h[a];for(r=u-1;r>=0;--r){for(h=i[r],a=r+1;a<u;++a)t[r]-=t[a]*h[a];t[r]/=h[r]}return t},numeric.solve=function y(e,n,r){return numeric.LUsolve(numeric.LU(e,r),n)},numeric.echelonize=function y(e){var n=numeric.dim(e),r=n[0],a=n[1],i=numeric.identity(r),u=Array(r),t,o,c,h,f,p,m,s,l=Math.abs,d=numeric.diveq;for(e=numeric.clone(e),t=0;t<r;++t){for(c=0,f=e[t],p=i[t],o=1;o<a;++o)l(f[c])<l(f[o])&&(c=o);for(u[t]=c,d(p,f[c]),d(f,f[c]),o=0;o<r;++o)if(o!==t){for(m=e[o],s=m[c],h=a-1;h!==-1;--h)m[h]-=f[h]*s;for(m=i[o],h=r-1;h!==-1;--h)m[h]-=p[h]*s}}return{I:i,A:e,P:u}},numeric.__solveLP=function y(e,n,r,a,i,u,t){var o=numeric.sum;numeric.log;var c=numeric.mul,h=numeric.sub,f=numeric.dot,p=numeric.div,m=numeric.add,s=e.length,l=r.length,d,b=!1,_=0,D=1;numeric.transpose(n),numeric.svd;var g=numeric.transpose;numeric.leq;var M=Math.sqrt,x=Math.abs;numeric.muleq,numeric.norminf,numeric.any;var F=Math.min,v=numeric.all,j=numeric.gt,S=Array(s),w=Array(l);numeric.rep([l],1);var L,V=numeric.solve,E=h(r,f(n,u)),P,U=f(e,e),R;for(P=_;P<i;++P){var N,I;for(N=l-1;N!==-1;--N)w[N]=p(n[N],E[N]);var Z=g(w);for(N=s-1;N!==-1;--N)S[N]=o(Z[N]);D=.25*x(U/f(e,S));var rr=100*M(U/f(S,S));for((!isFinite(D)||D>rr)&&(D=rr),R=m(e,c(D,S)),L=f(Z,w),N=s-1;N!==-1;--N)L[N][N]+=1;I=V(L,p(R,D),!0);var O=p(E,f(n,I)),q=1;for(N=l-1;N!==-1;--N)O[N]<0&&(q=F(q,-.999*O[N]));if(d=h(u,c(I,q)),E=h(r,f(n,d)),!v(j(E,0)))return{solution:u,message:"",iterations:P};if(u=d,D<a)return{solution:d,message:"",iterations:P};if(t){var W=f(e,R),z=f(n,R);for(b=!0,N=l-1;N!==-1;--N)if(W*z[N]<0){b=!1;break}}else u[s-1]>=0?b=!1:b=!0;if(b)return{solution:d,message:"Unbounded",iterations:P}}return{solution:u,message:"maximum iteration count exceeded",iterations:P}},numeric._solveLP=function y(e,n,r,a,i){var u=e.length,t=r.length,s;numeric.sum,numeric.log,numeric.mul;var o=numeric.sub,c=numeric.dot;numeric.div,numeric.add;var h=numeric.rep([u],0).concat([1]),f=numeric.rep([t,1],-1),p=numeric.blockMatrix([[n,f]]),m=r,s=numeric.rep([u],0).concat(Math.max(0,numeric.sup(numeric.neg(r)))+1),l=numeric.__solveLP(h,p,m,a,i,s,!1),d=numeric.clone(l.solution);d.length=u;var b=numeric.inf(o(r,c(n,d)));if(b<0)return{solution:NaN,message:"Infeasible",iterations:l.iterations};var _=numeric.__solveLP(e,n,r,a,i-l.iterations,d,!0);return _.iterations+=l.iterations,_},numeric.solveLP=function y(e,n,r,a,i,u,t){if(typeof t>"u"&&(t=1e3),typeof u>"u"&&(u=numeric.epsilon),typeof a>"u")return numeric._solveLP(e,n,r,u,t);var o=a.length,c=a[0].length,h=n.length,f=numeric.echelonize(a),p=numeric.rep([c],0),m=f.P,s=[],l;for(l=m.length-1;l!==-1;--l)p[m[l]]=1;for(l=c-1;l!==-1;--l)p[l]===0&&s.push(l);var d=numeric.getRange,b=numeric.linspace(0,o-1),_=numeric.linspace(0,h-1),D=d(a,b,s),g=d(n,_,m),M=d(n,_,s),x=numeric.dot,F=numeric.sub,v=x(g,f.I),j=F(M,x(v,D)),S=F(r,x(v,i)),w=Array(m.length),L=Array(s.length);for(l=m.length-1;l!==-1;--l)w[l]=e[m[l]];for(l=s.length-1;l!==-1;--l)L[l]=e[s[l]];var V=F(L,x(w,x(f.I,D))),E=numeric._solveLP(V,j,S,u,t),P=E.solution;if(P!==P)return E;var U=x(f.I,F(i,x(D,P))),R=Array(e.length);for(l=m.length-1;l!==-1;--l)R[m[l]]=U[l];for(l=s.length-1;l!==-1;--l)R[s[l]]=P[l];return{solution:R,message:E.message,iterations:E.iterations}},numeric.MPStoLP=function y(e){e instanceof String&&e.split(`
`);var n=0,r=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],a=e.length,i,u,t,o=0,c={},h=[],f=0,p={},m=0,s,l=[],d=[],b=[];function _(F){throw new Error("MPStoLP: "+F+`
Line `+i+": "+e[i]+`
Current state: `+r[n]+`
`)}for(i=0;i<a;++i){t=e[i];var D=t.match(/\S*/g),g=[];for(u=0;u<D.length;++u)D[u]!==""&&g.push(D[u]);if(g.length!==0){for(u=0;u<r.length&&t.substr(0,r[u].length)!==r[u];++u);if(u<r.length){if(n=u,u===1&&(s=g[1]),u===6)return{name:s,c:l,A:numeric.transpose(d),b,rows:c,vars:p};continue}switch(n){case 0:case 1:_("Unexpected line");case 2:switch(g[0]){case"N":o===0?o=g[1]:_("Two or more N rows");break;case"L":c[g[1]]=f,h[f]=1,b[f]=0,++f;break;case"G":c[g[1]]=f,h[f]=-1,b[f]=0,++f;break;case"E":c[g[1]]=f,h[f]=0,b[f]=0,++f;break;default:_("Parse error "+numeric.prettyPrint(g))}break;case 3:p.hasOwnProperty(g[0])||(p[g[0]]=m,l[m]=0,d[m]=numeric.rep([f],0),++m);var M=p[g[0]];for(u=1;u<g.length;u+=2){if(g[u]===o){l[M]=parseFloat(g[u+1]);continue}var x=c[g[u]];d[M][x]=(h[x]<0?-1:1)*parseFloat(g[u+1])}break;case 4:for(u=1;u<g.length;u+=2)b[c[g[u]]]=(h[c[g[u]]]<0?-1:1)*parseFloat(g[u+1]);break;case 5:break;case 6:_("Internal error")}}}_("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(y,e,n,r,a,i,u){e.seedrandom=function(p,m){var s=[],l;return p=c(o(m?[p,y]:arguments.length?p:[new Date().getTime(),y,window],3),s),l=new t(s),c(l.S,y),e.random=function(){for(var b=l.g(r),_=u,D=0;b<a;)b=(b+D)*n,_*=n,D=l.g(1);for(;b>=i;)b/=2,_/=2,D>>>=1;return(b+D)/_},p};function t(f){var p,m,s=this,l=f.length,d=0,b=s.i=s.j=s.m=0;for(s.S=[],s.c=[],l||(f=[l++]);d<n;)s.S[d]=d++;for(d=0;d<n;d++)p=s.S[d],b=h(b+p+f[d%l]),m=s.S[b],s.S[d]=m,s.S[b]=p;s.g=function(D){var g=s.S,M=h(s.i+1),x=g[M],F=h(s.j+x),v=g[F];g[M]=v,g[F]=x;for(var j=g[h(x+v)];--D;)M=h(M+1),x=g[M],F=h(F+x),v=g[F],g[M]=v,g[F]=x,j=j*n+g[h(x+v)];return s.i=M,s.j=F,j},s.g(n)}function o(f,p,m,s,l){if(m=[],l=typeof f,p&&l=="object"){for(s in f)if(s.indexOf("S")<5)try{m.push(o(f[s],p-1))}catch{}}return m.length?m:f+(l!="string"?"\0":"")}function c(f,p,m,s){for(f+="",m=0,s=0;s<f.length;s++)p[h(s)]=h((m^=p[h(s)]*19)+f.charCodeAt(s));f="";for(s in p)f+=String.fromCharCode(p[s]);return f}function h(f){return f&n-1}u=e.pow(n,r),a=e.pow(2,a),i=a*2,c(e.random(),y)}([],numeric.seedrandom,256,6,52),function(y){function e(o){if(typeof o!="object")return o;var c=[],h,f=o.length;for(h=0;h<f;h++)c[h+1]=e(o[h]);return c}function n(o){if(typeof o!="object")return o;var c=[],h,f=o.length;for(h=1;h<f;h++)c[h-1]=n(o[h]);return c}function r(o,c,h){var f,p,m,s,l;for(m=1;m<=h;m=m+1){for(o[m][m]=1/o[m][m],l=-o[m][m],f=1;f<m;f=f+1)o[f][m]=l*o[f][m];if(s=m+1,h<s)break;for(p=s;p<=h;p=p+1)for(l=o[m][p],o[m][p]=0,f=1;f<=m;f=f+1)o[f][p]=o[f][p]+l*o[f][m]}}function a(o,c,h,f){var p,m,s,l;for(m=1;m<=h;m=m+1){for(l=0,p=1;p<m;p=p+1)l=l+o[p][m]*f[p];f[m]=(f[m]-l)/o[m][m]}for(s=1;s<=h;s=s+1)for(m=h+1-s,f[m]=f[m]/o[m][m],l=-f[m],p=1;p<m;p=p+1)f[p]=f[p]+l*o[p][m]}function i(o,c,h,f){var p,m,s,l,d,b;for(m=1;m<=h;m=m+1){if(f[1]=m,b=0,s=m-1,s<1){if(b=o[m][m]-b,b<=0)break;o[m][m]=Math.sqrt(b)}else{for(l=1;l<=s;l=l+1){for(d=o[l][m],p=1;p<l;p=p+1)d=d-o[p][m]*o[p][l];d=d/o[l][l],o[l][m]=d,b=b+d*d}if(b=o[m][m]-b,b<=0)break;o[m][m]=Math.sqrt(b)}f[1]=0}}function u(o,c,h,f,p,m,s,l,d,b,_,D,g,M,x,F){var v,j,S,w,L,V,E,P,U,R,N,I,Z,rr,O,q,W,z,Y,Q,$,H,G,K,ir,J,X;Z=Math.min(f,b),S=2*f+Z*(Z+5)/2+2*b+1,K=1e-60;do K=K+K,ir=1+.1*K,J=1+.2*K;while(ir<=1||J<=1);for(v=1;v<=f;v=v+1)x[v]=c[v];for(v=f+1;v<=S;v=v+1)x[v]=0;for(v=1;v<=b;v=v+1)D[v]=0;if(L=[],F[1]===0){if(i(o,h,f,L),L[1]!==0){F[1]=2;return}a(o,h,f,c),r(o,h,f)}else{for(j=1;j<=f;j=j+1)for(p[j]=0,v=1;v<=j;v=v+1)p[j]=p[j]+o[v][j]*c[v];for(j=1;j<=f;j=j+1)for(c[j]=0,v=j;v<=f;v=v+1)c[j]=c[j]+o[j][v]*p[v]}for(m[1]=0,j=1;j<=f;j=j+1)for(p[j]=c[j],m[1]=m[1]+x[j]*p[j],x[j]=0,v=j+1;v<=f;v=v+1)o[v][j]=0;for(m[1]=-m[1]/2,F[1]=0,E=f,P=E+f,N=P+Z,U=N+Z+1,R=U+Z*(Z+1)/2,rr=R+b,v=1;v<=b;v=v+1){for(q=0,j=1;j<=f;j=j+1)q=q+s[j][v]*s[j][v];x[rr+v]=Math.sqrt(q)}g=0,M[1]=0,M[2]=0;function ar(){for(M[1]=M[1]+1,S=R,v=1;v<=b;v=v+1){for(S=S+1,q=-l[v],j=1;j<=f;j=j+1)q=q+s[j][v]*p[j];if(Math.abs(q)<K&&(q=0),v>_)x[S]=q;else if(x[S]=-Math.abs(q),q>0){for(j=1;j<=f;j=j+1)s[j][v]=-s[j][v];l[v]=-l[v]}}for(v=1;v<=g;v=v+1)x[R+D[v]]=0;for(I=0,O=0,v=1;v<=b;v=v+1)x[R+v]<O*x[rr+v]&&(I=v,O=x[R+v]/x[rr+v]);return I===0?999:0}function tr(){for(v=1;v<=f;v=v+1){for(q=0,j=1;j<=f;j=j+1)q=q+o[j][v]*s[j][I];x[v]=q}for(w=E,v=1;v<=f;v=v+1)x[w+v]=0;for(j=g+1;j<=f;j=j+1)for(v=1;v<=f;v=v+1)x[w+v]=x[w+v]+o[v][j]*x[j];for(H=!0,v=g;v>=1;v=v-1){for(q=x[v],S=U+v*(v+3)/2,w=S-v,j=v+1;j<=g;j=j+1)q=q-x[S]*x[P+j],S=S+j;if(q=q/x[w],x[P+v]=q,D[v]<_||q<0)break;H=!1,V=v}if(!H)for(W=x[N+V]/x[P+V],v=1;v<=g&&!(D[v]<_||x[P+v]<0);v=v+1)O=x[N+v]/x[P+v],O<W&&(W=O,V=v);for(q=0,v=E+1;v<=E+f;v=v+1)q=q+x[v]*x[v];if(Math.abs(q)<=K){if(H)return F[1]=1,999;for(v=1;v<=g;v=v+1)x[N+v]=x[N+v]-W*x[P+v];return x[N+g+1]=x[N+g+1]+W,700}else{for(q=0,v=1;v<=f;v=v+1)q=q+x[E+v]*s[v][I];for(z=-x[R+I]/q,G=!0,H||W<z&&(z=W,G=!1),v=1;v<=f;v=v+1)p[v]=p[v]+z*x[E+v],Math.abs(p[v])<K&&(p[v]=0);for(m[1]=m[1]+z*q*(z/2+x[N+g+1]),v=1;v<=g;v=v+1)x[N+v]=x[N+v]-z*x[P+v];if(x[N+g+1]=x[N+g+1]+z,G){for(g=g+1,D[g]=I,S=U+(g-1)*g/2+1,v=1;v<=g-1;v=v+1)x[S]=x[v],S=S+1;if(g===f)x[S]=x[f];else{for(v=f;v>=g+1&&!(x[v]===0||(Y=Math.max(Math.abs(x[v-1]),Math.abs(x[v])),Q=Math.min(Math.abs(x[v-1]),Math.abs(x[v])),x[v-1]>=0?O=Math.abs(Y*Math.sqrt(1+Q*Q/(Y*Y))):O=-Math.abs(Y*Math.sqrt(1+Q*Q/(Y*Y))),Y=x[v-1]/O,Q=x[v]/O,Y===1));v=v-1)if(Y===0)for(x[v-1]=Q*O,j=1;j<=f;j=j+1)O=o[j][v-1],o[j][v-1]=o[j][v],o[j][v]=O;else for(x[v-1]=O,$=Q/(1+Y),j=1;j<=f;j=j+1)O=Y*o[j][v-1]+Q*o[j][v],o[j][v]=$*(o[j][v-1]+O)-o[j][v],o[j][v-1]=O;x[S]=x[g]}}else{for(q=-l[I],j=1;j<=f;j=j+1)q=q+p[j]*s[j][I];if(I>_)x[R+I]=q;else if(x[R+I]=-Math.abs(q),q>0){for(j=1;j<=f;j=j+1)s[j][I]=-s[j][I];l[I]=-l[I]}return 700}}return 0}function ur(){if(S=U+V*(V+1)/2+1,w=S+V,x[w]===0||(Y=Math.max(Math.abs(x[w-1]),Math.abs(x[w])),Q=Math.min(Math.abs(x[w-1]),Math.abs(x[w])),x[w-1]>=0?O=Math.abs(Y*Math.sqrt(1+Q*Q/(Y*Y))):O=-Math.abs(Y*Math.sqrt(1+Q*Q/(Y*Y))),Y=x[w-1]/O,Q=x[w]/O,Y===1))return 798;if(Y===0){for(v=V+1;v<=g;v=v+1)O=x[w-1],x[w-1]=x[w],x[w]=O,w=w+v;for(v=1;v<=f;v=v+1)O=o[v][V],o[v][V]=o[v][V+1],o[v][V+1]=O}else{for($=Q/(1+Y),v=V+1;v<=g;v=v+1)O=Y*x[w-1]+Q*x[w],x[w]=$*(x[w-1]+O)-x[w],x[w-1]=O,w=w+v;for(v=1;v<=f;v=v+1)O=Y*o[v][V]+Q*o[v][V+1],o[v][V+1]=$*(o[v][V]+O)-o[v][V+1],o[v][V]=O}return 0}function nr(){for(w=S-V,v=1;v<=V;v=v+1)x[w]=x[S],S=S+1,w=w+1;return x[N+V]=x[N+V+1],D[V]=D[V+1],V=V+1,V<g?797:0}function er(){return x[N+g]=x[N+g+1],x[N+g+1]=0,D[g]=0,g=g-1,M[2]=M[2]+1,0}for(X=0;;){if(X=ar(),X===999)return;for(;X=tr(),X!==0;){if(X===999)return;if(X===700)if(V===g)er();else{for(;ur(),X=nr(),X===797;);er()}}}}function t(o,c,h,f,p,m){o=e(o),c=e(c),h=e(h);var s,l,d,b,_,D=[],g=[],M=[],x=[],F=[],v;if(p=p||0,m=m?e(m):[void 0,0],f=f?e(f):[],l=o.length-1,d=h[1].length-1,!f)for(s=1;s<=d;s=s+1)f[s]=0;for(s=1;s<=d;s=s+1)g[s]=0;for(b=0,_=Math.min(l,d),s=1;s<=l;s=s+1)M[s]=0;for(D[1]=0,s=1;s<=2*l+_*(_+5)/2+2*d+1;s=s+1)x[s]=0;for(s=1;s<=2;s=s+1)F[s]=0;return u(o,c,l,l,M,D,h,f,l,d,p,g,b,F,x,m),v="",m[1]===1&&(v="constraints are inconsistent, no solution!"),m[1]===2&&(v="matrix D in quadratic function is not positive definite!"),{solution:n(M),value:n(D),unconstrained_solution:n(c),iterations:n(F),iact:n(g),message:v}}y.solveQP=t}(numeric),numeric.svd=function y(e){var n,r=numeric.epsilon,a=1e-64/r,i=50,u=0,t=0,o=0,c=0,h=0,f=numeric.clone(e),p=f.length,m=f[0].length;if(p<m)throw"Need more rows than columns";var s=new Array(m),l=new Array(m);for(t=0;t<m;t++)s[t]=l[t]=0;var d=numeric.rep([m,m],0);function b(L,V){return L=Math.abs(L),V=Math.abs(V),L>V?L*Math.sqrt(1+V*V/L/L):V==0?L:V*Math.sqrt(1+L*L/V/V)}var _=0,D=0,g=0,M=0,x=0,F=0,v=0;for(t=0;t<m;t++){for(s[t]=D,v=0,h=t+1,o=t;o<p;o++)v+=f[o][t]*f[o][t];if(v<=a)D=0;else for(_=f[t][t],D=Math.sqrt(v),_>=0&&(D=-D),g=_*D-v,f[t][t]=_-D,o=h;o<m;o++){for(v=0,c=t;c<p;c++)v+=f[c][t]*f[c][o];for(_=v/g,c=t;c<p;c++)f[c][o]+=_*f[c][t]}for(l[t]=D,v=0,o=h;o<m;o++)v=v+f[t][o]*f[t][o];if(v<=a)D=0;else{for(_=f[t][t+1],D=Math.sqrt(v),_>=0&&(D=-D),g=_*D-v,f[t][t+1]=_-D,o=h;o<m;o++)s[o]=f[t][o]/g;for(o=h;o<p;o++){for(v=0,c=h;c<m;c++)v+=f[o][c]*f[t][c];for(c=h;c<m;c++)f[o][c]+=v*s[c]}}x=Math.abs(l[t])+Math.abs(s[t]),x>M&&(M=x)}for(t=m-1;t!=-1;t+=-1){if(D!=0){for(g=D*f[t][t+1],o=h;o<m;o++)d[o][t]=f[t][o]/g;for(o=h;o<m;o++){for(v=0,c=h;c<m;c++)v+=f[t][c]*d[c][o];for(c=h;c<m;c++)d[c][o]+=v*d[c][t]}}for(o=h;o<m;o++)d[t][o]=0,d[o][t]=0;d[t][t]=1,D=s[t],h=t}for(t=m-1;t!=-1;t+=-1){for(h=t+1,D=l[t],o=h;o<m;o++)f[t][o]=0;if(D!=0){for(g=f[t][t]*D,o=h;o<m;o++){for(v=0,c=h;c<p;c++)v+=f[c][t]*f[c][o];for(_=v/g,c=t;c<p;c++)f[c][o]+=_*f[c][t]}for(o=t;o<p;o++)f[o][t]=f[o][t]/D}else for(o=t;o<p;o++)f[o][t]=0;f[t][t]+=1}for(r=r*M,c=m-1;c!=-1;c+=-1)for(var j=0;j<i;j++){var S=!1;for(h=c;h!=-1;h+=-1){if(Math.abs(s[h])<=r){S=!0;break}if(Math.abs(l[h-1])<=r)break}if(!S){u=0,v=1;var w=h-1;for(t=h;t<c+1&&(_=v*s[t],s[t]=u*s[t],!(Math.abs(_)<=r));t++)for(D=l[t],g=b(_,D),l[t]=g,u=D/g,v=-_/g,o=0;o<p;o++)x=f[o][w],F=f[o][t],f[o][w]=x*u+F*v,f[o][t]=-x*v+F*u}if(F=l[c],h==c){if(F<0)for(l[c]=-F,o=0;o<m;o++)d[o][c]=-d[o][c];break}if(j>=i-1)throw"Error: no convergence.";for(M=l[h],x=l[c-1],D=s[c-1],g=s[c],_=((x-F)*(x+F)+(D-g)*(D+g))/(2*g*x),D=b(_,1),_<0?_=((M-F)*(M+F)+g*(x/(_-D)-g))/M:_=((M-F)*(M+F)+g*(x/(_+D)-g))/M,u=1,v=1,t=h+1;t<c+1;t++){for(D=s[t],x=l[t],g=v*D,D=u*D,F=b(_,g),s[t-1]=F,u=_/F,v=g/F,_=M*u+D*v,D=-M*v+D*u,g=x*v,x=x*u,o=0;o<m;o++)M=d[o][t-1],F=d[o][t],d[o][t-1]=M*u+F*v,d[o][t]=-M*v+F*u;for(F=b(_,g),l[t-1]=F,u=_/F,v=g/F,_=u*D+v*x,M=-v*D+u*x,o=0;o<p;o++)x=f[o][t-1],F=f[o][t],f[o][t-1]=x*u+F*v,f[o][t]=-x*v+F*u}s[h]=0,s[c]=_,l[c]=M}for(t=0;t<l.length;t++)l[t]<r&&(l[t]=0);for(t=0;t<m;t++)for(o=t-1;o>=0;o--)if(l[o]<l[t]){for(u=l[o],l[o]=l[t],l[t]=u,c=0;c<f.length;c++)n=f[c][t],f[c][t]=f[c][o],f[c][o]=n;for(c=0;c<d.length;c++)n=d[c][t],d[c][t]=d[c][o],d[c][o]=n;t=o}return{U:f,S:l,V:d}}}(numeric1_2_6)),numeric1_2_6}var numeric1_2_6Exports=requireNumeric1_2_6();const numeric=getDefaultExportFromCjs(numeric1_2_6Exports);window.numeric=numeric;const _sfc_main={name:"MainAccelCurveMaker",components:{BaseSearchTrackDialog,BaseConfigCheckBox,BaseFilterDescription,BaseFilterDialog,Row,Highcharts,BaseChip,BaseText},props:{test:{type:Boolean,default:!1}},data(){return{speedTicks:[{type:"mph",v:62,time:2.3},{type:"mph",v:186,time:9},{type:"mph",v:248,time:17}],speedTicks1:[{v:62,time:2.9},{v:100,time:5.1},{v:224,time:18.5}],speedTicks2:[{v:62,time:1.86},{v:124,time:4.75},{v:217,time:17}],speedTicks3:[{v:60,time:3.6},{v:129,time:11.4},{v:200,time:50}],speedTicks4:[{v:60,time:4.1},{v:124,time:16.9},{v:169,time:85}],speedTicks7:[{v:62,time:4},{v:120,time:11.7},{v:174,time:85}],speedTicks8:[{v:60,time:5.8},{v:95,time:14.7},{v:155,time:99}],speedTicks9:[{v:62,time:2.56},{v:186,time:8.4},{v:311,time:24.9}],speedTicks10:[{v:62,time:5.9},{v:124,time:23.2},{v:140,time:33.7}],speedTicks5:[{v:60,time:18},{v:80,time:25},{v:84,time:55}],speedTicks6:[{v:60,time:2.5},{v:80,time:14},{v:120,time:24}],highchartsConfig:{},counter:0,v60:0,v100:0,highestSpeed:0,showMra:!1,snap:!0}},watch:{},beforeMount(){},mounted(){setTimeout(()=>{this.prepareChart()},100)},beforeDestroy(){},computed:{ready(){let y=!0,e=0,n=0;if(this.speedTicks.find(i=>{if(Number(i.v)<=e||Number(i.time)<=n)return!0;e=Number(i.v),n=Number(i.time)}))return!1;let a=this.speedTicks.map(i=>(i.v||(y=!1),Number(i.v)));return this.highestSpeed=Math.max(...a),!!y}},methods:{prepareChart(y="",e=0,n={}){if(e++,e>5){this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:"Unable to resolve MRA",type:"error"});return}let r=this,a=[0],i=[0],u=[];this[`speedTicks${y}`].map((m,s)=>{m.v&&m.time&&(a.push(Number(m.time)),i.push(Number(m.v)),u.push(Number(m.v)),this.speedTicks[s].v=Number(m.v),this.speedTicks[s].time=Number(m.time))}),this.highestSpeed=Math.max(...u);let t=[];if(i.map((m,s)=>{t.push([a[s],m])}),n.last&&(t[t.length-1]=[n.last,t[t.length-1][1]]),n.first&&(t[1]=[n.first,t[1][1]]),this.highestSpeed<105){let m=t.map(s=>({x:s[0],y:s[1]}));this.v100=0,this.v60=0,this.showMra=!1,r.buildChart(m);return}this.showMra=!0;let o=[],c=[];for(let m=0;m<t.length;++m)c.push([t[m][0],t[m][1]]),o.push({x:t[m][0],y:t[m][1]});{let m=function(g,M,x,F,v,j){var S=x+(M-x)/(1+Math.pow(g/F,j))*Math.pow(g/F,v);return S},s=t.map(g=>g[0]),l=t.map(g=>g[1]);s.length>=3&&(s[s.length-2],s[s.length-1]);var h=numeric.uncmin(function(g){for(var M=[],x=0;x<s.length;x++){var F=s[x],v=l[x],j=m(F,g[0],g[1],g[2],g[3],g[4]),S=v-j;M.push(S)}return numeric.norm2(M)},[1,1,1,1,1]),f=h.solution;let d=[],b=[];for(let g=0;g<t.length;++g)d.push({x:t[g][0],y:t[g][1]});let _=Math.min.apply(null,s),D=Math.max.apply(null,s);{b=[];let g=10,M=(D-_)/g;for(let x=0;x<=g;++x){let F=_+x*M;var p=m(F,f[0],f[1],f[2],f[3],f[4]);b.push({x:F,y:p})}}{let g=d.find(x=>x.y===100);g?this.v100=g.x:(this.v100=this.aproxY(m,f,101),d.push({x:this.v100,y:100}));let M=d.find(x=>x.y===60);M?this.v60=M.x:(this.v60=this.aproxY(m,f,60),d.push({x:this.v60,y:60})),d.sort((x,F)=>x.x-F.x)}{let g=b[b.length-1].y,M=d[d.length-1].y;if(Math.abs(g-M)>2){console.log("last predict:",g,"last real:",M);{let x=s[s.length-2],F=s[s.length-1];if(F>x*2.4){this.prepareChart("",e,{last:Math.round((F-x)/2+x)});return}else if(F<x*2){this.prepareChart("",e,{last:F*1.1});return}}}}if(this.v60/(this.v100-this.v60)*100>130){let M=s[s.length-2],x=s[s.length-1];if(x>M*2.4&&x>40){this.prepareChart("",e,{last:Math.round((x-M)/2+M)});return}}r.buildChart(d,b)}},buildChart(y,e){let n=this,r=[];e&&e.length>0&&r.push({data:e,name:"Inputted",enableMouseTracking:!1,color:"#d52c2c",marker:{enabled:!1}}),r.push({data:y,name:"Predicted",enableMouseTracking:!0,color:"#50ab2c",marker:{symbol:"circle",enabled:!0}});var a="ontouchstart"in window||navigator.msMaxTouchPoints;this.highchartsConfig={boost:{seriesThreshold:r.length,useGPUTranslations:!0,usePreAllocated:!0},chart:{type:"spline",zoomType:!1,pinchType:!1},legend:{enabled:!0},series:r,yAxis:{min:0,allowDecimals:!1,crosshair:{snap:n.snap,label:{enabled:!0,format:"{value:.0f}mph"}},labels:{format:"{text}mph"}},xAxis:{min:0,allowDecimals:!0,crosshair:{snap:n.snap,label:{enabled:!0,format:"{value:.1f}s"}},labels:{format:"{text}s"}},tooltip:{snap:a?50:10},plotOptions:{series:{stickyTracking:!!a,turboThreshold:2e3,marker:{enabled:!0},point:{events:{click:function(i){n.snap=!n.snap,n.$refs.acelChart.chart.update({xAxis:{crosshair:{snap:n.snap}},yAxis:{crosshair:{snap:n.snap}}})}}}},scatter:{boostThreshold:2e3}}}},aproxY(y,e,n,r=1,a=0){let i=0,u=!1,t=!1;for(;!u&&i<1e3;){var o=y(a,e[0],e[1],e[2],e[3],e[4]);if(o=Number(o.toFixed(1)),o===n){u=!0,t=!0;break}if(r>0&&o>n){u=!0;break}if(r<0&&o<n){u=!0;break}a+=r,i++}if(t)return Number(a.toFixed(2));if(u)return r=r*-.1,this.aproxY(y,e,n,r,a);debugger}}};var _sfc_render=function y(){var e=this,n=e._self._c;return n("div",{staticClass:"MainAccelCurveMaker_Layout"},[n("div",{staticClass:"MainAccelCurveMaker_InputsLayout"},e._l(e.speedTicks,function(r,a){return n("div",{staticClass:"MainAccelCurveMaker_InputSpeedItem"},[n("BaseText",{staticClass:"BaseText_Big MainAccelCurveMaker_Input",attrs:{type:"topSpeed",placeholder:`${e.$t("m_speed")} #${a+1}`,suffix:"mph"},model:{value:r.v,callback:function(i){e.$set(r,"v",i)},expression:"speed.v"}}),e._m(0,!0),n("BaseText",{staticClass:"BaseText_Big MainAccelCurveMaker_Input",attrs:{type:"acelSoft",suffix:"s",placeholder:`${e.$t("m_time")} #${a+1}`},model:{value:r.time,callback:function(i){e.$set(r,"time",i)},expression:"speed.time"}})],1)}),0),n("div",{staticClass:"MainAccelCurveMaker_Center",staticStyle:{"margin-top":"30px"}},[n("button",{staticClass:"D_Button Main_SaveAllButton MainAccelCurveMaker_LoadButton",attrs:{disabled:!e.ready},on:{click:function(r){return e.prepareChart()}}},[n("span",[e._v(e._s(e.$t("m_load")))]),n("i",{staticClass:"ticon-arrow_down_3",staticStyle:{"margin-left":"5px"},attrs:{"aria-hidden":"true"}})])]),e.v100?n("div",{staticClass:"MainAccelCurveMaker_TextResultBox"},[n("div",{staticClass:"MainAccelCurveMaker_TextResult"},[n("div",{staticClass:"MainAccelCurveMaker_TextResultLabel"},[e._v("0-60mph:")]),n("div",{staticClass:"MainAccelCurveMaker_TextResultValue"},[n("b",[e._v("~")]),e._v(e._s(e._f("toTimeString")(e.v60)))]),n("div",{staticClass:"MainAccelCurveMaker_TextResultLabel"},[e._v("0-100mph:")]),n("div",{staticClass:"MainAccelCurveMaker_TextResultValue"},[n("b",[e._v("~")]),e._v(e._s(e._f("toTimeString")(e.v100)))]),n("div",{staticClass:"MainAccelCurveMaker_TextResultLabel"},[e._v("MRA:")]),n("div",{staticClass:"MainAccelCurveMaker_TextResultValue",staticStyle:{color:"rgb(var(--d-text-yellow))"}},[n("b",[e._v("~")]),e._v(e._s(e._f("mra")(e.v100,e.v60,100,0)))])])]):e._e(),e.showMra?e._e():n("div",{staticClass:"MainAccelCurveMaker_TextResultBox"},[e._m(1)]),e.highchartsConfig.chart?n("div",{staticClass:"MainAccelCurveMaker_Body"},[n("Highcharts",{ref:"acelChart",attrs:{config:e.highchartsConfig,counter:e.counter}})],1):e._e()])},_sfc_staticRenderFns=[function(){var y=this,e=y._self._c;return e("div",{staticClass:"MainAccelCurveMaker_InputDivider"},[e("i",{staticClass:"ticon-arrow_right_3",attrs:{"aria-hidden":"true"}})])},function(){var y=this,e=y._self._c;return e("div",{staticClass:"MainAccelCurveMaker_TextResult"},[e("div",{staticClass:"MainAccelCurveMaker_TextResultLabel"},[y._v("MRA:")]),e("div",{staticClass:"MainAccelCurveMaker_TextResultValue",staticStyle:{color:"rgb(var(--d-text-yellow))"}},[y._v("No MRA")])])}],__component__=normalizeComponent(_sfc_main,_sfc_render,_sfc_staticRenderFns,!1,null,null);const MainAccelCurveMaker=__component__.exports;export{MainAccelCurveMaker as default};
