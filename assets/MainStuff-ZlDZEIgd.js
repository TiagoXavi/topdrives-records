import{n as o}from"./components-DpxtCXPw.js";const i={name:"MainStuff",components:{},props:{test:{type:Boolean,default:!1}},data(){return{user:null,tools:[],tdrTools:[]}},watch:{},beforeMount(){this.user=this.$store.state.user,this.tools=[{name:"MainShowcase",label:this.$t("m_videoShowcase")},{name:"Gallery",label:this.$t("m_vChanges",{version:"30.0"}),newCodes:["changes_v30"],showNew:!1},{name:"MainNewPhotos",label:this.$t("m_vNewPhotos",{version:"24.1"}),newCodes:[],showNew:!1},{name:"MainCheatSheet",label:this.$t("m_cheatSheet")},{name:"MainFindCar",label:this.$t("m_carFinder")},{name:"MainTestPoints",label:this.$t("m_testPoints")},{name:"MainDownTimes",label:this.$t("m_downTimes")},{name:"MainAccelCurveMaker",label:this.$t("m_accelCurveMaker")}],this.tdrTools=[{name:"MainTranslate",label:this.$t("m_translationTool")}]},mounted(){let e=this;this.checkNewMenu(),e.unsubscribe=e.$store.subscribe(t=>{t.type=="CHANGE_USER"&&(e.user=t.payload.user),t.type=="LOGOUT"&&(e.user=null)})},computed:{},methods:{checkNewMenu(){this.tools.map(e=>{e.newCodes&&e.newCodes.map(t=>{window.localStorage.getItem(t)||(e.showNew=!0)})})},tabClick(e){e.newCodes&&(e.showNew=!1,e.newCodes.map(t=>{window.localStorage.setItem(t,"t")}))}},beforeDestroy(){this.unsubscribe()}};var l=function(){var t=this,s=t._self._c;return s("div",{staticClass:"MainStuff_Layout"},[s("div",{staticClass:"MainStuff_Group"},[s("div",{staticClass:"MainStuff_Title"},[t._v("Tools")]),s("div",{staticClass:"MainStuff_Box"},t._l(t.tools,function(a){return s("button",{staticClass:"D_Button MainStuff_Button",class:{MainStuff_New:a.showNew},on:{click:function(n){t.tabClick(a),t.$router.push({name:a.name})}}},[s("span",[t._v(t._s(a.label))])])}),0)]),s("div",{staticClass:"MainStuff_Group"},[s("div",{staticClass:"MainStuff_Title"},[t._v("TDR Tools")]),s("div",{staticClass:"MainStuff_Box"},t._l(t.tdrTools,function(a){return s("button",{staticClass:"D_Button MainStuff_Button",on:{click:function(n){t.tabClick(a),t.$router.push({name:a.name})}}},[s("span",[t._v(t._s(a.label))])])}),0)])])},r=[],u=o(i,l,r,!1,null,null);const f=u.exports;export{f as default};
