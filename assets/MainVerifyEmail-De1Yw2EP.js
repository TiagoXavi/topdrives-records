import{n as a,L as i}from"./components-DpxtCXPw.js";const o={name:"MainVerifyEmail",components:{Logo:i},props:{test:{type:Boolean,default:!1}},data(){return{finished:!1,loading:!1,error:!1}},watch:{},beforeMount(){},mounted(){this.validate()},computed:{token(){return this.$route.query.token},email(){return this.$route.query.email}},methods:{validate(){this.loading=!0,axios.post(Vue.preUrl+"/validateEmailToken",{token:this.token,email:this.email}).then(s=>{if(s.data==="OK")this.finished=!0,this.error=!1;else throw new Error}).catch(s=>{this.error=!0,console.log(s),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:s,type:"error"})}).then(()=>{this.loading=!1})}}};var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"TTT_Layout"},[t.finished?e("div",{staticClass:"TTT_Finished"},[e("div",{staticClass:"TTT_FinishedText"},[t._v(t._s(t.$t("m_done"))+"!")]),e("router-link",{staticClass:"D_Link D_LinkPlus Space_Top",staticStyle:{"font-size":"14px"},attrs:{to:{name:"Login"}}},[t._v(t._s(t.$t("m_gotoLogin")))])],1):e("div",{staticClass:"TTT_Box"},[e("div",{staticClass:"TTT_Mid"},[e("div",{staticClass:"TTT_SubTitle"},[t._v(t._s(t.$t("m_emailVerification")))]),t.token?e("button",{staticClass:"D_Button D_ButtonDark TTT_Button",class:{D_Button_Loading:t.loading,D_Button_Error:t.error},attrs:{disabled:t.loading||t.error}},[t._v(t._s(t.$t("m_send")))]):t._e()]),e("div",{staticClass:"TTT_Bottom"},[e("router-link",{staticClass:"D_Link Space_Top",staticStyle:{"font-size":"14px"},attrs:{to:{name:"Records"}}},[t._v(t._s(t.$t("m_cancel")))])],1)])])},n=[],l=a(o,r,n,!1,null,null);const c=l.exports;export{c as default};
