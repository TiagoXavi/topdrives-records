import{n as B,b as D,O as S,A as G,Q as C,S as T,x as w,y as b,p as x,a as $,d as k,o as I,_ as P,t as L}from"./components-DpxtCXPw.js";/* empty css              */const R="/assets/tutorial/http_android.png",A="/assets/tutorial/http_android_2.png",v="/assets/tutorial/http_request.png",F="/assets/tutorial/proxyman_0.png",O="/assets/tutorial/proxyman_1.png",N="/assets/tutorial/proxyman_2.png",E="/assets/tutorial/proxyman_3.png",V="/assets/tutorial/proxyman_4.png",U="/assets/tutorial/proxyman_5.png",q="/assets/tutorial/proxyman_6.png",H="/assets/tutorial/proxyman_7.png",W="/assets/tutorial/proxyman_8.png",z="/assets/tutorial/proxyman_9.png",Y="/assets/tutorial/proxyman_10.png",j="/assets/tutorial/proxyman_11.png",Z="/assets/tutorial/proxyman_12.png",Q="/assets/tutorial/proxyman_13.png",K="/assets/tutorial/proxyman_14.png",J="/assets/tutorial/proxyman_15.png",X="/assets/tutorial/proxyman_16.png",ee="/assets/tutorial/proxyman_17.png",te="/assets/tutorial/proxyman_18.png",ae="/assets/tutorial/proxyman_19.png",se="/assets/tutorial/proxyman_20.png",ie="/assets/tutorial/proxyman_21.png",re="/assets/tutorial/proxyman_22.png",oe="/assets/tutorial/cx_1.png",le="/assets/tutorial/cx_10.png",ne="/assets/tutorial/cx_8.png",ce="/assets/tutorial/cx_2.png",de="/assets/tutorial/cx_9.png",ue="/assets/tutorial/cx_11.png",ge={name:"BaseMyGarageTutorial",components:{},props:{test:{type:Boolean,default:!1}},data(){return{screen:"home",animation:!1}},watch:{},beforeMount(){},mounted(){},computed:{},methods:{changeScreen(a){this.animation=!0,this.screen="_",this.$nextTick().then(()=>{this.screen=a}),a==="home"&&this.$emit("home"),a==="androidAlone"&&this.$emit("file"),(a==="android"||a==="iosAlone"||a==="ios")&&this.$emit("response")}}};var _e=function(){var e=this,t=e._self._c;return t("div",{staticClass:"BaseMyGarageTutorial_Layout"},[e.screen==="home"?t("div",{staticClass:"BaseMyGarageTutorial_Screen1",class:{MainTimeline_InitAnimation:e.animation}},[t("div",{staticClass:"BaseMyGarageTutorial_Title"},[e._v("Need help?")]),t("div",{staticClass:"BaseMyGarageTutorial_Dual D_Center2"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 BaseMyGarageTutorial_MainButton",on:{click:function(s){return e.changeScreen("androidAlone")}}},[t("i",{staticClass:"brand-android BaseMyGarageTutorial_MainButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"BaseMyGarageTutorial_ButtonLabel"},[e._v("Android")])]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 BaseMyGarageTutorial_MainButton",on:{click:function(s){return e.changeScreen("android")}}},[t("i",{staticClass:"brand-android BaseMyGarageTutorial_MainButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"BaseMyGarageTutorial_ButtonLabel"},[e._v("PC + Android emulator")])]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 BaseMyGarageTutorial_MainButton",on:{click:function(s){return e.changeScreen("iosAlone")}}},[t("i",{staticClass:"brand-apple BaseMyGarageTutorial_MainButtonIcon",staticStyle:{"margin-bottom":"7px"},attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"BaseMyGarageTutorial_ButtonLabel"},[e._v("iOS")])]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 BaseMyGarageTutorial_MainButton",on:{click:function(s){return e.changeScreen("ios")}}},[t("i",{staticClass:"brand-apple BaseMyGarageTutorial_MainButtonIcon",staticStyle:{"margin-bottom":"7px"},attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"BaseMyGarageTutorial_ButtonLabel"},[e._v("PC + iOS")])])])]):e.screen==="android"?t("div",{staticClass:"BaseMyGarageTutorial_Screen1",class:{MainTimeline_InitAnimation:e.animation}},[t("div",{staticClass:"BaseMyGarageTutorial_Title"},[t("button",{staticClass:"D_Button BaseMyGarageTutorial_BackButton",on:{click:function(s){return e.changeScreen("home")}}},[t("i",{staticClass:"ticon-arrow_left_2 BaseMyGarageTutorial_BackIcon",attrs:{"aria-hidden":"true"}})]),e._v(" PC + Android emulator ")]),e._m(0)]):e.screen==="ios"?t("div",{staticClass:"BaseMyGarageTutorial_Screen1",class:{MainTimeline_InitAnimation:e.animation}},[t("div",{staticClass:"BaseMyGarageTutorial_Title"},[t("button",{staticClass:"D_Button BaseMyGarageTutorial_BackButton",on:{click:function(s){return e.changeScreen("home")}}},[t("i",{staticClass:"ticon-arrow_left_2 BaseMyGarageTutorial_BackIcon",attrs:{"aria-hidden":"true"}})]),e._v(" PC + iOS ")]),e._m(1)]):e.screen==="iosAlone"?t("div",{staticClass:"BaseMyGarageTutorial_Screen1",class:{MainTimeline_InitAnimation:e.animation}},[t("div",{staticClass:"BaseMyGarageTutorial_Title"},[t("button",{staticClass:"D_Button BaseMyGarageTutorial_BackButton",on:{click:function(s){return e.changeScreen("home")}}},[t("i",{staticClass:"ticon-arrow_left_2 BaseMyGarageTutorial_BackIcon",attrs:{"aria-hidden":"true"}})]),e._v(" iOS ")]),e._m(2)]):e.screen==="androidAlone"?t("div",{staticClass:"BaseMyGarageTutorial_Screen1",class:{MainTimeline_InitAnimation:e.animation}},[t("div",{staticClass:"BaseMyGarageTutorial_Title"},[t("button",{staticClass:"D_Button BaseMyGarageTutorial_BackButton",on:{click:function(s){return e.changeScreen("home")}}},[t("i",{staticClass:"ticon-arrow_left_2 BaseMyGarageTutorial_BackIcon",attrs:{"aria-hidden":"true"}})]),e._v(" Android ")]),e._m(3)]):e._e()])},fe=[function(){var a=this,e=a._self._c;return e("div",{staticClass:"BaseMyGarageTutorial_Topics"},[e("div",[a._v("1. Download and install "),e("a",{attrs:{href:"https://httptoolkit.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("HTTP Toolkit")]),a._v(".")]),e("div",[a._v("2. Download and install "),e("a",{attrs:{href:"https://bignox.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Nox Android Emulator")]),a._v(". Pay attention while installing. Reject every ad software. Can be any other android emulator since it opens default ADB port.")]),e("div",[a._v("3. Open Nox, download Top Drives (don't open it yet), log-in on Facebook if your Top Drives account needs it.")]),e("div",[a._v("4. Open HTTP Toolkit. Go to Intercept, the option below should be available. Click on it to intercept Nox.")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{attrs:{src:R,alt:""}})]),e("div",[a._v("5. Accept the VPN request. You should see 2 checks like in this:")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"256px"},attrs:{src:A,alt:""}})]),e("div",[a._v("6. Open Top Drives, log to your account until you reach home screen of the game.")]),e("div",[a._v("7. On HTTP Toolkit, go to View and filter requests by /api/game/v3/sync/")]),e("div",[a._v("8. Click on the request. At the right window look for the Response Body. Copy all the content.")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:v,alt:""}})]),e("div",[a._v("9. Paste the content below. Done.")])])},function(){var a=this,e=a._self._c;return e("div",{staticClass:"BaseMyGarageTutorial_Topics"},[e("div",[a._v("1. Download and install "),e("a",{attrs:{href:"https://httptoolkit.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("HTTP Toolkit")]),a._v(".")]),e("div",[a._v("2. Follow those instructions "),e("a",{attrs:{href:"https://httptoolkit.com/docs/guides/ios/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Intercepting iOS HTTP")])]),e("div",[a._v("3. Open Top Drives, log to your account until you reach home screen of the game.")]),e("div",[a._v("4. On HTTP Toolkit, go to View and filter requests by /api/game/v3/sync/")]),e("div",[a._v("5. Click on the request. At the right window look for the Response Body. Copy all the content.")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:v,alt:""}})]),e("div",[a._v("6. Paste the content below. Done.")])])},function(){var a=this,e=a._self._c;return e("div",{staticClass:"BaseMyGarageTutorial_Topics"},[e("div",[a._v("1. Download, install and open "),e("a",{attrs:{href:"https://apps.apple.com/app/proxyman-network-debug-tool/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Proxyman")]),a._v(" for iOS.")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:F,alt:""}})]),e("div",[a._v("2. Start Capturing")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:O,alt:""}})]),e("div",[a._v("3. Install VPN Extension, then Start VPN")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:N,alt:""}})]),e("div",[a._v("4. Init the steps to install the certificate")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:E,alt:""}})]),e("div",[a._v("5. Tap to open the URL on Safari, don't try other browser")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:V,alt:""}})]),e("div",[a._v("6. Allow the download")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:U,alt:""}})]),e("div",[a._v("7. Close the confirmation, go back to Proxyman")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:q,alt:""}})]),e("div",[a._v("8. Open iOS Settings")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:H,alt:""}})]),e("div",[a._v("9. General > VPN & Device Management")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:W,alt:""}})]),e("div",[a._v("10. Select the downloaded profile")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:z,alt:""}})]),e("div",[a._v("11. Install it")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:Y,alt:""}})]),e("div",[a._v("12. Now go to General > About")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:j,alt:""}})]),e("div",[a._v("13. Certificate Trust Settings")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:Z,alt:""}})]),e("div",[a._v("14. Enable full trust")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:Q,alt:""}})]),e("div",[a._v("15. Go back to Proxyman, if everything done correctly, it should be like this")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:K,alt:""}})]),e("div",[a._v("16. Go to More > SSL Proxying List > New Include Entry")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:J,alt:""}})]),e("div",[a._v("17. Type www.topdrives.io and confirm")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:X,alt:""}})]),e("div",[a._v("18. Should be like this")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:ee,alt:""}})]),e("div",[a._v("19. Close Top Drives app if it is open. Open again, log to your account until you reach home screen of the game. Proxyman should be intercepting all the requests now.")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:te,alt:""}})]),e("div",[a._v('20. Go back to Proxyman. Go to Home, filter requests by "drives" to see only Top Drives requests')]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:ae,alt:""}})]),e("div",[a._v("21. Find the request with /api/game/v3/sync/ - should be the GET with the highest size. Select and go to Response tab")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:se,alt:""}})]),e("div",[a._v("22. View Body")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:ie,alt:""}})]),e("div",[a._v("23. Copy")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:re,alt:""}})]),e("div",[a._v("24. Paste below. Done.")])])},function(){var a=this,e=a._self._c;return e("div",{staticClass:"BaseMyGarageTutorial_Topics"},[e("div",[a._v("1. Download, install and open "),e("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.cxinventor.file.explorer",target:"_blank",rel:"noopener noreferrer"}},[a._v("Cx File Explorer")]),a._v(" for Android. You can use any other file explorer app, just make sure that it can access Android folder.")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:oe,alt:""}})]),e("div",[a._v("2. Allow Cx File Explorer to access your files. Notifications are also required by the app")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:le,alt:""}})]),e("div",[a._v("3. You need to upload your Garage.dat file. Maybe you want to restart the game to produce a fresh new one.")]),e("div",[a._v("4. Use the upload button at the end of this tutorial to upload it")]),e("div",[a._v("5. This part can be different for every version o Android, but the goal is the same: After clicking in the upload button, choose Cx File Explorer as file manager to select Garage.dat")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:ne,alt:""}})]),e("div",[a._v("6. Navigate to the path bellow. Check Garage.dat and press Select to confirm.")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicCode"},[a._v("(Main storage) > Android > data > com.hutchgames.cccg > files > Garage.dat")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:ce,alt:""}})]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:de,alt:""}})]),e("div",[a._v("7. Maybe you get access denied to the folder")]),e("div",{staticClass:"BaseMyGarageTutorial_TopicImage"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:ue,alt:""}})]),e("div",[a._v('8. If that your case, click "Open with system file manager", navigate to the folder, copy Garage.dat to an easily accessible folder, then, upload the copied file.')])])}],he=B(ge,_e,fe,!1,null,null);const pe=he.exports;class f{constructor(e=0,t="",s=""){this.car={},this.v=e,this.used=0,this.sf=t,this.pf=s}}class m{constructor(){this.carCount=0,this.fullyUpgraded=0,this.prizes=0,this.nonPrizes=0,this.nonPrizesMissing=0,this.count332=0,this.count323=0,this.count233=0}}class n{constructor(e){this.mostUsed=new f,this.mostWins=new f,this.mostLoses=new f,this.highWinRate=new f(0,"%"),this.highLoseRate=new f(0,"%"),e||(this.oldest=new f(0," days")),e||(this.oldestNoUse=new f(0," days")),e||(this.lessUseDay=new f(null)),this.mostUseDay=new f(0,"/day"),this.mostWinDay=new f(0,"/day"),this.mostLoseDay=new f(0,"/day"),e||(this.higherRQ=new f(0,"","RQ"))}}class h{constructor(e){this.monthIndex=e,this.cars=[]}}class g{constructor(e=!1){this.v=0,this.cars=[],e&&(this.ridList=[]),e&&(this.S=[])}}const ye={name:"BaseMyGarage",components:{BaseCardGallery:I,BaseDialog:k,BaseFilterDialog:$,BaseFilterDescription:x,BaseIconSvg:b,BaseSwitch:w,BaseMyGarageTutorial:pe,BaseCardMiniButton:T,BaseCardMini:C,BaseGameTag:G,BaseDiscordButton:S,BaseText:D},props:{test:{type:Boolean,default:!1}},data(){return{Vue,T_S:L(),loading:!1,loadingPastYear:!1,lastestLoading:!1,screen:"normal",topEdit:!1,isTopAdd:!1,animation:!1,user:null,responseText:"",uploadType:"home",garageYear:2026,userGarage:{},userGarageByDate:{},userGaragePast:{},otherDiffStats:{},userGaragePastYear:2025,enableGiveAway:!1,pointsPerRarity:{S:20,A:5,B:1},rarityListDialog:!1,rarityListArr:[],rarityDialogTitle:"",rarityDialogSub:"",loadedName:null,myGarageFilterDialog:!1,unsubscribe:null,saved:!1,confirmDelete:{dialog:!1,msg:"Confirm delete?",actionLabel:"Delete",action:null,loading:!1,classe:""},autoShareRunning:!1,uploadLoading:!1,autoShareConfirmDialog:!1,viewMyShareDialog:!1,privacyModel:"public",privacyList:["public","private"],privacyLoading:!1,configDialog:!1,editGroupIndex:-1,saved:!1,blankFilterStr:"",pngLoading:!1,printingItem:null,lastIsBetterResult:null,lastIsBetterHid:null,orderedDialog:!1,orderedList:[],orderedKey:"",orderedSuffix:"",orderedPrefix:"",updateParts:{viewStartIdx:0,viewEndIdx:0,visibleStartIdx:0,visibleEndIdx:0},newGroupType:"group",yearList:[],yearModel:"",yearDialog:!1,shareUrl:"",today:new Date,copyUrlSucess:!1,nextId:1e3,userHighlights:[{id:100,fixed:!0,filter:{},title:"2025 Recap",specialTitle:!0,requirePast:!0,specialId:"recap"},{id:0,fixed:!0,filter:{newerThan:"2025-01-01T00:00:00.000Z",olderThan:"2025-12-31T23:59:59.000Z"},t:new n,title:"New in 2025",specialTitle:!0,specialId:"myCarsYear"},{id:1,fixed:!0,filter:{classesModel:["S"],newerThan:"2025-01-01T00:00:00.000Z",olderThan:"2025-12-31T23:59:59.000Z"},tl:Array.from({length:12},(a,e)=>new h(e)),title:"2025 Leggy Timeline",specialTitle:!0,specialId:"myCarsYearTimeline"},{id:2,divider:!0,share:!0},{id:3,fixed:!0,filter:{},t:new n,r:new m,title:"Garage",specialTitle:!0},{id:40,filter:{tagsModel:["Crown Pursuit"]},t:new n},{id:39,filter:{tagsModel:["Autobahn Icons"]},t:new n},{id:38,filter:{tagsModel:["German Powerhaus"]},t:new n},{id:37,filter:{tagsModel:["French Riviera"]},t:new n},{id:36,filter:{tagsModel:["Asia-Pacific Revival"]},t:new n},{id:26,filter:{tagsModel:["European Grand Tour"]},t:new n},{id:27,filter:{tagsModel:["American Overdrive"]},t:new n},{id:28,filter:{tagsModel:["European New Wave"]},t:new n},{id:29,filter:{tagsModel:["Asia-Pacific Grand Prix"]},t:new n},{id:30,filter:{tagsModel:["Pacific Coast Highway"]},t:new n},{id:31,filter:{tagsModel:["Learn the Savannah Way"]},t:new n},{id:32,filter:{tagsModel:["Loch to Loch"]},t:new n},{id:33,filter:{tagsModel:["Amalfi Coast Cruising"]},t:new n},{id:34,filter:{tagsModel:["Enter the Black Forest"]},t:new n},{id:35,filter:{tagsModel:["World Expo"]},t:new n},{id:4,filter:{classesModel:["S"]},t:new n},{id:5,filter:{classesModel:["A"]},t:new n},{id:6,filter:{classesModel:["B"]},t:new n},{id:7,filter:{classesModel:["C"]},t:new n},{id:8,filter:{classesModel:["D"]},t:new n},{id:9,filter:{classesModel:["E"]},t:new n},{id:10,filter:{classesModel:["F"]},t:new n},{id:11,filter:{classesModel:["A","B","C","D","E","F"],prizesModel:["Prize Cars"]},t:new n},{id:12,filter:{tyresModel:["Standard"]},t:new n},{id:13,filter:{tyresModel:["All-surface"]},t:new n},{id:14,filter:{tyresModel:["Off-road"]},t:new n},{id:15,filter:{clearancesModel:["Mid"]},t:new n},{id:16,filter:{countrysModel:["US"]},t:new n},{id:17,filter:{countrysModel:["DE"]},t:new n},{id:18,filter:{countrysModel:["JP"]},t:new n},{id:19,filter:{countrysModel:["GB"]},t:new n},{id:20,filter:{countrysModel:["IT"]},t:new n},{id:21,filter:{countrysModel:["FR"]},t:new n},{id:22,filter:{countrysModel:["AU"]},t:new n},{id:23,filter:{countrysModel:["SE"]},t:new n},{id:24,filter:{countrysModel:["KR"]},t:new n},{id:25,filter:{countrysModel:["CZ"]},t:new n}],tutorialModel:[],tutorial:{screen:[["header"],["button1","button2"]],header:{type:"text",text:"Choose a method"},button1:{type:"button",text:"PC + Android Emulator",icon:"brand-android",target:"pcAndroid"},button2:{type:"button",text:"PC + iOS",icon:"brand-apple",target:"pciOS"},childs:{pcAndroid:{screen:[["header"],["button1","button2"]],header:{type:"text",text:"Choose a method"},button1:{type:"button",text:"PC + Android Emulator",icon:"brand-android",target:"pcAndroid"},button2:{type:"button",text:"PC + iOS",icon:"brand-apple",target:"pciOS"}}}},current:!0,raceQuotaInput:500,eloScoreInput:0,garageSlotsInput:0,eloSaving:!1}},watch:{},beforeCreate(){window.localStorage.setItem("myGarage_1","t"),window.localStorage.setItem("recap2025","t"),console.log(`${Math.round(window.performance.memory.usedJSHeapSize/1e6)} MB`)},beforeMount(){this.user=this.$store.state.user,this.load()},mounted(){let a=this;a.unsubscribe=a.$store.subscribe(e=>{e.type=="CHANGE_USER"&&(a.user=e.payload.user,a.$route.name==="BaseMyGarage"&&a.load()),e.type=="LOGOUT"&&(a.user=null)}),this.generateBlankFilter(),this.$refs.myGarageFilter.$data.searchFilters.tunes.splice(4,0,"000")},beforeDestroy(){this.unsubscribe()},computed:{userId(){return this.$route.name==="BaseMyGarage"?(this.user||{}).username:this.$route.params.username},readyToSave(){return!this.editEnabled||(console.log(0),this.saved)||console.log(1),!1},editEnabled(){return this.user&&this.user.username&&(this.$route.name==="BaseMyGarage"||this.$route.params.username===this.user.username)},pngLabel(){return this.pngLoading?this.$t("m_pleaseWait3dot"):this.$t("m_downloadPng")},userHighlightsFiltered(){return this.printingItem?[this.printingItem]:this.userGarage.loaded?this.userHighlights:[this.userHighlights[1]]},daysLeft(){let e=new Date(2025,11,31).getTime()-this.today.getTime();return Math.ceil(e/(1e3*3600*24))},isGarageDat(){var a;return((a=this.userGarage)==null?void 0:a.registrationDate)==="2000-01-01T00:00:00.000Z"},needSaveElo(){return this.isGarageDat&&(this.userGarage.eloScore!==this.eloScoreInput||this.userGarage.raceQuota!==this.raceQuotaInput||this.userGarage.garageSlots!==this.garageSlotsInput||this.eloSaving)}},methods:{reload(){setTimeout(()=>{this.load()},10)},load(a){if(!this.userId)return;this.loading=!0;let e={username:this.userId};a&&(e.year=a),this.current=!0,a&&a!=new Date().getFullYear()&&(this.current=!1),Vue.loadGarage(e,!0,t=>{if(this.loading=!1,this.saved=!1,t.status===200&&t.data,t.status===204&&this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:"Private garage",type:"error"}),t.data&&(t.data.privacy&&(this.privacyModel=t.data.privacy),t.data.value&&(t.data.value.raceQuota&&(this.raceQuotaInput=t.data.value.raceQuota),t.data.value.eloScore&&(this.eloScoreInput=t.data.value.eloScore),t.data.value.garageSlots&&(this.garageSlotsInput=t.data.value.garageSlots),this.userGarage=t.data.value,t.data.year&&this.updateYearPage(t.data.year),this.processPlayerDeckStep2()),t.data.u&&(this.loadedName=t.data.u),this.user&&this.user.garageYears&&this.user.garageYears.length>1)){let s=Number(t.data.year)-1;this.user.garageYears.includes(`${s}`)&&this.loadPastYear(Number(s))}},t=>{this.loading=!1,console.log(t),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:t,type:"error"})})},loadPastYear(a){this.userId&&(this.loadingPastYear=!0,axios.post(Vue.preUrl+"/getGarage",{username:this.userId,year:a}).then(e=>{this.loadingPastYear=!1,e.data&&e.data.value&&(this.userGaragePastYear=a,this.userGaragePast=e.data.value,this.userHighlights.find(t=>t.specialId==="recap").t=new n(!0),this.initPastGarageCompare())}).catch(e=>{this.loadingPastYear=!1,console.log(e)}))},save(){var a,e;if(((e=(a=this.userGarage)==null?void 0:a.playerDeck)==null?void 0:e.length)<1){this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:"No player deck",type:"error"});return}this.loading=!0,this.privacyModel==="private"&&(this.userGarage.private=!0),this.userGarage.registrationDate==="2000-01-01T00:00:00.000Z"&&(this.userGarage.raceQuota=Math.max(100,Math.min(500,this.raceQuotaInput))||500,this.userGarage.eloScore=Math.max(0,this.eloScoreInput)||0,this.userGarage.garageSlots=Math.max(0,this.garageSlotsInput)||0),axios.post(Vue.preUrl+"/setGarage",this.userGarage).then(t=>{this.loading=!1,this.eloSaving=!1,this.$store.commit("DEFINE_SNACK",{active:!0,correct:!0,text:this.$t("m_saveSuccess")}),this.saved=!0,this.responseText="",window.localStorage.removeItem("cacheGarage"),window.localStorage.removeItem("garageUpgrades"),this.transformUserGarageToObj(),this.updateYearPage(this.userGarage.date?new Date(this.userGarage.date).getFullYear():this.garageYear),this.processPlayerDeckStep2(),this.changeScreen("normal")}).catch(t=>{this.loading=!1,this.eloSaving=!1,console.log(t),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:t,type:"error"})})},processSyncObj(a){let e=this.errorSwitch(a);if(e){if(e==="No playerDeck"){this.noPlayerDeck();return}this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:`Not a valid input: ${e}`,type:"error"});return}return this.userGarage={date:a.serverTime,region:a.user.region,registrationDate:a.user.registrationDate,raceQuota:a.user.raceQuota,eloScore:a.user.eloScore,garageSlots:a.user.garageSlots,garageSlotsUsed:a.user.garageSlotsUsed,activeDaysCounter:a.user.activeDaysCounter,platform:a.user.platform,totalGiftsClaimed:a.dailyGift.totalGiftsClaimed},this.userGarage.playerDeck=this.processPlayerDeck(a.playerDeck),!0},errorSwitch(a){return typeof a!="object"?"Not object":a.serverTime?a.user?a.dailyGift?!a.playerDeck||a.playerDeck.length<1?"No playerDeck":!1:"No dailyGift":"No user property":"No basic property"},processPlayerDeck(a){let e=[],t=[];return a.map((s,o)=>{if(s.state===0)return;let d=Vue.resolveTuneZ(s),i=s.dateStateChanged;i&&i.length===24&&(i=i.slice(2,13));let l=Vue.rn_to_rid.indexOf(Vue.ridByGuid[s.cardId]),r;for(let _=8;_<16;_++){r=s.cardRecordId.slice(0,_);let c=t.indexOf(r);if(c!==-1){console.log(s.cardRecordId);let y=a[c].cardRecordId.slice(0,_+1);t[c]=y,e.find(M=>M[0]===r)[0]=y;continue}else break}let u=[r,l,i,d!=="000"?d:0,s.cardWins,s.cardLosses,s.cardDraws];t.push(r),e.push(u)}),e},processPlayerDeckStep2(){this.resetState(),this.userGarage.playerDeck.map((a,e)=>{a.id=e,a.tun=Vue.resolveTune(a.tunZ),a.date=this.fixDate(a.date),this.updateHighLights(a),this.computeCarToRecap(a)}),this.userGarage.loaded=!0,this.finishProcessPlayerDeck(),this.finishRecap()},transformUserGarageToObj(){this.userGarage.playerDeck.map((a,e)=>{this.userGarage.playerDeck[e]={cardRecordId:a[0],rid:Vue.rn_to_rid[a[1]],date:`20${a[2]}:00Z`,tunZ:a[3]===0?"000":a[3],cW:a[4],cL:a[5],cD:a[6]}})},updateHighLights(a){this.userHighlights.map(e=>{e.divider||e.requirePast||this.updateHLItem(e,a)})},updateHLItem(a,e,t=!1){if(!e.rid)return;let s=!0,o=!1,d=!1;if(a.filter&&a.filter.newerThan&&new Date(a.filter.newerThan)>new Date(e.date)&&(s=!1),a.filter&&a.filter.olderThan&&new Date(a.filter.olderThan)<new Date(e.date)&&(s=!1),!!s&&(a.filter.forcePrize&&Vue.all_carsObj[e.rid].prize?o=!0:d=this.$refs.myGarageFilter.checkMatchFilter(Vue.all_carsObj[e.rid],e,a.filter),d||o)){if(a.touched||(a.touched=!0),a.r&&(a.r.carCount++,Vue.all_carsObj[e.rid].prize?a.r.prizes++:a.r.nonPrizes++,e.tunZ==="996"&&a.r.count332++,e.tunZ==="969"&&a.r.count323++,e.tunZ==="699"&&a.r.count233++,e.tunZ.split("").reduce((i,l)=>Number(i)+Number(l),0)>=24&&a.r.fullyUpgraded++),a.t){let i=e.cW||0,l=e.cL||0;e.cD;let r=e.cW+e.cL+e.cD,u=(this.today-new Date(e.date))/1e3/60,_=u/60/24;if(a.requirePast&&e.cWdiff!==void 0){i=e.cWdiff,l=e.cLdiff,e.cDdiff,r=e.cWdiff+e.cLdiff+e.cDdiff;let c=new Date(`${this.garageYear}-01-01T00:00:00.000Z`),p=new Date(e.date)>c?new Date(e.date):c;u=(this.today-p)/1e3/60,_=u/60/24}Object.keys(a.t).map(c=>{c==="mostWins"&&this.compareHlItemBest(a.t,c,e,i,!0,r),c==="mostLoses"&&this.compareHlItemBest(a.t,c,e,l,!0,r),c==="mostUsed"&&this.compareHlItemBest(a.t,c,e,r,!0,r),c==="highWinRate"&&i>20&&this.compareHlItemBest(a.t,c,e,i/r*100,!0,r),c==="highLoseRate"&&l>20&&this.compareHlItemBest(a.t,c,e,l/r*100,!0,r),c==="oldest"&&this.compareHlItemBest(a.t,c,e,u,!0,r),c==="oldestNoUse"&&r===0&&this.compareHlItemBest(a.t,c,e,u,!0,r),c==="lessUseDay"&&r>0&&this.compareHlItemBest(a.t,c,e,r/_,!1,r),c==="mostUseDay"&&_>20&&this.compareHlItemBest(a.t,c,e,r/_,!0,r),c==="mostWinDay"&&_>20&&this.compareHlItemBest(a.t,c,e,i/_,!0,r),c==="mostLoseDay"&&_>20&&this.compareHlItemBest(a.t,c,e,l/_,!0,r),c==="higherRQ"&&this.compareHlItemBest(a.t,c,e,Vue.all_carsObj[e.rid].rq,!0,r)})}if(a.tl){let i=Number(e.date.substr(5,2))-1;a.tl[i].cars.push(e)}}},compareHlItemBest(a,e,t,s,o=!0,d){if(Array.isArray(a[e])){a[e].push({car:t,v:s,used:d});return}let i=!1;o?s>a[e].v&&(i=!0):s<a[e].v&&(i=!0),s===a[e].v&&d>a[e].used&&(i=!0),!o&&a[e].v===null&&(i=!0),i&&(a[e].car=t,a[e].v=s,a[e].used=d)},finishProcessPlayerDeck(){this.userHighlights.map(a=>{this.finishProcessPlayerDeckItem(a)})},finishProcessPlayerDeckItem(a){if(a.touched){if(a.t){a.t.oldest&&(a.t.oldest.v=a.t.oldest.v/60/24),a.t.oldestNoUse&&(a.t.oldestNoUse.v=a.t.oldestNoUse.v/60/24);{let e=a.t.highWinRate.car;a.t.highWinRate.sub=`${e.cW} wins, ${e.cW+e.cL+e.cD} uses`,a.requirePast&&e.cWdiff!==void 0&&(a.t.highWinRate.sub=`${e.cWdiff} wins, ${e.cWdiff+e.cLdiff+e.cDdiff} uses`)}{let e=a.t.highLoseRate.car;a.t.highLoseRate.sub=`${e.cL} loses, ${e.cW+e.cL+e.cD} uses`,a.requirePast&&e.cWdiff!==void 0&&(a.t.highLoseRate.sub=`${e.cLdiff} loses, ${e.cWdiff+e.cLdiff+e.cDdiff} uses`)}if(a.t.lessUseDay){let e=a.t.lessUseDay.car;a.t.lessUseDay.v=`${e.cW+e.cL+e.cD}/${Math.round((this.today-new Date(e.date))/1e3/60/60/24)} days`}}a.tl&&a.tl.map(e=>{e.cars.sort((t,s)=>new Date(t.date)-new Date(s.date))})}},finishProcessPlayerDeckItemArray(a){let e;a.t&&Object.keys(a.t).map(t=>{a.t[t].map(s=>{t==="oldest"&&(s.v=s.v/60/24),t==="oldestNoUse"&&(s.v=s.v/60/24),t==="highWinRate"&&(e=s.car,s.sub=`${e.cW} wins, ${e.cW+e.cL+e.cD} uses`,a.requirePast&&e.cWdiff!==void 0&&(s.sub=`${e.cWdiff} wins, ${e.cWdiff+e.cLdiff+e.cDdiff} uses`)),t==="highLoseRate"&&(e=s.car,s.sub=`${e.cL} loses, ${e.cW+e.cL+e.cD} uses`,a.requirePast&&e.cWdiff!==void 0&&(s.sub=`${e.cLdiff} loses, ${e.cWdiff+e.cLdiff+e.cDdiff} uses`)),t==="lessUseDay"&&(e=s.car,s.v=`${e.cW+e.cL+e.cD}/${Math.round((this.today-new Date(e.date))/1e3/60/60/24)} days`)})})},matchFilter(a,e,t){return!(e.yearModel&&!this.filterCheckBetween(a.year,e.yearModel)||e.rqModel&&!this.filterCheckBetween(a.rq,e.rqModel)||e.topSpeedModel&&!this.filterCheckBetween(a.topSpeed,e.topSpeedModel)||e.acelModel&&!this.filterCheckBetween(a.acel,e.acelModel)||e.handModel&&!this.filterCheckBetween(a.hand,e.handModel)||e.mraModel&&!this.filterCheckBetween(a.mra,e.mraModel)||e.weightModel&&!this.filterCheckBetween(a.weight,e.weightModel)||e.seatsModel&&!this.filterCheckBetween(a.seats,e.seatsModel)||e.seatsModel&&!this.filterCheckBetween(a.seats,e.seatsModel)||e.classesModel&&!this.filterCheckIncludes(a.class,e.classesModel)||e.tyresModel&&!this.filterCheckIncludes(a.tyres,e.tyresModel)||e.drivesModel&&!this.filterCheckIncludes(a.drive,e.drivesModel)||e.clearancesModel&&!this.filterCheckIncludes(a.clearance,e.clearancesModel)||e.countrysModel&&!this.filterCheckIncludes(a.country,e.countrysModel)||e.year2Model&&!this.filterCheckIncludes(a.year,e.year2Model)||e.seats2Model&&!this.filterCheckIncludes(Number(a.seats),e.seats2Model)||e.fuelModel&&!this.filterCheckIncludes(a.fuel,e.fuelModel)||e.engineModel&&!this.filterCheckIncludes(a.engine,e.engineModel)||e.brakeModel&&!this.filterCheckIncludes(a.brake,e.brakeModel)||e.tcsModel&&!this.filterCheckIncludes(a.tcs,e.tcsModel)||e.absModel&&!this.filterCheckIncludes(a.abs,e.absModel)||e.bodyTypesModel&&!this.filterCheckIncludesArray(a.bodyTypes,e.bodyTypesModel)||e.tagsModel&&!this.filterCheckIncludesArray(a.tags,e.tagsModel,a.rid)||e.tags2Model&&!this.filterCheckIncludesArray(a.tags,e.tags2Model||[],a.rid)||e.tags3Model&&!this.filterCheckIncludesArray(a.tags,e.tags3Model||[],a.rid)||e.brandsModel&&!this.filterCheckIncludes(a.brand,e.brandsModel)||e.prizesModel&&e.prizesModel.length>0&&(a.prize&&!e.prizesModel.includes("Prize Cars")||!a.prize&&!e.prizesModel.includes("Non-Prize Cars"))||e.tunesModel&&e.tunesModel.length>0&&!e.tunesModel.includes(t.tun))},filterCheckBetween(a,e){return this.$refs.myGarageFilter.filterCheckBetween(a,e)},filterCheckIncludes(a,e){return this.$refs.myGarageFilter.filterCheckIncludes(a,e)},filterCheckIncludesArray(a,e,t){return this.$refs.myGarageFilter.filterCheckIncludesArray(a,e,t)},defaultFilters(a){return this.$refs.myGarageFilter.defaultFilters(a)},updateDialogFilter(a){this.$refs.myGarageFilter.searchFilters={...JSON.parse(this.blankFilterStr),...a}},generateBlankFilter(){this.$refs.myGarageFilter.clearFilter(),this.blankFilterStr=JSON.stringify(this.$refs.myGarageFilter.searchFilters)},deleteHl(a){this.userHighlights.splice(this.userHighlights.indexOf(a),1)},yearSelector(a,e=!1){if(this.isTopAdd=e,this.newGroupType=a,this.yearList.length===0){let t=2016,s=Number(this.today.toISOString().substr(0,4));s>2050&&(s=2050);do this.yearList.push(t),t++;while(t<=s)}this.yearDialog=!0},confirmYear(a){this.yearModel=a,this.yearDialog=!1,this.newGroup(this.newGroupType)},newGroup(a){this.newGroupType=a,this.$refs.myGarageFilter.clearFilter(),this.myGarageFilterDialog=!0,this.editGroupIndex=-1},newGroupFinish(a){this.myGarageFilterDialog=!1;let e="push";this.isTopAdd&&(e="unshift"),this.newGroupType==="group"&&(this.yearModel!=="all"&&(a={...a,newerThan:`${this.yearModel}-01-01T00:00:00.000Z`,olderThan:`${this.yearModel}-12-31T23:59:59.000Z`}),this.userHighlights[e]({id:this.nextId++,filter:a,t:new n,title:this.yearModel!=="all"?`New in ${this.yearModel}`:void 0,specialTitle:this.yearModel!=="all",canDelete:!0})),this.newGroupType==="timeline"&&this.userHighlights[e]({id:this.nextId++,filter:{...a,newerThan:`${this.yearModel}-01-01T00:00:00.000Z`,olderThan:`${this.yearModel}-12-31T23:59:59.000Z`},title:`${this.yearModel} Timeline`,tl:Array.from({length:12},(t,s)=>new h(s)),canDelete:!0}),this.editGroupIndex=this.userHighlights.length-1,this.isTopAdd&&(this.editGroupIndex=0),this.resolveHLByIndex(this.editGroupIndex),this.editGroupIndex=-1,this.topEdit=!1},resolveHLByIndex(a){this.userGarage.playerDeck.map(e=>{this.updateHLItem(this.userHighlights[a],e)}),this.finishProcessPlayerDeckItem(this.userHighlights[a])},sharePrint(a){this.tempWindowWidth=this.windowWidth,this.windowWidth=1e3,this.pngLoading=!0,this.printingItem=a,window.scrollTo({top:0});let e,t,s=document.querySelector("#App_PrintContainer"),o=document.querySelector("#printCanvas"),d=".BaseMyGarage_Layout",i=document.querySelector(d);i.classList.add("Main_BodyPrint"),setTimeout(()=>{e=i.clientWidth*1.3,t=i.clientHeight*1.3;let l={backgroundColor:"#333",canvas:o,scale:1.3,width:e,height:t,windowWidth:e,windowHeight:t};o.setAttribute("width",`${e}`),o.setAttribute("height",`${t}`),this.runSharePrint(i,l,s,o,d)},100)},runSharePrint(a,e,t,s,o){let d=this;P(()=>import("./html2canvas.esm-CBrSDip1.js"),[]).then(i=>{i.default(a,e).then(function(l){window.ReImg?d.afterRunSharePrint(t,s,o):(window.importReimg(),window.importReimgPromise.then(r=>{d.afterRunSharePrint(t,s,o)}))})}).catch(i=>{console.log("load html2canvas failed",i)})},afterRunSharePrint(a,e,t){if(this.autoShareRunning){var s=window.ReImg.fromCanvas(e).toBase64();this.autoShareCallback(s)}else window.ReImg.fromCanvas(e).downloadPng(`TDR_${this.today.toISOString().slice(0,-5)}.png`);document.querySelector(t).classList.remove("Main_BodyPrint"),this.windowWidth=this.tempWindowWidth,this.pngLoading=!1,this.printingItem=null,this.autoShareRunning=!1},autoShareCallback(a){if(!this.enableGiveAway)return;this.uploadLoading=!0;const e=a.includes(";base64,")?a.substring(a.indexOf(";base64,")+8):a,t=window.atob(e),s=t.length,o=new Uint8Array(s);for(let r=0;r<s;r++)o[r]=t.charCodeAt(r);const d=new Blob([o],{type:"image/png"});let i=new File([d],`TDR_${this.today.toISOString().slice(0,-5)}.png`,{type:"image/png"}),l=new FormData;l.set("image",i),l.set("username",this.user.username),axios.post(Vue.preUrl+"/uploadGarageGiveaway",l,{headers:{"content-type":"multipart/form-data"}}).then(r=>{this.alreadyUploaded=!0,this.$store.commit("DEFINE_SNACK",{active:!0,correct:!0,text:this.$t("m_uploadSuccess")})}).catch(r=>{console.log(r),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:r,type:"error"})}).then(()=>{this.uploadLoading=!1})},changeScreen(a){this.animation=!0,this.configDialog=!1,this.screen="_",this.$nextTick().then(()=>{this.screen=a})},validateText(a){let e,t=!1;try{e=JSON.parse(a||this.responseText),t=!0}catch(o){console.log(o)}if(!t){this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:"Not valid input",type:"error"});return}this.userGarage={},this.processSyncObj(e)&&this.save()},interceptPaste(a){if(a){a.preventDefault();let e=a.clipboardData.getData("text");this.validateText(e)}},askDelete(){let a=this,e=function(){a.deleteTimeline()};this.confirmDelete={dialog:!0,msg:"Delete garage?",actionLabel:"Delete",action:e,loading:!1,classe:"D_ButtonRed"}},deleteTimeline(){this.confirmDelete.loading=!0,axios.post(Vue.preUrl+"/deleteGarage",{date:this.userGarage.date}).then(a=>{this.confirmDelete.loading=!1,this.confirmDelete.dialog=!1,this.$store.commit("DEFINE_SNACK",{active:!0,correct:!0,text:this.$t("m_saveSuccess")})}).catch(a=>{this.confirmDelete.loading=!1,console.log(a),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:a,type:"error"})})},noPlayerDeck(){this.confirmDelete={dialog:!0,msg:`No playerdeck. This happens because the game already knows your garage, so it doesn't download again.

To fix, upgrade any car, re-open the game again.

This will force the game to re-download the entire garage again, that is what you need.`,actionLabel:"Cancel",action:null,loading:!1,classe:"D_ButtonRed"}},openConfig(){this.configDialog=!0},privacySet(a){this.privacyModel!==a&&(this.privacyLoading=!0,axios.post(Vue.preUrl+"/garagePrivacy",{type:a,date:this.userGarage.date}).then(e=>{this.privacyModel=e.data,this.privacyLoading=!1}).catch(e=>{this.privacyLoading=!1,console.log(e),this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:e,type:"error"})}))},saveElo(){this.eloSaving=!0,this.userGarage.playerDeck=this.tdrFormatToUploadFormat(this.userGarage.playerDeck),this.save()},cancelElo(){this.raceQuotaInput=this.userGarage.raceQuota||500,this.eloScoreInput=this.userGarage.eloScore||0,this.garageSlotsInput=this.userGarage.garageSlots||0},tdrFormatToUploadFormat(a){return!a||a.length===0?[]:a[0].cardRecordId?a.map(e=>[e.cardRecordId,Vue.rn_to_rid.indexOf(e.rid),e.date.length===17?e.date.slice(2,13):e.date,e.tunZ!=="000"?e.tunZ:0,e.cW||0,e.cL||0,e.cD||0]):[]},tileClick(a,e){this.orderedKey=e,this.orderedSuffix=a.t[e].sf,this.orderedPrefix=a.t[e].pf,this.orderedSub=a.t[e].sf;let t={filter:a.filter,t:{[e]:[]}};a.requirePast&&(t.requirePast=!0),this.userGarage.playerDeck.map((s,o)=>{this.updateHLItem(t,s)}),t.t[e].sort((s,o)=>{if(e==="lessUseDay")return o.v!==s.v?s.v-o.v:o.used!==s.used?s.used-o.used:this.carOrder(s,o);if(o.v!==s.v)return o.v-s.v;if(e==="higherRQ")return this.carOrder(s,o);if(o.used!==s.used)return o.used-s.used}),t.t[e].splice(1e3,this.userGarage.playerDeck.length),t.t[e].map(s=>{s.id=s.car.id}),this.finishProcessPlayerDeckItemArray(t),this.orderedList=t.t[e],this.orderedDialog=!0},carOrder(a,e){return Vue.all_carsObj[a.car.rid].rq===Vue.all_carsObj[e.car.rid].rq?Vue.all_carsObj[a.car.rid].name.localeCompare(Vue.all_carsObj[e.car.rid].name):Vue.all_carsObj[e.car.rid].rq-Vue.all_carsObj[a.car.rid].rq},onUpdate(a,e,t,s){this.updateParts.viewStartIdx=a,this.updateParts.viewEndIdx=e,this.updateParts.visibleStartIdx=t,this.updateParts.visibleEndIdx=s},calcLink(){this.shareUrl=`${window.location.origin}/garage/${this.userId}`},copyUrl(){var a=document.getElementById("shareLinkGarage");a.select(),a.setSelectionRange(0,99999),navigator.clipboard.writeText(a.value),this.copyUrlSucess=!0,setTimeout(()=>{this.copyUrlSucess=!1},1500)},resetState(){this.userHighlights.map(a=>{a.divider||(a.touched=!1,a.r&&(a.r=new m),a.t&&(a.t=new n(a.requirePast)),a.tl&&(a.tl=Array.from({length:12},(e,t)=>new h(t))))}),this.resetOtherDiffStats(),this.userGarageByDate={},this.userGaragePast={}},fixDate(a){return a&&(a.length===13?`${a}:00Z`:a)},toggleTopEdit(){this.topEdit=!this.topEdit},updateYearPage(a){this.garageYear=Number(a),this.userHighlights.map(e=>{e.specialId&&(e.filter.newerThan&&(e.filter={...e.filter,newerThan:`${a}-01-01T00:00:00.000Z`,olderThan:`${a}-12-31T23:59:59.000Z`}),e.specialId==="myCarsYear"&&(e.title=`New in ${a}`),e.specialId==="myCarsYearTimeline"&&(e.title=`${a} Leggy Timeline`),e.specialId==="recap"&&(e.title=`${a} Recap`))})},initPastGarageCompare(){if(!this.userGaragePast||!this.userGaragePast.playerDeck)return;Object.keys(this.userGarageByDate).length===0&&this.transformNewGarageToDateObj(),this.userGarage.eloScore&&this.userGaragePast.eloScore&&(this.otherDiffStats.eloScore=this.userGarage.eloScore-this.userGaragePast.eloScore),this.userGarage.garageSlots&&this.userGaragePast.garageSlots&&(this.otherDiffStats.garageSlots=this.userGarage.garageSlots-this.userGaragePast.garageSlots);let a={};this.userGaragePast.playerDeck.map((e,t)=>{let s,o,d=e.date.slice(0,10),i=new Date(new Date(d).getTime()-24*60*60*1e3).toISOString().slice(0,10);[d,i].map(l=>{this.userGarageByDate[l]&&this.userGarageByDate[l].cars.map((r,u)=>{if(!e.cardRecordId&&r.rid===e.rid&&r.cD>=e.cD&&r.cL>=e.cL&&r.cW>=e.cW){if(s&&(a[`${r.rid}__${l}__${o}`]||(a[`${r.rid}__${l}__${o}`]=t)),a[`${r.rid}__${l}__${u}`])return;s=r,o=u}e.cardRecordId&&e.cardRecordId===r.cardRecordId&&(s=r,o=u)})}),s&&(s.inPast=!0,s.cDdiff=s.cD-e.cD,s.cLdiff=s.cL-e.cL,s.cWdiff=s.cW-e.cW,s.tunZ!==e.tunZ&&(s.oldTunZ=e.tunZ,s.oldTun=e.tun,s.tunZ.split("").reduce((l,r)=>Number(l)+Number(r),0)>=24&&(this.otherDiffStats.maxed[Vue.all_carsObj[s.rid].class].v++,this.otherDiffStats.maxed[Vue.all_carsObj[s.rid].class].cars.push(s)))),s||this.otherDiffStats.missingCars++}),this.userGaragePast.loaded=!0,this.userHighlights.map(e=>{e.requirePast&&(this.userGarage.playerDeck.map((t,s)=>{this.updateHLItem(e,t)}),this.finishProcessPlayerDeckItem(e))}),console.log("Missing cars",this.otherDiffStats.missingCars)},resetOtherDiffStats(){this.otherDiffStats={eloScore:0,garageSlots:0,garageSlotsUsed:0,newCars:0,missingCars:0,greatestDay:{},greatestDayFinal:null,S_prizes:new g,tags:{},maxed:{S:new g,A:new g,B:new g,C:new g,D:new g,E:new g,F:new g},new:{S:new g,A:new g,B:new g,C:new g,D:new g,E:new g,F:new g},missingFullCars:[]},this.otherDiffStats.tags={},Object.keys(Vue.tagsDate).map(a=>{Vue.tagsDate[a].startsWith(this.garageYear)&&(this.otherDiffStats.tags[a]=new g(!0))})},transformNewGarageToDateObj(){this.userGarageByDate={},this.userGarage.playerDeck.map(a=>{let e=a.date.slice(0,10);this.userGarageByDate[e]||(this.userGarageByDate[e]={date:e,cars:[]}),this.userGarageByDate[e].cars.push(a)})},computeCarToRecap(a){if(!a.date.startsWith(this.garageYear))return;let e=Vue.all_carsObj[a.rid],t=e.class;if(this.otherDiffStats.newCars++,this.otherDiffStats.new[t].v++,this.otherDiffStats.new[t].cars.push(a),a.tunZ.split("").reduce((s,o)=>Number(s)+Number(o),0)>=24&&(this.otherDiffStats.maxed[t].v++,this.otherDiffStats.maxed[t].cars.push(a)),t==="S"||t==="A"){let s=a.date.slice(0,10);this.otherDiffStats.greatestDay[s]||(this.otherDiffStats.greatestDay[s]=new g),this.otherDiffStats.greatestDay[s].v+=this.pointsPerRarity[t],this.otherDiffStats.greatestDay[s].cars.push(a)}e.prize&&t==="S"&&(this.otherDiffStats.S_prizes.v++,this.otherDiffStats.S_prizes.cars.push(a)),e.tags.map(s=>{this.otherDiffStats.tags[s]&&(this.otherDiffStats.tags[s].ridList.includes(a.rid)||(this.otherDiffStats.tags[s].ridList.push(a.rid),this.otherDiffStats.tags[s].v++,this.otherDiffStats.tags[s].cars.push(a)),!e.prize&&t==="S"&&this.otherDiffStats.tags[s].S.push(a))})},finishRecap(){let a=0,e=null;Object.keys(this.otherDiffStats.greatestDay).map(t=>{this.otherDiffStats.greatestDay[t].v>a&&(a=this.otherDiffStats.greatestDay[t].v,e=t)}),e&&(this.otherDiffStats.greatestDayFinal=this.otherDiffStats.greatestDay[e],this.otherDiffStats.greatestDayFinal.date=e,this.otherDiffStats.greatestDayFinal.cars.sort((t,s)=>Vue.all_carsObj[s.rid].rq-Vue.all_carsObj[t.rid].rq)),this.otherDiffStats.S_prizes.cars.sort((t,s)=>new Date(t.date)-new Date(s.date)),Object.keys(this.otherDiffStats.tags).map(t=>{this.otherDiffStats.tags[t].S&&this.otherDiffStats.tags[t].S.sort((s,o)=>Vue.all_carsObj[o.rid].rq-Vue.all_carsObj[s.rid].rq)})},pastRarityClick(a,e,t){this.otherDiffStats[t][e].cars.sort((s,o)=>new Date(s.date)-new Date(o.date)),this.rarityListArr=this.otherDiffStats[t][e].cars,this.rarityListDialog=!0,this.rarityDialogTitle=`${t==="new"?"New":"Maxed"} ${e} cars (${this.otherDiffStats[t][e].v})`,this.rarityDialogSub="Date acquired"},initAutoShare(){let a=this.userHighlights.find(e=>e.specialId==="recap");a&&(this.autoShareConfirmDialog=!1,this.autoShareRunning=!0,this.sharePrint(a))},loadPreviousYear(a){let e=this.garageYear-1;if(a&&(e=this.garageYear+1),this.user&&this.user.garageYears&&this.user.garageYears.includes(`${e}`)){this.resetState(),this.load(e),this.changeScreen("normal");return}this.resetState(),this.updateYearPage(e),this.processPlayerDeckStep2(),this.configDialog=!1},changeUploadType(a){this.uploadType=a},loadFile(a){let e=a.target.files[0],t=new FileReader;t.onload=this.onload,t.readAsText(e)},onload(a){let e=a.target.result,t=this.errorSwitchUploadFile(e);if(t){this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:t,type:"error"});return}let s=e.indexOf(",s[");e=e.substring(s+2),e.endsWith(`
`)&&(e=e.substring(0,e.length-1));let o;try{o=JSON.parse(e)}catch{this.$store.commit("DEFINE_SNACK",{active:!0,error:!0,text:"Not valid JSON",type:"error"});return}this.userGarage={date:new Date().toISOString(),region:this.userGarage.region||"-",registrationDate:"2000-01-01T00:00:00.000Z",raceQuota:500,eloScore:0,garageSlots:0,garageSlotsUsed:0,activeDaysCounter:0,platform:"android",totalGiftsClaimed:0},this.userGarage.playerDeck=this.processPlayerDeck(o),this.save()},errorSwitchUploadFile(a){return typeof a!="string"?"Not a string":a.substring(0,50).includes(",s[")?null:"Not valid file"}}};var ve=function(){var e=this,t=e._self._c;return t("div",{staticClass:"BaseMyGarage_Root"},[e.screen==="normal"?t("div",{staticClass:"BaseMyGarage_Layout",class:{MainTimeline_InitAnimation:e.animation}},[e.loading||e.lastestLoading?t("div",{staticClass:"BaseMyGarage_LoadingBox BaseMyGarage_HLBox"},[t("div",{staticClass:"BaseMyGarage_LoadingUsername"}),t("div",{staticClass:"BaseMyGarage_LoadingTitle"}),t("div",{staticClass:"BaseMyGarage_RarityStatsBox"},e._l(11,function(s){return t("div",{staticClass:"BaseMyGarage_RarityStatsItem"})}),0)]):[e.enableGiveAway&&e.userGarage&&e.userGarage.loaded&&e.editEnabled?t("div",{staticClass:"BaseMyGarage_EditBox BaseMyGarage_HLBox"},[t("div",{staticClass:"BaseMyGarage_ShareGiveaway"},[e.Vue.utils.giveawayUsers.includes(e.user.username)?[t("div",{staticClass:"BaseMyGarage_ShareText"},[e._v("âœ… You've entered the giveaway!")])]:[t("div",{staticClass:"BaseMyGarage_ShareText"},[e._v("ðŸŽ‰ Giveaway ðŸŽ‰")]),t("div",{staticClass:"BaseMyGarage_ShareText"},[t("BaseIconSvg",{staticStyle:{width:"1.3em",display:"inline-flex","vertical-align":"bottom"},attrs:{type:"gold",useMargin:!1}}),e._v(" 2000 in-game")],1),t("div",{staticClass:"BaseMyGarage_ShareTextSub"},[e._v("Share your garage to get a chance. Ends in "+e._s(e.daysLeft)+" days")]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 BaseMyGarage_TryAutoShare",attrs:{disabled:e.autoShareRunning||e.loading||e.loadingPastYear},on:{click:function(s){e.autoShareConfirmDialog=!0}}},[t("span",[e._v("Learn more")])])]],2)]):e._e(),e.userGarage&&e.userGarage.loaded&&e.editEnabled?t("div",{staticClass:"BaseMyGarage_EditBox BaseMyGarage_HLBox"},[t("div",{staticClass:"BaseMyGarage_EditBoxButtons"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonMenu BaseMyGarage_Camera",on:{click:function(s){e.calcLink(),e.openConfig()}}},[t("i",{staticClass:"ticon-gear Main_MenuIcon",attrs:{"aria-hidden":"true"}})]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonMenu BaseMyGarage_Camera",on:{click:function(s){return e.toggleTopEdit()}}},[t("i",{staticClass:"Main_MenuIcon",class:`ticon-${e.topEdit?"minus_2":"plus_2"}`,attrs:{"aria-hidden":"true"}})])])]):e._e(),t("div",{staticClass:"MainShowcase_SaveBar D_Center2"},[e.userId?e.userGarage&&e.userGarage.loaded||!e.editEnabled?t("div",{staticClass:"MainShowcase_TitleBox",class:`Main_UserT${e.Vue.utils.highlightsUsers[e.userId]}`},[t("BaseIconSvg",{attrs:{type:"laurel"}}),t("div",{staticClass:"MainShowcase_Title"},[e._v(e._s(e.loadedName||e.userId))]),e.userGarage.eloScore?t("div",{staticClass:"BaseMyGarage_UserBottom"},[t("div",{staticClass:"BaseMyGarage_UserBottomItem"},[t("i",{staticClass:"ticon-trophy",staticStyle:{"font-size":"0.9em"},attrs:{"aria-hidden":"true"}}),e._v(e._s(e.userGarage.eloScore))]),t("div",[e._v(" â€¢ ")]),t("div",{staticClass:"BaseMyGarage_UserBottomItem"},[e._v(e._s(e.userGarage.region))])]):e._e(),t("BaseIconSvg",{attrs:{type:"laurel"}})],1):e.editEnabled?t("button",{staticClass:"D_Button Main_SaveAllButton",on:{click:function(s){return e.changeScreen("upload")}}},[t("span",[e._v(e._s(e.$t("m_uploadMyGarage")))])]):e._e():t("button",{staticClass:"D_Button Main_LoginToEdit",on:{click:function(s){return e.$store.commit("OPEN_LOGIN")}}},[e._v(e._s(e.$t("m_login")))])]),e.userGarage&&e.userGarage.loaded&&e.topEdit?t("div",{staticClass:"D_Center2 BaseMyGarage_AddGroupBoxTop"},[t("button",{staticClass:"D_Button BaseMyGarage_AddGroupButton",on:{click:function(s){return e.yearSelector("group",!0)}}},[t("i",{staticClass:"ticon-plus_2 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",{},[e._v(e._s(e.$t("m_newGroup")))])]),t("button",{staticClass:"D_Button BaseMyGarage_AddGroupButton",on:{click:function(s){return e.yearSelector("timeline",!0)}}},[t("i",{staticClass:"ticon-plus_2 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",{},[e._v(e._s(e.$t("m_newTimeline")))])])]):e._e(),t("div",{staticClass:"BaseMyGarage_HLBox"},[t("DynamicScroller",{staticClass:"Main_DarkScroll",attrs:{items:e.userHighlightsFiltered,"min-item-size":600,buffer:800,"emit-update":!0,"key-field":"id",listClass:"BaseMyGarage_HlWrapper",itemClass:"BaseMyGarage_HLItem","page-mode":""},on:{update:e.onUpdate},scopedSlots:e._u([{key:"default",fn:function({item:s,index:o,active:d}){return[t("DynamicScrollerItem",{attrs:{item:s,active:d,"size-dependencies":[e.pngLoading],"data-index":o}},[s.divider?[t("div",{staticClass:"D_Center2"},[t("i",{staticClass:"ticon-line BaseMyGarage_HLItemDivider",attrs:{"aria-hidden":"true"}})])]:[t("div",{staticClass:"BaseMyGarage_FilterLayout"},[t("div",{staticClass:"BaseMyGarage_FilterBox"},[s.title?t("div",{staticClass:"BaseFilterDescription_Layout",class:{BaseMyGarage_FilterBoxSpecial:s.specialTitle}},[s.specialTitle?t("div",{staticClass:"BaseMyGarage_DividerBackLight",staticStyle:{"--light":"var(--d-text-yellow)"}}):e._e(),t("div",{staticClass:"BaseFilterDescription_Item"},[s.specialId==="recap"?t("button",{staticClass:"D_Button D_ButtonTransparent BaseMyGarage_RecapArrowButton",on:{click:function(i){return e.loadPreviousYear()}}},[t("i",{staticClass:"ticon-angle-left BaseMyGarage_RecapArrow",attrs:{"aria-hidden":"true"}})]):e._e(),t("div",{staticClass:"BaseFilterDescription_Value"},[e._v(e._s(s.title))]),s.specialId==="recap"?t("button",{staticClass:"D_Button D_ButtonTransparent BaseMyGarage_RecapArrowButton",on:{click:function(i){return e.loadPreviousYear(!0)}}},[t("i",{staticClass:"ticon-angle-right BaseMyGarage_RecapArrow",attrs:{"aria-hidden":"true"}})]):e._e()])]):Object.keys(s.filter).length===0?t("div",{staticClass:"BaseMyGarage_EmptyFilter"}):t("BaseFilterDescription",{attrs:{filter:s.filter,asFilterLabel:!0,hideIfEmpty:!1,showTitle:!1,emitDescResolved:!1}})],1),e.pngLoading?e._e():t("div",{staticClass:"BaseMyGarage_SideButtons"},[e.userGarage.loaded?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonMenu BaseMyGarage_Camera",on:{click:function(i){return e.sharePrint(s)}}},[t("i",{staticClass:"ticon-camera1 Main_MenuIcon",attrs:{"aria-hidden":"true"}})]):e._e(),s.canDelete?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonMenu BaseMyGarage_Camera",on:{click:function(i){return e.deleteHl(s)}}},[t("i",{staticClass:"ticon-trash Main_MenuIcon",attrs:{"aria-hidden":"true"}})]):e._e()])]),s.r?t("div",{staticClass:"BaseMyGarage_RarityStatsBox"},[e._l(s.r,function(i,l,r){return[t("div",{staticClass:"BaseMyGarage_RarityStatsItem"},[t("div",{staticClass:"BaseMyGarage_RarityStatsValue"},[t("div",{staticClass:"BaseMyGarage_RarityStatsValueT"},[e._v(e._s(i))])]),t("div",{staticClass:"BaseMyGarage_RarityStatsName"},[e._v(e._s(e.$tc(`m_${l}`,1)))])])]})],2):e._e(),s.specialId==="recap"?t("div",{staticClass:"BaseMyGarage_PastGarageStats"},[e.userGaragePast.loaded?t("div",{staticClass:"BaseMyGarage_PastTop BaseMyGarage_RarityStatsBox"},[t("div",{staticClass:"BaseMyGarage_PastTopItem BaseMyGarage_RarityStatsItem"},[t("div",{staticClass:"BaseMyGarage_RarityStatsValue"},[t("div",{staticClass:"BaseMyGarage_RarityStatsValueT BaseMyGarage_RarityStatsValueWithIcon"},[t("i",{staticClass:"ticon-trophy BaseMyGarage_StatValueIcon",staticStyle:{"font-size":"21px"},attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s((e.otherDiffStats.eloScore||"").toLocaleString()))])])]),t("div",{staticClass:"BaseMyGarage_RarityStatsName"},[e._v(e._s(e.$t("m_trophiesEarned")))])]),t("div",{staticClass:"BaseMyGarage_PastTopItem BaseMyGarage_RarityStatsItem"},[t("div",{staticClass:"BaseMyGarage_RarityStatsValue"},[t("div",{staticClass:"BaseMyGarage_RarityStatsValueT BaseMyGarage_RarityStatsValueWithIcon"},[t("i",{staticClass:"ticon-arrow_up_3 BaseMyGarage_StatValueIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.otherDiffStats.garageSlots))])])]),t("div",{staticClass:"BaseMyGarage_RarityStatsName"},[e._v(e._s(e.$t("m_slotsacquired")))])]),t("div",{staticClass:"BaseMyGarage_PastTopItem BaseMyGarage_RarityStatsItem"},[t("div",{staticClass:"BaseMyGarage_RarityStatsValue"},[t("div",{staticClass:"BaseMyGarage_RarityStatsValueT BaseMyGarage_RarityStatsValueWithIcon"},[t("i",{staticClass:"ticon-arrow_up_3 BaseMyGarage_StatValueIcon",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.otherDiffStats.newCars))])])]),t("div",{staticClass:"BaseMyGarage_RarityStatsName"},[e._v(e._s(e.$t("m_newCars")))])])]):e.loadingPastYear?t("div",{staticClass:"BaseMyGarage_PastTop BaseMyGarage_RarityStatsBox"},e._l(3,function(i){return t("div",{staticClass:"BaseMyGarage_PastTopItem BaseMyGarage_RarityStatsItem BaseMyGarage_RarityLoading"})}),0):e._e(),t("div",{staticClass:"BaseMyGarage_PastTop BaseMyGarage_RarityStatsBox"},e._l(e.otherDiffStats.tags,function(i,l,r){return t("div",{staticClass:"BaseMyGarage_PastTopItem BaseMyGarage_RarityStatsItem",staticStyle:{"justify-content":"center"}},[i.S.length?t("div",{staticClass:"BaseMyGarage_STagsList"},e._l(i.S,function(u){return t("BaseCardMiniButton",{attrs:{car:e.Vue.all_carsObj[u.rid]},on:{click:function(_){return e.T_S.miniCarClick(e.Vue.all_carsObj[u.rid])}}})}),1):e._e(),t("BaseGameTag",{staticClass:"BaseMyGarage_RarityTag",attrs:{tag:l}}),t("div",{staticClass:"BaseMyGarage_RarityStatsValue",staticStyle:{"min-height":"43px"}},[t("div",{staticClass:"BaseMyGarage_RarityStatsValueT BaseMyGarage_RarityStatsValueWithIcon"},[t("span",[e._v(e._s(i.v))])])]),t("div",{staticClass:"BaseMyGarage_RarityStatsName"},[e._v(e._s(e.$t("m_uniques")))])],1)}),0),e.otherDiffStats.S_prizes.cars&&e.otherDiffStats.S_prizes.cars.length?t("div",{staticClass:"BaseMyGarage_PastGreatestDayGroup"},[t("div",{staticClass:"BaseMyGarage_PastSub"},[e._v(e._s(e.$t("m_sPrizes"))+" ("+e._s(e.otherDiffStats.S_prizes.cars.length)+")")]),t("div",{staticClass:"BaseMyGarage_PastGreatestDayList"},e._l(e.otherDiffStats.S_prizes.cars,function(i){return t("BaseCardMiniButton",{attrs:{car:e.Vue.all_carsObj[i.rid]},on:{click:function(l){return e.T_S.miniCarClick(e.Vue.all_carsObj[i.rid])}}})}),1)]):e._e(),t("div",{staticClass:"BaseMyGarage_PastRarityGroup"},[t("div",{staticClass:"BaseMyGarage_PastSub"},[e._v(e._s(e.$t("m_newCars")))]),t("div",{staticClass:"BaseMyGarage_PastRarityBox"},e._l(e.otherDiffStats.new,function(i,l,r){return t("button",{staticClass:"D_Button BaseMyGarage_PastRarityItem",style:`--classC: var(--c${l});`,on:{click:function(u){return e.pastRarityClick(s,l,"new")}}},[t("div",{staticClass:"BaseMyGarage_PastRarityName"},[e._v(e._s(l))]),t("div",{staticClass:"BaseMyGarage_PastRarityValue"},[e._v(e._s(i.v))])])}),0)]),t("div",{staticClass:"BaseMyGarage_PastRarityGroup",staticStyle:{"margin-bottom":"30px"}},[t("div",{staticClass:"BaseMyGarage_PastSub"},[e._v(e._s(e.userGaragePast.loaded?e.$t("m_carsMaxed"):e.$t("m_newCarsMaxed")))]),t("div",{staticClass:"BaseMyGarage_PastRarityBox"},e._l(e.otherDiffStats.maxed,function(i,l,r){return t("button",{staticClass:"D_Button BaseMyGarage_PastRarityItem",style:`--classC: var(--c${l});`,on:{click:function(u){return e.pastRarityClick(s,l,"maxed")}}},[t("div",{staticClass:"BaseMyGarage_PastRarityName"},[e._v(e._s(l))]),t("div",{staticClass:"BaseMyGarage_PastRarityValue"},[e._v(e._s(i.v))])])}),0)]),e.otherDiffStats.greatestDayFinal?t("div",{staticClass:"BaseMyGarage_PastGreatestDayGroup"},[t("div",{staticClass:"BaseMyGarage_PastSub"},[e._v(e._s(e.$t("m_greatestDay"))+": "+e._s(e.otherDiffStats.greatestDayFinal.date))]),t("div",{staticClass:"BaseMyGarage_PastGreatestDayList"},e._l(e.otherDiffStats.greatestDayFinal.cars,function(i){return t("BaseCardMiniButton",{attrs:{car:e.Vue.all_carsObj[i.rid]},on:{click:function(l){return e.T_S.miniCarClick(e.Vue.all_carsObj[i.rid])}}})}),1)]):e._e(),s.t?t("div",{staticClass:"BaseMyGarage_PastSub"},[e._v(e._s(e.$t("m_highlights")))]):e._e()]):e._e(),s.t?t("div",{staticClass:"BaseMyGarage_RarityStatsBox BaseMyGarage_RarityStatsBoxCars"},[e._l(s.t,function(i,l,r){return[t("button",{staticClass:"BaseMyGarage_RarityStatsItem BaseMyGarage_RarityStatsButton",on:{click:function(u){return e.tileClick(s,l)}}},[t("div",{staticClass:"BaseMyGarage_RarityStatsCard"},[i.car.rid?t("BaseCardGallery",{staticClass:"BaseMyGarage_GalleryCard",attrs:{car:e.Vue.all_carsObj[i.car.rid],options:!1,tuneText:i.car.tun||i.car.tunZ}}):t("div",{staticClass:"BaseMyGarage_CarPlaceHolder Row_DialogCardCard2"},[t("i",{staticClass:"ticon-line",attrs:{"aria-hidden":"true"}})])],1),t("div",{staticClass:"BaseMyGarage_RarityStatsValue"},[t("div",{staticClass:"BaseMyGarage_RarityStatsValueT"},[e._v(e._s(i.pf)+e._s(typeof i.v=="string"?i.v:i.v%1!=0?i.v>=100?Math.round(i.v):Math.round(i.v*10)/10:i.v)+e._s(i.sf))]),i.sub?t("div",{staticClass:"BaseMyGarage_RarityStatsSub"},[e._v(e._s(i.sub))]):e._e()]),t("div",{staticClass:"BaseMyGarage_RarityStatsName"},[e._v(e._s(e.$tc(`m_${l}`,1)))])])]})],2):e._e(),s.tl?t("div",{staticClass:"BaseMyGarage_TimelineBox"},e._l(s.tl,function(i){return t("div",{staticClass:"BaseMyGarage_TimelineItem"},[t("div",{staticClass:"BaseMyGarage_MonthLeft"},[e._v(e._s(new Date(2024,i.monthIndex,1).toLocaleString("default",{month:"short"})))]),e.pngLoading?t("div",{staticClass:"BaseMyGarage_MonthRight"},[t("div",{staticClass:"BaseMyGarage_MonthMid"},[i.cars.length>70?t("div",{staticClass:"BaseMyGarage_MonthTooMany"},[t("div",{staticClass:"BaseMyGarage_MonthTooManyText"},[e._v(e._s(e.$t("m_tooManyCars"))+" ("+e._s(i.cars.length)+")")])]):e._l(i.cars,function(l){return t("div",{staticClass:"MainFindCar_CarCard",class:{BaseMyGarage_MonthTop:e.Vue.all_carsObj[l.rid].prize},style:`--color: ${e.Vue.all_carsObj[l.rid].color}`},[t("div",{staticClass:"MainFindCar_BankPhoto"},[t("img",{staticClass:"MainFindCar_BankPhotoImg",attrs:{src:e.Vue.all_carsObj[l.rid].photo,loading:"lazy",alt:""}})]),t("div",{staticClass:"MainFindCar_RQ"},[e._v(e._s(e.Vue.all_carsObj[l.rid].rq))])])})],2)]):t("div",{staticClass:"BaseMyGarage_MonthRight"},[t("div",{staticClass:"BaseMyGarage_MonthMid"},[i.cars.length>70?t("div",{staticClass:"BaseMyGarage_MonthTooMany"},[t("div",{staticClass:"BaseMyGarage_MonthTooManyText"},[e._v(e._s(e.$t("m_tooManyCars"))+" ("+e._s(i.cars.length)+")")])]):e._l(i.cars,function(l){return t("BaseCardGallery",{staticClass:"BaseMyGarage_GalleryCard",class:{BaseMyGarage_MonthTop:e.Vue.all_carsObj[l.rid].prize},attrs:{ad:`${(l.date||"").slice(0,13)}`,car:e.Vue.all_carsObj[l.rid],options:!1}})})],2)])])}),0):e._e()]],2)]}}],null,!1,3843134332)})],1),e.userGarage&&e.userGarage.loaded?t("div",{staticClass:"D_Center2 BaseMyGarage_AddGroupBox"},[t("button",{staticClass:"D_Button BaseMyGarage_AddGroupButton",on:{click:function(s){return e.yearSelector("group")}}},[t("i",{staticClass:"ticon-plus_2 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",{},[e._v(e._s(e.$t("m_newGroup")))])]),t("button",{staticClass:"D_Button BaseMyGarage_AddGroupButton",on:{click:function(s){return e.yearSelector("timeline")}}},[t("i",{staticClass:"ticon-plus_2 D_ButtonIcon",attrs:{"aria-hidden":"true"}}),t("span",{},[e._v(e._s(e.$t("m_newTimeline")))])])]):e._e()]],2):e.screen==="upload"?t("div",{staticClass:"BaseMyGarage_UploadLayout",class:{MainTimeline_InitAnimation:e.animation}},[t("div",{staticClass:"BaseMyGarage_UploadMid Space_TopPlus"},[t("BaseMyGarageTutorial",{staticClass:"BaseMyGarage_Tutorial",on:{file:function(s){return e.changeUploadType("file")},home:function(s){return e.changeUploadType("home")},response:function(s){return e.changeUploadType("response")}}}),t("div",{staticClass:"BaseMyGarage_UploadMethodsBox"},[e.uploadType!=="response"?t("div",{staticClass:"BaseMyGarage_UploadLeft"},[t("label",{staticClass:"D_Button BaseMyGarage_BigUpload",class:{D_Button_Loading:e.loading}},[t("input",{staticStyle:{display:"none"},attrs:{type:"file",accept:".dat"},on:{change:function(s){return e.loadFile(s)}}}),t("span",[e._v("Upload Garage.dat")])])]):e._e(),e._m(0),e.uploadType!=="file"?t("div",{staticClass:"BaseMyGarage_UploadRight"},[t("div",{staticClass:"BaseMyGarage_TextBox"},[t("div",{staticClass:"BaseText_Label"},[e._v("Response body of /api/game/v3/sync/")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.responseText,expression:"responseText"}],staticClass:"Main_TextArea data-hj-allow",attrs:{rows:"8",placeholder:"Paste here...",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},domProps:{value:e.responseText},on:{paste:function(s){return e.interceptPaste(s)},input:function(s){s.target.composing||(e.responseText=s.target.value)}}})]),t("div",{staticClass:"BaseMyGarage_Submit D_Center2"},[t("button",{staticClass:"D_Button Main_SaveAllButton",class:{D_Button_Loading:e.loading},attrs:{disabled:!e.responseText},on:{click:function(s){return e.validateText()}}},[t("span",[e._v(e._s(e.$t("m_submit")))])])])]):e._e()])],1),t("div",{staticClass:"D_Center2 Space_TopPlus"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Loading:e.loading},on:{click:function(s){return e.changeScreen("normal")}}},[t("span",[e._v(e._s(e.$t("m_cancel")))])])]),t("div",{staticStyle:{"padding-bottom":"50px"}})]):e._e(),t("BaseFilterDialog",{ref:"myGarageFilter",attrs:{filterOnly:!0,config:{customTags:!1,tunes:!0,garage:!0},importFilterName:"MYGARAGE_INTERNALFILTER_IMPORT",ridsMutationName:"FILTER_PACKS_LIMITS"},on:{clearFilterUpdate:function(s){return e.newGroupFinish(s)}},model:{value:e.myGarageFilterDialog,callback:function(s){e.myGarageFilterDialog=s},expression:"myGarageFilterDialog"}}),t("BaseDialog",{attrs:{active:e.confirmDelete.dialog,transparent:!1,lazy:!0,zindex:"101","max-width":"420px","min-width":"240px"},on:{close:function(s){e.confirmDelete.dialog=!1}}},[t("div",{staticStyle:{}},[t("div",{staticClass:"Main_DialogMessage",staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(e.confirmDelete.msg))]),t("div",{staticClass:"Main_DialogBottom"},[t("button",{staticClass:"D_Button Main_OptionsButton",on:{click:function(s){e.confirmDelete.dialog=!1}}},[t("span",[e._v(e._s(e.$t("m_cancel")))])]),e.confirmDelete.action?t("button",{staticClass:"D_Button Main_OptionsButton",class:`${e.confirmDelete.loading?"D_Button_Loading ":""}${e.confirmDelete.classe}`,attrs:{disabled:e.confirmDelete.loading},on:{click:e.confirmDelete.action}},[t("span",[e._v(e._s(e.confirmDelete.actionLabel))])]):e._e()])])]),t("BaseDialog",{attrs:{active:e.configDialog,transparent:!1,lazy:!0,"max-width":"420px","min-width":"240px"},on:{close:function(s){e.configDialog=!1}}},[t("div",{staticClass:"BaseMyGarage_ConfigDialogBox"},[t("div",{staticClass:"Main_DialogTitle",staticStyle:{"margin-bottom":"30px"}},[e._v(e._s(e.$t("m_myGarage")))]),t("div",{staticClass:"BaseMyGarage_ConfigDialogTop"},e._l(e.privacyList,function(s){return t("div",{staticClass:"BaseMyGarage_PrivacyItem"},[t("BaseSwitch",{attrs:{value:e.privacyModel===s,label:e.$t(`m_${s}`),horizontal:!0,disabled:e.privacyLoading,loading:e.privacyLoading},on:{click:function(o){return e.privacySet(s)}}}),t("div",{staticClass:"BaseMyGarage_DialogSubmitTypeSub"},[e._v(e._s(e.$t(`p_${s}GarageDesc`)))])],1)}),0),e.current&&e.isGarageDat?t("div",{staticClass:"BaseMyGarage_ConfigDialogFooter D_Center2",staticStyle:{"margin-top":"40px"}},[t("BaseText",{staticClass:"BaseText_Big",attrs:{loading:e.privacyLoading,type:"integer",label:"RQ",placeholder:""},model:{value:e.raceQuotaInput,callback:function(s){e.raceQuotaInput=s},expression:"raceQuotaInput"}}),t("BaseText",{staticClass:"BaseText_Big",attrs:{loading:e.privacyLoading,type:"integer",label:e.$t("m_trophyCount"),placeholder:""},model:{value:e.eloScoreInput,callback:function(s){e.eloScoreInput=s},expression:"eloScoreInput"}}),t("BaseText",{staticClass:"BaseText_Big",attrs:{loading:e.privacyLoading,type:"integer",label:e.$t("m_garageSlots"),placeholder:""},model:{value:e.garageSlotsInput,callback:function(s){e.garageSlotsInput=s},expression:"garageSlotsInput"}})],1):e._e(),e.current&&e.needSaveElo?t("div",{staticClass:"BaseMyGarage_ConfigDialogFooter D_Center2",staticStyle:{"margin-top":"40px","min-height":"40px"}},[t("button",{staticClass:"D_Button D_ButtonDark",on:{click:function(s){return e.cancelElo()}}},[t("span",[e._v(e._s(e.$t("m_cancel")))])]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDarkSave",on:{click:function(s){return e.saveElo()}}},[t("span",[e._v(e._s(e.$t("m_save")))])])]):e.current?t("div",{staticClass:"BaseMyGarage_ConfigDialogFooter D_Center2",staticStyle:{"margin-top":"40px","min-height":"40px"}},[t("button",{staticClass:"D_Button Main_SaveAllButton",on:{click:function(s){return e.changeScreen("upload")}}},[t("i",{staticClass:"ticon-refresh_3 D_ButtonIcon D_ButtonIcon24",attrs:{"aria-hidden":"true"}}),t("span",[e._v(e._s(e.$t("m_updateGarage")))])])]):e._e(),t("div",{staticClass:"BaseMyGarage_ConfigDialogFooter D_Center2 Space_TopGiga"},[t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2 D_ButtonRed",on:{click:function(s){return e.askDelete()}}},[t("span",[e._v(e._s(e.$t("m_delete"))+": "+e._s(e.garageYear))])])]),t("div",{staticClass:"BaseMyGarage_ShareLink Space_TopGiga"},[t("div",{staticClass:"Main_DialogTitle"},[e._v(e._s(e.$t("m_sharableLink")))]),t("div",{staticClass:"Main_ShareLinkBox"},[t("textarea",{staticClass:"Main_ShareLinkInput data-hj-allow",attrs:{id:"shareLinkGarage",rows:"3",readonly:"readonly"},domProps:{value:e.privacyModel==="public"?e.shareUrl:"Private"}}),e._v(" "),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",class:{D_Button_Correct:e.copyUrlSucess},staticStyle:{"font-size":"16px"},attrs:{disabled:e.copyUrlSucess},on:{click:function(s){return e.copyUrl()}}},[e._v(e._s(e.$t("m_copy")))])])])])]),t("BaseDialog",{attrs:{active:e.yearDialog,transparent:!1,lazy:!0,"max-width":"420px","min-width":"240px"},on:{close:function(s){e.yearDialog=!1}}},[t("div",{staticClass:"BaseMyGarage_ConfigDialogBox"},[t("div",{staticClass:"Main_DialogTitle",staticStyle:{"margin-bottom":"30px"}},[e._v(e._s(e.$t("m_addedYear")))]),t("div",{staticClass:"D_Center2 Space_TopGiga",staticStyle:{"flex-wrap":"wrap"}},[e._l(e.yearList,function(s){return t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",on:{click:function(o){return e.confirmYear(s)}}},[t("span",[e._v(e._s(s))])])}),e.newGroupType==="group"?t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",on:{click:function(s){return e.confirmYear("all")}}},[t("span",[e._v("All")])]):e._e()],2)])]),t("BaseDialog",{attrs:{active:e.orderedDialog,transparent:!1,lazy:!0,"max-width":"420px","min-width":"240px"},on:{close:function(s){e.orderedDialog=!1}}},[e.orderedKey?t("div",{staticClass:"BaseMyGarage_OrderedLayout"},[t("div",{staticClass:"BaseMyGarage_OrderedHeader"},[t("div",{staticClass:"Main_DialogTitle"},[e._v(e._s(e.$tc(`m_${e.orderedKey}`,1)))])]),t("RecycleScroller",{staticClass:"Main_DarkScroll",attrs:{items:e.orderedList,"item-size":111,buffer:800,"key-field":"id",listClass:"BaseMyGarage_CardsWrapper",itemClass:"BaseMyGarage_ScrollerItem","page-mode":""},scopedSlots:e._u([{key:"default",fn:function({item:s,index:o,active:d}){return[t("div",{staticClass:"BaseMyGarage_ListLayout"},[t("div",{staticClass:"BaseMyGarage_VerticalCardBox"},[t("BaseCardGallery",{staticClass:"BaseMyGarage_GalleryCard",attrs:{car:e.Vue.all_carsObj[s.car.rid],options:!1,tuneText:s.car.tun||s.car.tunZ}})],1),t("div",{staticClass:"BaseMyGarage_OrderedRight"},[t("div",{staticClass:"BaseMyGarage_OrderedCount"},[e._v("#"+e._s(o+1))]),t("div",{staticClass:"BaseMyGarage_RarityStatsValue"},[t("div",{staticClass:"BaseMyGarage_RarityStatsValueT"},[e._v(e._s(e.orderedPrefix)+e._s(typeof s.v=="string"?s.v:s.v%1!=0?s.v>=100?Math.round(s.v):Math.round(s.v*10)/10:s.v)+e._s(e.orderedSuffix))]),s.sub?t("div",{staticClass:"BaseMyGarage_RarityStatsSub"},[e._v(e._s(s.sub))]):e._e()])])])]}}],null,!1,549334145)})],1):e._e()]),t("BaseDialog",{attrs:{active:e.rarityListDialog,transparent:!1,lazy:!0,"max-width":"420px","min-width":"240px"},on:{close:function(s){e.rarityListDialog=!1}}},[t("div",{staticClass:"BaseMyGarage_OrderedLayout"},[t("div",{staticClass:"BaseMyGarage_OrderedHeader"},[t("div",{staticClass:"Main_DialogTitle"},[e._v(e._s(e.rarityDialogTitle))])]),t("RecycleScroller",{staticClass:"Main_DarkScroll",attrs:{items:e.rarityListArr,"item-size":111,buffer:800,"key-field":"id",listClass:"BaseMyGarage_CardsWrapper",itemClass:"BaseMyGarage_ScrollerItem","page-mode":""},scopedSlots:e._u([{key:"default",fn:function({item:s,index:o,active:d}){return[t("div",{staticClass:"BaseMyGarage_ListLayout"},[t("div",{staticClass:"BaseMyGarage_VerticalCardBox"},[t("BaseCardGallery",{staticClass:"BaseMyGarage_GalleryCard",attrs:{car:e.Vue.all_carsObj[s.rid],options:!1,tuneText:s.tun||s.tunZ}})],1),t("div",{staticClass:"BaseMyGarage_OrderedRight"},[t("div",{staticClass:"BaseMyGarage_OrderedCount"},[e._v("#"+e._s(o+1))]),t("div",{staticClass:"BaseMyGarage_RarityStatsValue"},[t("div",{staticClass:"BaseMyGarage_RarityStatsValueT",staticStyle:{"font-size":"25px"}},[e._v(e._s(s.date.slice(0,10)))]),t("div",{staticClass:"BaseMyGarage_RarityStatsSub",staticStyle:{opacity:"0.3","margin-top":"3px"}},[e._v(e._s(e.rarityDialogSub))])])])])]}}])})],1)]),e.enableGiveAway?t("BaseDialog",{attrs:{active:e.autoShareConfirmDialog,transparent:!1,lazy:!0,"max-width":"420px","min-width":"240px"},on:{close:function(s){e.autoShareConfirmDialog=!1}}},[t("div",{staticClass:"BaseMyGarage_ShareDialogBox"},[t("div",{staticClass:"BaseMyGarage_ShareText",staticStyle:{"font-size":"1.5em"}},[e._v("ðŸŽ‰ Giveaway ðŸŽ‰")]),t("div",{staticClass:"BaseMyGarage_ShareGroup"},[t("div",{staticClass:"BaseMyGarage_ShareText"},[t("BaseIconSvg",{staticStyle:{width:"1.3em",display:"inline-flex","vertical-align":"bottom"},attrs:{type:"gold",useMargin:!1}}),e._v(" 2000 in-game")],1),t("div",{staticClass:"BaseMyGarage_ShareText"},[e._v("1 month of "),t("span",{staticStyle:{color:"var(--t2)"}},[e._v("TDR Premium")])])]),t("div",{staticClass:"BaseMyGarage_ShareGroup"},[t("div",{staticClass:"BaseMyGarage_ShareDialogText"},[e._v("Share your garage to get a chance")]),t("div",{staticClass:"BaseMyGarage_ShareDialogText"},[e._v("Ends in "+e._s(e.daysLeft)+" days")])]),t("div",{staticClass:"BaseMyGarage_ShareTextSub"},[e._v("The button below will take a print of your 2025 Recap and share it on TDR Discord automatically, but feel free to share by yourself.")]),t("button",{staticClass:"D_Button D_ButtonDark D_ButtonDark2",attrs:{disabled:e.autoShareRunning||e.loading||e.loadingPastYear},on:{click:function(s){return e.initAutoShare()}}},[t("span",[e._v("Auto share")])])])]):e._e(),e.enableGiveAway?t("BaseDialog",{attrs:{active:e.viewMyShareDialog,transparent:!1,lazy:!0,"max-width":"420px","min-width":"240px"},on:{close:function(s){e.viewMyShareDialog=!1}}},[t("div",{staticClass:"BaseMyGarage_ShareDialogBox"},[t("i",{staticClass:"ticon-correct_1 BaseMyGarage_ShareDialogIcon",attrs:{"aria-hidden":"true"}}),t("div",{staticClass:"BaseMyGarage_ShareDialogText"},[e._v("You've entered the giveaway!")]),t("div",{staticClass:"BaseMyGarage_ShareDialogText"},[e._v("Take a look at your share:")]),t("BaseDiscordButton",{staticStyle:{"margin-top":"20px"},attrs:{link:"https://discord.com/channels/1008569974094311544/1449094050820132945"}})],1)]):e._e()],1)},me=[function(){var a=this,e=a._self._c;return e("div",{staticClass:"BaseMyGarage_UploadDivisor"},[e("div",{staticClass:"BaseMyGarage_UploadDivisorLine"}),e("div",{staticClass:"BaseMyGarage_UploadDivisorText"},[a._v("or")]),e("div",{staticClass:"BaseMyGarage_UploadDivisorLine"})])}],Be=B(ye,ve,me,!1,null,null);const Se=Be.exports;export{Se as default};
